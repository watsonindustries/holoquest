import{e as Se,c as Ee}from"../chunks/stamps.BWAakG3O.js";import{j as be,s as Q,d as ne,a as se,n as j,c as Ie,o as ve,r as Ce}from"../chunks/scheduler.CJajW1xV.js";import{S as W,i as Z,e as b,s as M,t as H,c as v,f as T,d as m,b as N,j as O,l as d,G as V,n as A,m as p,p as ee,u as oe,B as z,g as U,y as C,o as te,v as J,w as K,x as X,z as L,A as $,E as le,C as ae,L as ye,q as Te}from"../chunks/index.CvYtFKAi.js";import{e as de}from"../chunks/each.D6YF6ztN.js";import{f as F,c as Ae,a as we}from"../chunks/index.wPkFFqRY.js";import{G as R}from"../chunks/custom.DgUHssZa.js";import{h as re}from"../chunks/const.DxW3jyZr.js";import{n as De}from"../chunks/store.DkbYc01Y.js";import{I as Pe,Q as xe}from"../chunks/index.lMUct1XB.js";const Le=!1,je=async()=>({stamps:Object.values(be(Se))}),ft=Object.freeze(Object.defineProperty({__proto__:null,load:je,ssr:Le},Symbol.toStringTag,{value:"Module"}));function Ge(a){let e,t,l,n,o,s,u,c,i,r,f,h;return{c(){e=b("a"),t=b("div"),l=b("div"),n=b("div"),o=b("div"),s=b("img"),i=M(),r=b("div"),f=H(a[1]),this.h()},l(y){e=v(y,"A",{href:!0});var E=T(e);t=v(E,"DIV",{class:!0});var w=T(t);l=v(w,"DIV",{class:!0});var D=T(l);n=v(D,"DIV",{class:!0});var k=T(n);o=v(k,"DIV",{class:!0});var Y=T(o);s=v(Y,"IMG",{src:!0,alt:!0,class:!0}),Y.forEach(m),k.forEach(m),D.forEach(m),i=N(w),r=v(w,"DIV",{class:!0});var _=T(r);f=O(_,a[1]),_.forEach(m),w.forEach(m),E.forEach(m),this.h()},h(){ne(s.src,u=a[4])||d(s,"src",u),d(s,"alt",a[1]),d(s,"class","h-20 w-20 rounded-full"),V(s,"opacity-30",!a[2]),d(o,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(n,"class","flex h-24 w-24 items-center justify-center rounded-full"),d(l,"class",c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),V(r,"font-bold",a[2]),d(t,"class","flex flex-col items-center"),d(e,"href",a[3])},m(y,E){A(y,e,E),p(e,t),p(t,l),p(l,n),p(n,o),p(o,s),p(t,i),p(t,r),p(r,f)},p(y,[E]){a=y,E&16&&!ne(s.src,u=a[4])&&d(s,"src",u),E&2&&d(s,"alt",a[1]),E&4&&V(s,"opacity-30",!a[2]),E&4&&c!==(c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&d(l,"class",c),E&2&&ee(f,a[1]),E&4&&V(r,"font-bold",a[2]),E&8&&d(e,"href",a[3])},i(y){h||se(()=>{h=oe(t,F,{duration:a[5],delay:150*a[0]+500}),h.start()})},o:j,d(y){y&&m(e)}}}const Ve="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function Me(a,e,t){let{id:l}=e,{name:n}=e,{collected:o=!1}=e,{navURL:s=`/partner/${l}`}=e,{img:u=Ve}=e;const c=100;return a.$$set=i=>{"id"in i&&t(0,l=i.id),"name"in i&&t(1,n=i.name),"collected"in i&&t(2,o=i.collected),"navURL"in i&&t(3,s=i.navURL),"img"in i&&t(4,u=i.img)},[l,n,o,s,u,c]}class Ne extends W{constructor(e){super(),Z(this,e,Me,Ge,Q,{id:0,name:1,collected:2,navURL:3,img:4,fadeDuration:5})}get fadeDuration(){return this.$$.ctx[5]}}function Ye(a){let e,t=a[1]&&me(a);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,n){t&&t.m(l,n),A(l,e,n)},p(l,n){l[1]?t?(t.p(l,n),n&2&&C(t,1)):(t=me(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){C(t)},o:j,d(l){l&&m(e),t&&t.d(l)}}}function Re(a){let e,t,l,n="Warming up the gacha...";return{c(){e=b("span"),t=M(),l=b("p"),l.textContent=n,this.h()},l(o){e=v(o,"SPAN",{class:!0}),T(e).forEach(m),t=N(o),l=v(o,"P",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-16bujl6"&&(l.textContent=n),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(o,s){A(o,e,s),A(o,t,s),A(o,l,s)},p:j,i:j,o:j,d(o){o&&(m(e),m(t),m(l))}}}function He(a){let e,t="Play Gacha",l,n;return{c(){e=b("button"),e.textContent=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1vmmgpv"&&(e.textContent=t),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,s){A(o,e,s),l||(n=te(e,"click",a[3]),l=!0)},p:j,i:j,o:j,d(o){o&&m(e),l=!1,n()}}}function me(a){let e,t,l,n,o,s,u,c,i,r,f=a[1].english_name+"",h,y,E,w,D=a[1].group+"",k,Y,_,g,I,S,G;return{c(){e=b("div"),t=b("figure"),l=b("img"),s=M(),u=b("div"),c=b("h2"),i=H(a[2]),r=H(" got "),h=H(f),y=H("!"),E=M(),w=b("p"),k=H(D),Y=M(),_=b("div"),g=b("a"),I=H("Explore Channel"),this.h()},l(P){e=v(P,"DIV",{class:!0});var x=T(e);t=v(x,"FIGURE",{});var ie=T(t);l=v(ie,"IMG",{src:!0,alt:!0}),ie.forEach(m),s=N(x),u=v(x,"DIV",{class:!0});var q=T(u);c=v(q,"H2",{class:!0});var B=T(c);i=O(B,a[2]),r=O(B," got "),h=O(B,f),y=O(B,"!"),B.forEach(m),E=N(q),w=v(q,"P",{class:!0});var ce=T(w);k=O(ce,D),ce.forEach(m),Y=N(q),_=v(q,"DIV",{class:!0});var fe=T(_);g=v(fe,"A",{class:!0,href:!0});var ue=T(g);I=O(ue,"Explore Channel"),ue.forEach(m),fe.forEach(m),q.forEach(m),x.forEach(m),this.h()},h(){ne(l.src,n=a[1].photo)||d(l,"src",n),d(l,"alt",o=a[1].english_name),d(c,"class","card-title text-xl text-slate-100"),d(w,"class","text-slate-100"),d(g,"class","btn-secondary btn rounded-full text-slate-50"),d(g,"href",S="https://holodex.net/channel/"+a[1].id+"/clips"),d(_,"class","card-actions justify-end"),d(u,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(P,x){A(P,e,x),p(e,t),p(t,l),p(e,s),p(e,u),p(u,c),p(c,i),p(c,r),p(c,h),p(c,y),p(u,E),p(u,w),p(w,k),p(u,Y),p(u,_),p(_,g),p(g,I)},p(P,x){x&2&&!ne(l.src,n=P[1].photo)&&d(l,"src",n),x&2&&o!==(o=P[1].english_name)&&d(l,"alt",o),x&4&&ee(i,P[2]),x&2&&f!==(f=P[1].english_name+"")&&ee(h,f),x&2&&D!==(D=P[1].group+"")&&ee(k,D),x&2&&S!==(S="https://holodex.net/channel/"+P[1].id+"/clips")&&d(g,"href",S)},i(P){G||se(()=>{G=oe(e,F,{delay:500}),G.start()})},o:j,d(P){P&&m(e)}}}function Oe(a){let e,t="Thank you!",l,n,o="You have completed the quest!",s,u;function c(f,h){if(f[0]===R.NOT_PLAYED)return He;if(f[0]===R.PLAYING)return Re;if(f[0]===R.PLAYED)return Ye}let i=c(a),r=i&&i(a);return{c(){e=b("h1"),e.textContent=t,l=M(),n=b("h2"),n.textContent=o,s=M(),r&&r.c(),u=z(),this.h()},l(f){e=v(f,"H1",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-dyvikd"&&(e.textContent=t),l=N(f),n=v(f,"H2",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1bboxj2"&&(n.textContent=o),s=N(f),r&&r.l(f),u=z(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(n,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(f,h){A(f,e,h),A(f,l,h),A(f,n,h),A(f,s,h),r&&r.m(f,h),A(f,u,h)},p(f,[h]){i===(i=c(f))&&r?r.p(f,h):(r&&r.d(1),r=i&&i(f),r&&(r.c(),C(r,1),r.m(u.parentNode,u)))},i(f){C(r)},o:j,d(f){f&&(m(e),m(l),m(n),m(s),m(u)),r&&r.d(f)}}}const qe=3e3;function ze(a,e,t){let l;Ie(a,De,i=>t(2,l=i));let n=R.NOT_PLAYED,o,s;function u(){const r=re.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,n=R.PLAYING),setTimeout(()=>{t(4,s=u()),t(1,o=re[s]),t(0,n=R.PLAYED)},qe)}return ve(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,n=R.PLAYED),t(4,s=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=re[s]))}),a.$$.update=()=>{a.$$.dirty&17&&n===R.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",s.toString()))},[n,o,l,c,s]}class Ue extends W{constructor(e){super(),Z(this,e,ze,Oe,Q,{})}}function Be(a){let e,t,l;return t=new Pe({props:{src:xe,theme:"solid",class:"p-1 align-middle"}}),{c(){e=b("a"),J(t.$$.fragment),this.h()},l(n){e=v(n,"A",{id:!0,href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var o=T(e);K(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"id","scanner"),d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn-circle fixed bottom-6 right-6 z-50 flex h-20 w-20 items-center justify-center rounded-full p-2 align-middle font-bold text-base-100 shadow-lg"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(n,o){A(n,e,o),X(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&m(e),$(t)}}}class Fe extends W{constructor(e){super(),Z(this,e,null,Be,Q,{})}}function he(a,e,t){const l=a.slice();return l[14]=e[t],l}function Qe(a){let e,t;return e=new Fe({}),{c(){J(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){X(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function We(a){let e,t="Show sheet to staff at the booth!";return{c(){e=b("h2"),e.textContent=t,this.h()},l(l){e=v(l,"H2",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1q7ltwa"&&(e.textContent=t),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,n){A(l,e,n)},i:j,o:j,d(l){l&&m(e)}}}function _e(a){let e,t,l,n,o=de(a[0]),s=[];for(let c=0;c<o.length;c+=1)s[c]=ge(he(a,o,c));const u=c=>L(s[c],1,1,()=>{s[c]=null});return{c(){e=b("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var i=T(e);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(m),this.h()},h(){d(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,i){A(c,e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);n=!0},p(c,i){if(a=c,i&3){o=de(a[0]);let r;for(r=0;r<o.length;r+=1){const f=he(a,o,r);s[r]?(s[r].p(f,i),C(s[r],1)):(s[r]=ge(f),s[r].c(),C(s[r],1),s[r].m(e,null))}for(le(),r=o.length;r<s.length;r+=1)u(r);ae()}},i(c){if(!n){for(let i=0;i<o.length;i+=1)C(s[i]);se(()=>{n&&(l&&l.end(1),t=oe(e,F,{delay:ke}),t.start())}),n=!0}},o(c){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)L(s[i]);t&&t.invalidate(),l=ye(e,we,a[2]&&a[3]?{y:20,duration:1200,easing:Ae}:{}),n=!1},d(c){c&&m(e),Te(s,c),c&&l&&l.end()}}}function ge(a){let e,t;return e=new Ne({props:{name:a[14].name,collected:a[1](a[14]),id:a[14].id,img:a[14].image_url||void 0}}),{c(){J(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){X(e,l,n),t=!0},p(l,n){const o={};n&1&&(o.name=l[14].name),n&3&&(o.collected=l[1](l[14])),n&1&&(o.id=l[14].id),n&1&&(o.img=l[14].image_url||void 0),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function pe(a){let e,t,l;return t=new Ue({}),{c(){e=b("div"),J(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=T(e);K(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(n,o){A(n,e,o),X(t,e,null),l=!0},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&m(e),$(t)}}}function Ze(a){let e,t,l,n="Stamps",o,s,u,c,i,r,f,h,y,E,w;const D=[We,Qe],k=[];function Y(I,S){return I[3]?0:1}s=Y(a),u=k[s]=D[s](a);let _=!a[2]&&_e(a),g=a[2]&&pe();return{c(){e=b("div"),t=b("div"),l=b("h1"),l.textContent=n,o=M(),u.c(),i=M(),_&&_.c(),f=M(),g&&g.c(),h=z(),this.h()},l(I){e=v(I,"DIV",{class:!0});var S=T(e);t=v(S,"DIV",{class:!0});var G=T(t);l=v(G,"H1",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-glc03r"&&(l.textContent=n),o=N(G),u.l(G),G.forEach(m),i=N(S),_&&_.l(S),S.forEach(m),f=N(I),g&&g.l(I),h=z(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),V(t,"animate-pulse",a[4]&&a[3]),V(t,"border-b-2",a[2]),V(t,"border-dashed",a[2]),V(t,"border-slate-900",a[2]),d(e,"class","mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100")},m(I,S){A(I,e,S),p(e,t),p(t,l),p(t,o),k[s].m(t,null),p(e,i),_&&_.m(e,null),A(I,f,S),g&&g.m(I,S),A(I,h,S),y=!0,E||(w=[te(t,"touchstart",a[5]),te(t,"touchend",a[6]),te(t,"touchcancel",a[7],{passive:!0})],E=!0)},p(I,[S]){a=I;let G=s;s=Y(a),s!==G&&(le(),L(k[G],1,1,()=>{k[G]=null}),ae(),u=k[s],u||(u=k[s]=D[s](a),u.c()),C(u,1),u.m(t,null)),(!y||S&24)&&V(t,"animate-pulse",a[4]&&a[3]),(!y||S&4)&&V(t,"border-b-2",a[2]),(!y||S&4)&&V(t,"border-dashed",a[2]),(!y||S&4)&&V(t,"border-slate-900",a[2]),a[2]?_&&(le(),L(_,1,1,()=>{_=null}),ae()):_?(_.p(a,S),S&4&&C(_,1)):(_=_e(a),_.c(),C(_,1),_.m(e,null)),a[2]?g?S&4&&C(g,1):(g=pe(),g.c(),C(g,1),g.m(h.parentNode,h)):g&&(le(),L(g,1,1,()=>{g=null}),ae())},i(I){y||(C(u),c||se(()=>{c=oe(t,F,{delay:ke}),c.start()}),C(_),r&&r.end(1),C(g),y=!0)},o(I){L(u),L(_),r=ye(e,F,{}),L(g),y=!1},d(I){I&&(m(e),m(f),m(h)),k[s].d(),_&&_.d(),I&&r&&r.end(),g&&g.d(I),E=!1,Ce(w)}}}const ke=500,Je=1e3;function Ke(a,e,t){let{stamps:l=[]}=e,n=function(k){return!1},o=function(){},s=!0,u=!1;function c(){return l.every(n)}ve(()=>{t(1,n=function(k){return be(Ee)[k.hash]}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,s=!0)},c()&&(console.log("All stamps collected!"),t(3,u=!0)),t(2,s=localStorage.getItem("isStampSheetTorn")==="yes")});let i,r,f,h=!1,y;function E(k){k.touches.length===2&&u&&(i=new Date().getTime(),f=k.touches.length,t(4,h=!0),y=setTimeout(()=>{o()},2e3))}function w(k){f===2&&(r=new Date().getTime(),r-i>=Je&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,h=!1),clearTimeout(y)}function D(){f=0,t(4,h=!1),clearTimeout(y)}return a.$$set=k=>{"stamps"in k&&t(0,l=k.stamps)},[l,n,s,u,h,E,w,D]}class Xe extends W{constructor(e){super(),Z(this,e,Ke,Ze,Q,{stamps:0})}}function $e(a){let e,t;return e=new Xe({props:{stamps:a[0].stamps}}),{c(){J(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){X(e,l,n),t=!0},p(l,[n]){const o={};n&1&&(o.stamps=l[0].stamps),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function et(a,e,t){let{data:l}=e;return a.$$set=n=>{"data"in n&&t(0,l=n.data)},[l]}class ut extends W{constructor(e){super(),Z(this,e,et,$e,Q,{data:0})}}export{ut as component,ft as universal};
