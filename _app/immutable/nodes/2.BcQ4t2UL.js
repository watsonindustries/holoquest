import{e as Se,I as Ee,Q as Ie,c as Ce,a as Te}from"../chunks/index.DSiUwQY9.js";import{g as be,s as F,d as ne,a as se,n as G,c as we,o as ve,r as De}from"../chunks/scheduler.COW4diEM.js";import{S as J,i as W,e as b,s as M,t as H,c as v,f as T,d as m,b as N,j as q,l as d,x as R,n as w,m as p,p as ee,u as oe,D as U,g as z,z as C,o as te,v as Z,w as K,y as X,A as j,C as $,G as le,E as ae,J as ye,q as xe}from"../chunks/index.B5o7o_bp.js";import{e as de}from"../chunks/each.D6YF6ztN.js";import{f as Q,c as Pe,a as Ae}from"../chunks/index.diNOV6nI.js";import{G as Y}from"../chunks/custom.DgUHssZa.js";import{h as re,m as Le}from"../chunks/const.CGFi_4Hk.js";import{n as je}from"../chunks/userinfo.ChijLh_r.js";const Ge=!1,Ve=async()=>({stamps:Object.entries(be(Se)).map(([e,t])=>({...t,hash:e}))}),ut=Object.freeze(Object.defineProperty({__proto__:null,load:Ve,ssr:Ge},Symbol.toStringTag,{value:"Module"})),Re=""+new URL("../assets/watamesmug.ay_qIBLZ.jpg",import.meta.url).href;function Me(a){let e,t,l,n,o,s,f,c,u,r,i,h;return{c(){e=b("a"),t=b("div"),l=b("div"),n=b("div"),o=b("div"),s=b("img"),u=M(),r=b("div"),i=H(a[1]),this.h()},l(y){e=v(y,"A",{href:!0});var E=T(e);t=v(E,"DIV",{class:!0});var D=T(t);l=v(D,"DIV",{class:!0});var x=T(l);n=v(x,"DIV",{class:!0});var k=T(n);o=v(k,"DIV",{class:!0});var P=T(o);s=v(P,"IMG",{src:!0,alt:!0,class:!0}),P.forEach(m),k.forEach(m),x.forEach(m),u=N(D),r=v(D,"DIV",{class:!0});var _=T(r);i=q(_,a[1]),_.forEach(m),D.forEach(m),E.forEach(m),this.h()},h(){ne(s.src,f=a[4])||d(s,"src",f),d(s,"alt",a[1]),d(s,"class","h-20 w-20 rounded-full"),R(s,"opacity-30",!a[2]),d(o,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(n,"class","flex h-24 w-24 items-center justify-center rounded-full"),d(l,"class",c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),R(r,"font-bold",a[2]),d(t,"class","flex flex-col items-center"),d(e,"href",a[3])},m(y,E){w(y,e,E),p(e,t),p(t,l),p(l,n),p(n,o),p(o,s),p(t,u),p(t,r),p(r,i)},p(y,[E]){a=y,E&16&&!ne(s.src,f=a[4])&&d(s,"src",f),E&2&&d(s,"alt",a[1]),E&4&&R(s,"opacity-30",!a[2]),E&4&&c!==(c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&d(l,"class",c),E&2&&ee(i,a[1]),E&4&&R(r,"font-bold",a[2]),E&8&&d(e,"href",a[3])},i(y){h||se(()=>{h=oe(t,Q,{duration:a[5],delay:150*a[0]+500}),h.start()})},o:G,d(y){y&&m(e)}}}function Ne(a,e,t){let{hash:l}=e,{index:n}=e,{name:o}=e,{collected:s=!1}=e,{navURL:f=`/partner/${l}`}=e;const c=Re;let{img:u=c}=e;const r=100;return a.$$set=i=>{"hash"in i&&t(6,l=i.hash),"index"in i&&t(0,n=i.index),"name"in i&&t(1,o=i.name),"collected"in i&&t(2,s=i.collected),"navURL"in i&&t(3,f=i.navURL),"img"in i&&t(4,u=i.img)},[n,o,s,f,u,r,l]}class Ye extends J{constructor(e){super(),W(this,e,Ne,Me,F,{hash:6,index:0,name:1,collected:2,navURL:3,img:4,fadeDuration:5})}get fadeDuration(){return this.$$.ctx[5]}}function He(a){let e,t=a[1]&&me(a);return{c(){t&&t.c(),e=U()},l(l){t&&t.l(l),e=U()},m(l,n){t&&t.m(l,n),w(l,e,n)},p(l,n){l[1]?t?(t.p(l,n),n&2&&C(t,1)):(t=me(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){C(t)},o:G,d(l){l&&m(e),t&&t.d(l)}}}function qe(a){let e,t,l,n="Warming up the gacha...";return{c(){e=b("span"),t=M(),l=b("p"),l.textContent=n,this.h()},l(o){e=v(o,"SPAN",{class:!0}),T(e).forEach(m),t=N(o),l=v(o,"P",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-16bujl6"&&(l.textContent=n),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(o,s){w(o,e,s),w(o,t,s),w(o,l,s)},p:G,i:G,o:G,d(o){o&&(m(e),m(t),m(l))}}}function Oe(a){let e,t="Play Gacha",l,n;return{c(){e=b("button"),e.textContent=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1vmmgpv"&&(e.textContent=t),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,s){w(o,e,s),l||(n=te(e,"click",a[3]),l=!0)},p:G,i:G,o:G,d(o){o&&m(e),l=!1,n()}}}function me(a){let e,t,l,n,o,s,f,c,u,r,i=a[1].english_name+"",h,y,E,D,x=a[1].group+"",k,P,_,g,I,S,V;return{c(){e=b("div"),t=b("figure"),l=b("img"),s=M(),f=b("div"),c=b("h2"),u=H(a[2]),r=H(" got "),h=H(i),y=H("!"),E=M(),D=b("p"),k=H(x),P=M(),_=b("div"),g=b("a"),I=H("Explore Channel"),this.h()},l(A){e=v(A,"DIV",{class:!0});var L=T(e);t=v(L,"FIGURE",{});var ie=T(t);l=v(ie,"IMG",{src:!0,alt:!0}),ie.forEach(m),s=N(L),f=v(L,"DIV",{class:!0});var O=T(f);c=v(O,"H2",{class:!0});var B=T(c);u=q(B,a[2]),r=q(B," got "),h=q(B,i),y=q(B,"!"),B.forEach(m),E=N(O),D=v(O,"P",{class:!0});var ce=T(D);k=q(ce,x),ce.forEach(m),P=N(O),_=v(O,"DIV",{class:!0});var fe=T(_);g=v(fe,"A",{class:!0,href:!0});var ue=T(g);I=q(ue,"Explore Channel"),ue.forEach(m),fe.forEach(m),O.forEach(m),L.forEach(m),this.h()},h(){ne(l.src,n=a[1].photo)||d(l,"src",n),d(l,"alt",o=a[1].english_name),d(c,"class","card-title text-xl text-slate-100"),d(D,"class","text-slate-100"),d(g,"class","btn-secondary btn rounded-full text-slate-50"),d(g,"href",S="https://holodex.net/channel/"+a[1].id+"/clips"),d(_,"class","card-actions justify-end"),d(f,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(A,L){w(A,e,L),p(e,t),p(t,l),p(e,s),p(e,f),p(f,c),p(c,u),p(c,r),p(c,h),p(c,y),p(f,E),p(f,D),p(D,k),p(f,P),p(f,_),p(_,g),p(g,I)},p(A,L){L&2&&!ne(l.src,n=A[1].photo)&&d(l,"src",n),L&2&&o!==(o=A[1].english_name)&&d(l,"alt",o),L&4&&ee(u,A[2]),L&2&&i!==(i=A[1].english_name+"")&&ee(h,i),L&2&&x!==(x=A[1].group+"")&&ee(k,x),L&2&&S!==(S="https://holodex.net/channel/"+A[1].id+"/clips")&&d(g,"href",S)},i(A){V||se(()=>{V=oe(e,Q,{delay:500}),V.start()})},o:G,d(A){A&&m(e)}}}function Ue(a){let e,t="Thank you!",l,n,o="You have completed the quest!",s,f;function c(i,h){if(i[0]===Y.NOT_PLAYED)return Oe;if(i[0]===Y.PLAYING)return qe;if(i[0]===Y.PLAYED)return He}let u=c(a),r=u&&u(a);return{c(){e=b("h1"),e.textContent=t,l=M(),n=b("h2"),n.textContent=o,s=M(),r&&r.c(),f=U(),this.h()},l(i){e=v(i,"H1",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-dyvikd"&&(e.textContent=t),l=N(i),n=v(i,"H2",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-1bboxj2"&&(n.textContent=o),s=N(i),r&&r.l(i),f=U(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(n,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(i,h){w(i,e,h),w(i,l,h),w(i,n,h),w(i,s,h),r&&r.m(i,h),w(i,f,h)},p(i,[h]){u===(u=c(i))&&r?r.p(i,h):(r&&r.d(1),r=u&&u(i),r&&(r.c(),C(r,1),r.m(f.parentNode,f)))},i(i){C(r)},o:G,d(i){i&&(m(e),m(l),m(n),m(s),m(f)),r&&r.d(i)}}}const ze=3e3;function Be(a,e,t){let l;we(a,je,u=>t(2,l=u));let n=Y.NOT_PLAYED,o,s;function f(){const r=re.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,n=Y.PLAYING),setTimeout(()=>{t(4,s=f()),t(1,o=re[s]),t(0,n=Y.PLAYED)},ze)}return ve(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,n=Y.PLAYED),t(4,s=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=re[s]))}),a.$$.update=()=>{a.$$.dirty&17&&n===Y.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",s.toString()))},[n,o,l,c,s]}class Qe extends J{constructor(e){super(),W(this,e,Be,Ue,F,{})}}function Fe(a){let e,t,l;return t=new Ee({props:{src:Ie,theme:"solid",class:"p-1 align-middle"}}),{c(){e=b("a"),Z(t.$$.fragment),this.h()},l(n){e=v(n,"A",{id:!0,href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var o=T(e);K(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"id","scanner"),d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn-circle fixed bottom-6 right-6 z-50 flex h-20 w-20 items-center justify-center rounded-full p-2 align-middle font-bold text-base-100 shadow-lg"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(n,o){w(n,e,o),X(t,e,null),l=!0},p:G,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){j(t.$$.fragment,n),l=!1},d(n){n&&m(e),$(t)}}}class Je extends J{constructor(e){super(),W(this,e,null,Fe,F,{})}}function he(a,e,t){const l=a.slice();return l[14]=e[t],l[16]=t,l}function We(a){let e,t;return e=new Je({}),{c(){Z(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){X(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function Ze(a){let e,t="Show sheet to staff at the booth!";return{c(){e=b("h2"),e.textContent=t,this.h()},l(l){e=v(l,"H2",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1q7ltwa"&&(e.textContent=t),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,n){w(l,e,n)},i:G,o:G,d(l){l&&m(e)}}}function _e(a){let e,t,l,n,o=de(a[0]),s=[];for(let c=0;c<o.length;c+=1)s[c]=ge(he(a,o,c));const f=c=>j(s[c],1,1,()=>{s[c]=null});return{c(){e=b("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var u=T(e);for(let r=0;r<s.length;r+=1)s[r].l(u);u.forEach(m),this.h()},h(){d(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,u){w(c,e,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);n=!0},p(c,u){if(a=c,u&3){o=de(a[0]);let r;for(r=0;r<o.length;r+=1){const i=he(a,o,r);s[r]?(s[r].p(i,u),C(s[r],1)):(s[r]=ge(i),s[r].c(),C(s[r],1),s[r].m(e,null))}for(le(),r=o.length;r<s.length;r+=1)f(r);ae()}},i(c){if(!n){for(let u=0;u<o.length;u+=1)C(s[u]);se(()=>{n&&(l&&l.end(1),t=oe(e,Q,{delay:ke}),t.start())}),n=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)j(s[u]);t&&t.invalidate(),l=ye(e,Ae,a[2]&&a[3]?{y:20,duration:1200,easing:Pe}:{}),n=!1},d(c){c&&m(e),xe(s,c),c&&l&&l.end()}}}function ge(a){let e,t;return e=new Ye({props:{name:a[14].name,collected:a[1](a[14]),index:a[16],hash:a[14].hash||"",img:a[14].image_url||void 0}}),{c(){Z(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){X(e,l,n),t=!0},p(l,n){const o={};n&1&&(o.name=l[14].name),n&3&&(o.collected=l[1](l[14])),n&1&&(o.hash=l[14].hash||""),n&1&&(o.img=l[14].image_url||void 0),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function pe(a){let e,t,l;return t=new Qe({}),{c(){e=b("div"),Z(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=T(e);K(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(n,o){w(n,e,o),X(t,e,null),l=!0},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){j(t.$$.fragment,n),l=!1},d(n){n&&m(e),$(t)}}}function Ke(a){let e,t,l,n="Stamps",o,s,f,c,u,r,i,h,y,E,D;const x=[Ze,We],k=[];function P(I,S){return I[3]?0:1}s=P(a),f=k[s]=x[s](a);let _=!a[2]&&_e(a),g=a[2]&&pe();return{c(){e=b("div"),t=b("div"),l=b("h1"),l.textContent=n,o=M(),f.c(),u=M(),_&&_.c(),i=M(),g&&g.c(),h=U(),this.h()},l(I){e=v(I,"DIV",{class:!0});var S=T(e);t=v(S,"DIV",{class:!0});var V=T(t);l=v(V,"H1",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-glc03r"&&(l.textContent=n),o=N(V),f.l(V),V.forEach(m),u=N(S),_&&_.l(S),S.forEach(m),i=N(I),g&&g.l(I),h=U(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),R(t,"animate-pulse",a[4]&&a[3]),R(t,"border-b-2",a[2]),R(t,"border-dashed",a[2]),R(t,"border-slate-900",a[2]),d(e,"class","mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100")},m(I,S){w(I,e,S),p(e,t),p(t,l),p(t,o),k[s].m(t,null),p(e,u),_&&_.m(e,null),w(I,i,S),g&&g.m(I,S),w(I,h,S),y=!0,E||(D=[te(t,"touchstart",a[5]),te(t,"touchend",a[6]),te(t,"touchcancel",a[7],{passive:!0})],E=!0)},p(I,[S]){a=I;let V=s;s=P(a),s!==V&&(le(),j(k[V],1,1,()=>{k[V]=null}),ae(),f=k[s],f||(f=k[s]=x[s](a),f.c()),C(f,1),f.m(t,null)),(!y||S&24)&&R(t,"animate-pulse",a[4]&&a[3]),(!y||S&4)&&R(t,"border-b-2",a[2]),(!y||S&4)&&R(t,"border-dashed",a[2]),(!y||S&4)&&R(t,"border-slate-900",a[2]),a[2]?_&&(le(),j(_,1,1,()=>{_=null}),ae()):_?(_.p(a,S),S&4&&C(_,1)):(_=_e(a),_.c(),C(_,1),_.m(e,null)),a[2]?g?S&4&&C(g,1):(g=pe(),g.c(),C(g,1),g.m(h.parentNode,h)):g&&(le(),j(g,1,1,()=>{g=null}),ae())},i(I){y||(C(f),c||se(()=>{c=oe(t,Q,{delay:ke}),c.start()}),C(_),r&&r.end(1),C(g),y=!0)},o(I){j(f),j(_),r=ye(e,Q,{}),j(g),y=!1},d(I){I&&(m(e),m(i),m(h)),k[s].d(),_&&_.d(),I&&r&&r.end(),g&&g.d(I),E=!1,De(D)}}}const ke=500,Xe=1e3;function $e(a,e,t){let{stamps:l=[]}=e,n=function(k){return!1},o=function(){},s=!0,f=!1;function c(){return Te()>=Le}ve(()=>{t(1,n=function(k){const P=be(Ce);return P==null?void 0:P[k.hash||""]}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,s=!0)},c()&&(console.log("All stamps collected!"),t(3,f=!0)),t(2,s=localStorage.getItem("isStampSheetTorn")==="yes")});let u,r,i,h=!1,y;function E(k){k.touches.length===2&&f&&(u=new Date().getTime(),i=k.touches.length,t(4,h=!0),y=setTimeout(()=>{o()},2e3))}function D(k){i===2&&(r=new Date().getTime(),r-u>=Xe&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,h=!1),clearTimeout(y)}function x(){i=0,t(4,h=!1),clearTimeout(y)}return a.$$set=k=>{"stamps"in k&&t(0,l=k.stamps)},[l,n,s,f,h,E,D,x]}class et extends J{constructor(e){super(),W(this,e,$e,Ke,F,{stamps:0})}}function tt(a){let e,t;return e=new et({props:{stamps:a[0].stamps}}),{c(){Z(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){X(e,l,n),t=!0},p(l,[n]){const o={};n&1&&(o.stamps=l[0].stamps),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function lt(a,e,t){let{data:l}=e;return a.$$set=n=>{"data"in n&&t(0,l=n.data)},[l]}class dt extends J{constructor(e){super(),W(this,e,lt,tt,F,{data:0})}}export{dt as component,ut as universal};
