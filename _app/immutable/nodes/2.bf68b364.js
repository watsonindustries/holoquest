import{S as W,i as Z,s as J,k as w,a as G,q as P,l as E,m as I,h as m,c as N,r as j,n as k,b as M,C as S,v as z,d as y,f as B,g as v,u as ne,O as K,V as R,M as V,y as O,z as q,A as H,B as Q,N as D,H as F,W as x,L as se,o as re,X as ae}from"../chunks/index.963641d4.js";import{e as ee}from"../chunks/const.e86bc028.js";import{f as L,I as te,b as oe,c as ie,d as ce,Q as fe}from"../chunks/index.62155315.js";const ue=!0,Ve=Object.freeze(Object.defineProperty({__proto__:null,prerender:ue},Symbol.toStringTag,{value:"Module"}));function de(n){let e,t;return{c(){e=w("span"),t=P("?"),this.h()},l(l){e=E(l,"SPAN",{class:!0});var r=I(e);t=j(r,"?"),r.forEach(m),this.h()},h(){k(e,"class","font-sans text-6xl font-semibold text-secondary")},m(l,r){M(l,e,r),S(e,t)},p:V,i:V,o:V,d(l){l&&m(e)}}}function me(n){let e,t;return e=new te({props:{src:oe,class:"rounded-full stroke-secondary",size:"64"}}),{c(){O(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,r){H(e,l,r),t=!0},p:V,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function he(n){let e,t,l,r,a,s,i,c,u,o;const h=[me,de],_=[];function A(p,d){return p[2]?0:1}return r=A(n),a=_[r]=h[r](n),{c(){e=w("div"),t=w("div"),l=w("div"),a.c(),s=G(),i=w("div"),c=P(n[1]),this.h()},l(p){e=E(p,"DIV",{class:!0});var d=I(e);t=E(d,"DIV",{class:!0});var T=I(t);l=E(T,"DIV",{class:!0});var f=I(l);a.l(f),f.forEach(m),T.forEach(m),s=N(d),i=E(d,"DIV",{class:!0});var b=I(i);c=j(b,n[1]),b.forEach(m),d.forEach(m),this.h()},h(){k(l,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),k(t,"class","flex h-28 w-28 items-center justify-center rounded-full bg-gradient-to-br from-primary to-secondary"),k(i,"class","mt-2 text-center"),k(e,"class","flex flex-col items-center")},m(p,d){M(p,e,d),S(e,t),S(t,l),_[r].m(l,null),S(e,s),S(e,i),S(i,c),o=!0},p(p,[d]){n=p;let T=r;r=A(n),r===T?_[r].p(n,d):(z(),y(_[T],1,1,()=>{_[T]=null}),B(),a=_[r],a?a.p(n,d):(a=_[r]=h[r](n),a.c()),v(a,1),a.m(l,null)),(!o||d&2)&&ne(c,n[1])},i(p){o||(v(a),u||K(()=>{u=R(e,L,{duration:200,delay:150*n[0]+500}),u.start()}),o=!0)},o(p){y(a),o=!1},d(p){p&&m(e),_[r].d()}}}const _e="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function pe(n,e,t){let{id:l}=e,{name:r}=e,{collected:a=!1}=e,{img:s=_e}=e;return n.$$set=i=>{"id"in i&&t(0,l=i.id),"name"in i&&t(1,r=i.name),"collected"in i&&t(2,a=i.collected),"img"in i&&t(3,s=i.img)},[l,r,a,s]}class ge extends W{constructor(e){super(),Z(this,e,pe,he,J,{id:0,name:1,collected:2,img:3})}}function X(n,e,t){const l=n.slice();return l[14]=e[t],l}function be(n){let e,t,l,r;return t=new te({props:{src:fe,theme:"solid",class:"h-8 w-8"}}),{c(){e=w("a"),O(t.$$.fragment),l=P(`
				Scan stamp`),this.h()},l(a){e=E(a,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var s=I(e);q(t.$$.fragment,s),l=j(s,`
				Scan stamp`),s.forEach(m),this.h()},h(){k(e,"href","/scanner"),k(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),k(e,"tabindex","-1"),k(e,"aria-disabled","true")},m(a,s){M(a,e,s),H(t,e,null),S(e,l),r=!0},p:V,i(a){r||(v(t.$$.fragment,a),r=!0)},o(a){y(t.$$.fragment,a),r=!1},d(a){a&&m(e),Q(t)}}}function ve(n){let e;function t(a,s){return a[2]?Se:ke}let l=t(n),r=l(n);return{c(){e=w("h2"),r.c(),this.h()},l(a){e=E(a,"H2",{class:!0});var s=I(e);r.l(s),s.forEach(m),this.h()},h(){k(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(a,s){M(a,e,s),r.m(e,null)},p(a,s){l!==(l=t(a))&&(r.d(1),r=l(a),r&&(r.c(),r.m(e,null)))},i:V,o:V,d(a){a&&m(e),r.d()}}}function ke(n){let e;return{c(){e=P("Show sheet to staff!")},l(t){e=j(t,"Show sheet to staff!")},m(t,l){M(t,e,l)},d(t){t&&m(e)}}}function Se(n){let e;return{c(){e=P("Thank you for participating!")},l(t){e=j(t,"Thank you for participating!")},m(t,l){M(t,e,l)},d(t){t&&m(e)}}}function Y(n){let e,t,l,r,a=n[0],s=[];for(let c=0;c<a.length;c+=1)s[c]=$(X(n,a,c));const i=c=>y(s[c],1,1,()=>{s[c]=null});return{c(){e=w("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=E(c,"DIV",{class:!0});var u=I(e);for(let o=0;o<s.length;o+=1)s[o].l(u);u.forEach(m),this.h()},h(){k(e,"class","mx-8 grid grid-cols-2 gap-4 rounded-b-xl bg-slate-100 p-4 pt-8 shadow-md")},m(c,u){M(c,e,u);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);r=!0},p(c,u){if(n=c,u&3){a=n[0];let o;for(o=0;o<a.length;o+=1){const h=X(n,a,o);s[o]?(s[o].p(h,u),v(s[o],1)):(s[o]=$(h),s[o].c(),v(s[o],1),s[o].m(e,null))}for(z(),o=a.length;o<s.length;o+=1)i(o);B()}},i(c){if(!r){for(let u=0;u<a.length;u+=1)v(s[u]);K(()=>{r&&(l&&l.end(1),t=R(e,L,{delay:le}),t.start())}),r=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)y(s[u]);t&&t.invalidate(),l=x(e,ce,n[2]&&n[3]?{y:20,duration:1200,easing:ie}:{opacity:100}),r=!1},d(c){c&&m(e),ae(s,c),c&&l&&l.end()}}}function $(n){let e,t;return e=new ge({props:{name:n[14].name,collected:n[1](n[14]),id:n[14].id}}),{c(){O(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,r){H(e,l,r),t=!0},p(l,r){const a={};r&1&&(a.name=l[14].name),r&3&&(a.collected=l[1](l[14])),r&1&&(a.id=l[14].id),e.$set(a)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function ye(n){let e,t,l,r,a,s,i,c,u,o,h,_,A;const p=[ve,be],d=[];function T(b,g){return b[3]?0:1}s=T(n),i=d[s]=p[s](n);let f=!n[2]&&Y(n);return{c(){e=w("div"),t=w("div"),l=w("h1"),r=P("Stamps"),a=G(),i.c(),u=G(),f&&f.c(),this.h()},l(b){e=E(b,"DIV",{class:!0});var g=I(e);t=E(g,"DIV",{class:!0});var C=I(t);l=E(C,"H1",{class:!0});var U=I(l);r=j(U,"Stamps"),U.forEach(m),a=N(C),i.l(C),C.forEach(m),u=N(g),f&&f.l(g),g.forEach(m),this.h()},h(){k(l,"class","text-center font-geologica text-4xl font-bold text-primary"),k(t,"class","mx-8 flex flex-col justify-center space-y-6 rounded-t-xl bg-slate-100 pb-8 pt-4 shadow-md"),D(t,"animate-pulse",n[4]&&n[3]),D(t,"border-b-2",n[2]),D(t,"border-dashed",n[2]),D(t,"border-slate-900",n[2]),k(e,"class","my-2 divide-y-2 divide-dashed divide-slate-900")},m(b,g){M(b,e,g),S(e,t),S(t,l),S(l,r),S(t,a),d[s].m(t,null),S(e,u),f&&f.m(e,null),h=!0,_||(A=[F(t,"touchstart",n[5]),F(t,"touchend",n[6]),F(t,"touchcancel",n[7],{passive:!0})],_=!0)},p(b,[g]){n=b;let C=s;s=T(n),s===C?d[s].p(n,g):(z(),y(d[C],1,1,()=>{d[C]=null}),B(),i=d[s],i?i.p(n,g):(i=d[s]=p[s](n),i.c()),v(i,1),i.m(t,null)),(!h||g&24)&&D(t,"animate-pulse",n[4]&&n[3]),(!h||g&4)&&D(t,"border-b-2",n[2]),(!h||g&4)&&D(t,"border-dashed",n[2]),(!h||g&4)&&D(t,"border-slate-900",n[2]),n[2]?f&&(z(),y(f,1,1,()=>{f=null}),B()):f?(f.p(n,g),g&4&&v(f,1)):(f=Y(n),f.c(),v(f,1),f.m(e,null))},i(b){h||(v(i),c||K(()=>{c=R(t,L,{delay:le}),c.start()}),v(f),o&&o.end(1),h=!0)},o(b){y(i),y(f),o=x(e,L,{}),h=!1},d(b){b&&m(e),d[s].d(),f&&f.d(),b&&o&&o.end(),_=!1,se(A)}}}const le=500,Te=1500;function we(n,e,t){let{stamps:l=[]}=e,r=function(f){return!1},a=function(){},s=!1,i=!1;function c(){return ee.every(r)}re(()=>{t(1,r=function(f){return localStorage.getItem(f.hash)!==null}),a=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,s=!0)},c()&&(console.log("All stamps collected!"),t(3,i=!0)),localStorage.getItem("isStampSheetTorn")==="yes"&&t(2,s=!0)});let u,o,h,_=!1,A;function p(f){f.touches.length===2&&i&&(u=new Date().getTime(),h=f.touches.length,t(4,_=!0),A=setTimeout(()=>{a()},2e3))}function d(f){h===2&&(o=new Date().getTime(),o-u>=Te&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,_=!1),clearTimeout(A)}function T(){h=0,t(4,_=!1),clearTimeout(A)}return n.$$set=f=>{"stamps"in f&&t(0,l=f.stamps)},[l,r,s,i,_,p,d,T]}class Ee extends W{constructor(e){super(),Z(this,e,we,ye,J,{stamps:0})}}function Ie(n){let e,t;return e=new Ee({props:{stamps:ee}}),{c(){O(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,r){H(e,l,r),t=!0},p:V,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}class Me extends W{constructor(e){super(),Z(this,e,null,Ie,J,{})}}export{Me as component,Ve as universal};
