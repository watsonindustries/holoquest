import{s as F,d as ae,a as se,n as G,c as be,o as ve,r as ke,g as Ce}from"../chunks/scheduler.COW4diEM.js";import{S as J,i as W,e as b,s as M,t as H,c as v,f as T,d as m,b as N,j as q,l as d,x as R,n as w,m as p,p as ee,u as oe,D as U,g as z,z as I,o as te,v as Z,w as K,y as X,A as j,C as $,G as le,E as ne,J as ye,q as Ee}from"../chunks/index.B5o7o_bp.js";import{e as de}from"../chunks/each.D6YF6ztN.js";import{f as Q,c as Ie,a as Te}from"../chunks/index.diNOV6nI.js";import{G as Y}from"../chunks/custom.DgUHssZa.js";import{h as re,m as we}from"../chunks/const.CGFi_4Hk.js";import{n as De}from"../chunks/userinfo.ChijLh_r.js";import{I as xe,Q as Pe,c as Ae,a as Le,e as je}from"../chunks/index.DSiUwQY9.js";const Ge=!1,Ve=async()=>({}),ut=Object.freeze(Object.defineProperty({__proto__:null,load:Ve,ssr:Ge},Symbol.toStringTag,{value:"Module"})),Re=""+new URL("../assets/watamesmug.ay_qIBLZ.jpg",import.meta.url).href;function Me(n){let e,t,l,a,o,s,f,c,u,r,i,h;return{c(){e=b("a"),t=b("div"),l=b("div"),a=b("div"),o=b("div"),s=b("img"),u=M(),r=b("div"),i=H(n[1]),this.h()},l(y){e=v(y,"A",{href:!0});var C=T(e);t=v(C,"DIV",{class:!0});var D=T(t);l=v(D,"DIV",{class:!0});var x=T(l);a=v(x,"DIV",{class:!0});var S=T(a);o=v(S,"DIV",{class:!0});var P=T(o);s=v(P,"IMG",{src:!0,alt:!0,class:!0}),P.forEach(m),S.forEach(m),x.forEach(m),u=N(D),r=v(D,"DIV",{class:!0});var _=T(r);i=q(_,n[1]),_.forEach(m),D.forEach(m),C.forEach(m),this.h()},h(){ae(s.src,f=n[4])||d(s,"src",f),d(s,"alt",n[1]),d(s,"class","h-20 w-20 rounded-full"),R(s,"opacity-30",!n[2]),d(o,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(a,"class","flex h-24 w-24 items-center justify-center rounded-full"),d(l,"class",c="flex h-28 w-28 items-center justify-center rounded-full "+(n[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),R(r,"font-bold",n[2]),d(t,"class","flex flex-col items-center"),d(e,"href",n[3])},m(y,C){w(y,e,C),p(e,t),p(t,l),p(l,a),p(a,o),p(o,s),p(t,u),p(t,r),p(r,i)},p(y,[C]){n=y,C&16&&!ae(s.src,f=n[4])&&d(s,"src",f),C&2&&d(s,"alt",n[1]),C&4&&R(s,"opacity-30",!n[2]),C&4&&c!==(c="flex h-28 w-28 items-center justify-center rounded-full "+(n[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&d(l,"class",c),C&2&&ee(i,n[1]),C&4&&R(r,"font-bold",n[2]),C&8&&d(e,"href",n[3])},i(y){h||se(()=>{h=oe(t,Q,{duration:n[5],delay:150*n[0]+500}),h.start()})},o:G,d(y){y&&m(e)}}}function Ne(n,e,t){let{hash:l}=e,{index:a}=e,{name:o}=e,{collected:s=!1}=e,{navURL:f=`/partner/${l}`}=e;const c=Re;let{img:u=c}=e;const r=100;return n.$$set=i=>{"hash"in i&&t(6,l=i.hash),"index"in i&&t(0,a=i.index),"name"in i&&t(1,o=i.name),"collected"in i&&t(2,s=i.collected),"navURL"in i&&t(3,f=i.navURL),"img"in i&&t(4,u=i.img)},[a,o,s,f,u,r,l]}class Ye extends J{constructor(e){super(),W(this,e,Ne,Me,F,{hash:6,index:0,name:1,collected:2,navURL:3,img:4,fadeDuration:5})}get fadeDuration(){return this.$$.ctx[5]}}function He(n){let e,t=n[1]&&me(n);return{c(){t&&t.c(),e=U()},l(l){t&&t.l(l),e=U()},m(l,a){t&&t.m(l,a),w(l,e,a)},p(l,a){l[1]?t?(t.p(l,a),a&2&&I(t,1)):(t=me(l),t.c(),I(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){I(t)},o:G,d(l){l&&m(e),t&&t.d(l)}}}function qe(n){let e,t,l,a="Warming up the gacha...";return{c(){e=b("span"),t=M(),l=b("p"),l.textContent=a,this.h()},l(o){e=v(o,"SPAN",{class:!0}),T(e).forEach(m),t=N(o),l=v(o,"P",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-16bujl6"&&(l.textContent=a),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(o,s){w(o,e,s),w(o,t,s),w(o,l,s)},p:G,i:G,o:G,d(o){o&&(m(e),m(t),m(l))}}}function Oe(n){let e,t="Play Gacha",l,a;return{c(){e=b("button"),e.textContent=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1vmmgpv"&&(e.textContent=t),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,s){w(o,e,s),l||(a=te(e,"click",n[3]),l=!0)},p:G,i:G,o:G,d(o){o&&m(e),l=!1,a()}}}function me(n){let e,t,l,a,o,s,f,c,u,r,i=n[1].english_name+"",h,y,C,D,x=n[1].group+"",S,P,_,g,E,k,V;return{c(){e=b("div"),t=b("figure"),l=b("img"),s=M(),f=b("div"),c=b("h2"),u=H(n[2]),r=H(" got "),h=H(i),y=H("!"),C=M(),D=b("p"),S=H(x),P=M(),_=b("div"),g=b("a"),E=H("Explore Channel"),this.h()},l(A){e=v(A,"DIV",{class:!0});var L=T(e);t=v(L,"FIGURE",{});var ie=T(t);l=v(ie,"IMG",{src:!0,alt:!0}),ie.forEach(m),s=N(L),f=v(L,"DIV",{class:!0});var O=T(f);c=v(O,"H2",{class:!0});var B=T(c);u=q(B,n[2]),r=q(B," got "),h=q(B,i),y=q(B,"!"),B.forEach(m),C=N(O),D=v(O,"P",{class:!0});var ce=T(D);S=q(ce,x),ce.forEach(m),P=N(O),_=v(O,"DIV",{class:!0});var fe=T(_);g=v(fe,"A",{class:!0,href:!0});var ue=T(g);E=q(ue,"Explore Channel"),ue.forEach(m),fe.forEach(m),O.forEach(m),L.forEach(m),this.h()},h(){ae(l.src,a=n[1].photo)||d(l,"src",a),d(l,"alt",o=n[1].english_name),d(c,"class","card-title text-xl text-slate-100"),d(D,"class","text-slate-100"),d(g,"class","btn-secondary btn rounded-full text-slate-50"),d(g,"href",k="https://holodex.net/channel/"+n[1].id+"/clips"),d(_,"class","card-actions justify-end"),d(f,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(A,L){w(A,e,L),p(e,t),p(t,l),p(e,s),p(e,f),p(f,c),p(c,u),p(c,r),p(c,h),p(c,y),p(f,C),p(f,D),p(D,S),p(f,P),p(f,_),p(_,g),p(g,E)},p(A,L){L&2&&!ae(l.src,a=A[1].photo)&&d(l,"src",a),L&2&&o!==(o=A[1].english_name)&&d(l,"alt",o),L&4&&ee(u,A[2]),L&2&&i!==(i=A[1].english_name+"")&&ee(h,i),L&2&&x!==(x=A[1].group+"")&&ee(S,x),L&2&&k!==(k="https://holodex.net/channel/"+A[1].id+"/clips")&&d(g,"href",k)},i(A){V||se(()=>{V=oe(e,Q,{delay:500}),V.start()})},o:G,d(A){A&&m(e)}}}function Ue(n){let e,t="Thank you!",l,a,o="You have completed the quest!",s,f;function c(i,h){if(i[0]===Y.NOT_PLAYED)return Oe;if(i[0]===Y.PLAYING)return qe;if(i[0]===Y.PLAYED)return He}let u=c(n),r=u&&u(n);return{c(){e=b("h1"),e.textContent=t,l=M(),a=b("h2"),a.textContent=o,s=M(),r&&r.c(),f=U(),this.h()},l(i){e=v(i,"H1",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-dyvikd"&&(e.textContent=t),l=N(i),a=v(i,"H2",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-1bboxj2"&&(a.textContent=o),s=N(i),r&&r.l(i),f=U(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(a,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(i,h){w(i,e,h),w(i,l,h),w(i,a,h),w(i,s,h),r&&r.m(i,h),w(i,f,h)},p(i,[h]){u===(u=c(i))&&r?r.p(i,h):(r&&r.d(1),r=u&&u(i),r&&(r.c(),I(r,1),r.m(f.parentNode,f)))},i(i){I(r)},o:G,d(i){i&&(m(e),m(l),m(a),m(s),m(f)),r&&r.d(i)}}}const ze=3e3;function Be(n,e,t){let l;be(n,De,u=>t(2,l=u));let a=Y.NOT_PLAYED,o,s;function f(){const r=re.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,a=Y.PLAYING),setTimeout(()=>{t(4,s=f()),t(1,o=re[s]),t(0,a=Y.PLAYED)},ze)}return ve(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,a=Y.PLAYED),t(4,s=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=re[s]))}),n.$$.update=()=>{n.$$.dirty&17&&a===Y.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",s.toString()))},[a,o,l,c,s]}class Qe extends J{constructor(e){super(),W(this,e,Be,Ue,F,{})}}function Fe(n){let e,t,l;return t=new xe({props:{src:Pe,theme:"solid",class:"p-1 align-middle"}}),{c(){e=b("a"),Z(t.$$.fragment),this.h()},l(a){e=v(a,"A",{id:!0,href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var o=T(e);K(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"id","scanner"),d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn-circle fixed bottom-6 right-6 z-50 flex h-20 w-20 items-center justify-center rounded-full p-2 align-middle font-bold text-base-100 shadow-lg"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(a,o){w(a,e,o),X(t,e,null),l=!0},p:G,i(a){l||(I(t.$$.fragment,a),l=!0)},o(a){j(t.$$.fragment,a),l=!1},d(a){a&&m(e),$(t)}}}class Je extends J{constructor(e){super(),W(this,e,null,Fe,F,{})}}function he(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function We(n){let e,t;return e=new Je({}),{c(){Z(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function Ze(n){let e,t="Show sheet to staff at the booth!";return{c(){e=b("h2"),e.textContent=t,this.h()},l(l){e=v(l,"H2",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1q7ltwa"&&(e.textContent=t),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,a){w(l,e,a)},i:G,o:G,d(l){l&&m(e)}}}function _e(n){let e,t,l,a,o=de(n[0]),s=[];for(let c=0;c<o.length;c+=1)s[c]=ge(he(n,o,c));const f=c=>j(s[c],1,1,()=>{s[c]=null});return{c(){e=b("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var u=T(e);for(let r=0;r<s.length;r+=1)s[r].l(u);u.forEach(m),this.h()},h(){d(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,u){w(c,e,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);a=!0},p(c,u){if(n=c,u&3){o=de(n[0]);let r;for(r=0;r<o.length;r+=1){const i=he(n,o,r);s[r]?(s[r].p(i,u),I(s[r],1)):(s[r]=ge(i),s[r].c(),I(s[r],1),s[r].m(e,null))}for(le(),r=o.length;r<s.length;r+=1)f(r);ne()}},i(c){if(!a){for(let u=0;u<o.length;u+=1)I(s[u]);se(()=>{a&&(l&&l.end(1),t=oe(e,Q,{delay:Se}),t.start())}),a=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)j(s[u]);t&&t.invalidate(),l=ye(e,Te,n[2]&&n[3]?{y:20,duration:1200,easing:Ie}:{}),a=!1},d(c){c&&m(e),Ee(s,c),c&&l&&l.end()}}}function ge(n){let e,t;return e=new Ye({props:{name:n[14].name,collected:n[1](n[14]),index:n[16],hash:n[14].hash||"",img:n[14].image_url||void 0}}),{c(){Z(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},p(l,a){const o={};a&1&&(o.name=l[14].name),a&3&&(o.collected=l[1](l[14])),a&1&&(o.hash=l[14].hash||""),a&1&&(o.img=l[14].image_url||void 0),e.$set(o)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function pe(n){let e,t,l;return t=new Qe({}),{c(){e=b("div"),Z(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var o=T(e);K(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(a,o){w(a,e,o),X(t,e,null),l=!0},i(a){l||(I(t.$$.fragment,a),l=!0)},o(a){j(t.$$.fragment,a),l=!1},d(a){a&&m(e),$(t)}}}function Ke(n){let e,t,l,a="Stamps",o,s,f,c,u,r,i,h,y,C,D;const x=[Ze,We],S=[];function P(E,k){return E[3]?0:1}s=P(n),f=S[s]=x[s](n);let _=!n[2]&&_e(n),g=n[2]&&pe();return{c(){e=b("div"),t=b("div"),l=b("h1"),l.textContent=a,o=M(),f.c(),u=M(),_&&_.c(),i=M(),g&&g.c(),h=U(),this.h()},l(E){e=v(E,"DIV",{class:!0});var k=T(e);t=v(k,"DIV",{class:!0});var V=T(t);l=v(V,"H1",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-glc03r"&&(l.textContent=a),o=N(V),f.l(V),V.forEach(m),u=N(k),_&&_.l(k),k.forEach(m),i=N(E),g&&g.l(E),h=U(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),R(t,"animate-pulse",n[4]&&n[3]),R(t,"border-b-2",n[2]),R(t,"border-dashed",n[2]),R(t,"border-slate-900",n[2]),d(e,"class","mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100")},m(E,k){w(E,e,k),p(e,t),p(t,l),p(t,o),S[s].m(t,null),p(e,u),_&&_.m(e,null),w(E,i,k),g&&g.m(E,k),w(E,h,k),y=!0,C||(D=[te(t,"touchstart",n[5]),te(t,"touchend",n[6]),te(t,"touchcancel",n[7],{passive:!0})],C=!0)},p(E,[k]){n=E;let V=s;s=P(n),s!==V&&(le(),j(S[V],1,1,()=>{S[V]=null}),ne(),f=S[s],f||(f=S[s]=x[s](n),f.c()),I(f,1),f.m(t,null)),(!y||k&24)&&R(t,"animate-pulse",n[4]&&n[3]),(!y||k&4)&&R(t,"border-b-2",n[2]),(!y||k&4)&&R(t,"border-dashed",n[2]),(!y||k&4)&&R(t,"border-slate-900",n[2]),n[2]?_&&(le(),j(_,1,1,()=>{_=null}),ne()):_?(_.p(n,k),k&4&&I(_,1)):(_=_e(n),_.c(),I(_,1),_.m(e,null)),n[2]?g?k&4&&I(g,1):(g=pe(),g.c(),I(g,1),g.m(h.parentNode,h)):g&&(le(),j(g,1,1,()=>{g=null}),ne())},i(E){y||(I(f),c||se(()=>{c=oe(t,Q,{delay:Se}),c.start()}),I(_),r&&r.end(1),I(g),y=!0)},o(E){j(f),j(_),r=ye(e,Q,{}),j(g),y=!1},d(E){E&&(m(e),m(i),m(h)),S[s].d(),_&&_.d(),E&&r&&r.end(),g&&g.d(E),C=!1,ke(D)}}}const Se=500,Xe=1e3;function $e(n,e,t){let{stamps:l=[]}=e,a=function(S){return!1},o=function(){},s=!0,f=!1;function c(){return Le()>=we}ve(()=>{t(1,a=function(S){const P=Ce(Ae);return P==null?void 0:P[S.hash||""]}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,s=!0)},c()&&(console.log("All stamps collected!"),t(3,f=!0)),t(2,s=localStorage.getItem("isStampSheetTorn")==="yes")});let u,r,i,h=!1,y;function C(S){S.touches.length===2&&f&&(u=new Date().getTime(),i=S.touches.length,t(4,h=!0),y=setTimeout(()=>{o()},2e3))}function D(S){i===2&&(r=new Date().getTime(),r-u>=Xe&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,h=!1),clearTimeout(y)}function x(){i=0,t(4,h=!1),clearTimeout(y)}return n.$$set=S=>{"stamps"in S&&t(0,l=S.stamps)},[l,a,s,f,h,C,D,x]}class et extends J{constructor(e){super(),W(this,e,$e,Ke,F,{stamps:0})}}function tt(n){let e,t;return e=new et({props:{stamps:n[0]}}),{c(){Z(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},p(l,[a]){const o={};a&1&&(o.stamps=l[0]),e.$set(o)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function lt(n,e,t){let l,a;return be(n,je,o=>t(1,a=o)),n.$$.update=()=>{n.$$.dirty&2&&t(0,l=Object.entries(a).map(([o,s])=>({...s,hash:o})))},[l,a]}class dt extends J{constructor(e){super(),W(this,e,lt,tt,F,{})}}export{dt as component,ut as universal};
