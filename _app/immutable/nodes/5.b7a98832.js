import{f as Y}from"../chunks/client.0356fdca.js";import{S as C,i as I,s as R,k as b,q as L,a as T,l as p,m as g,r as N,c as S,h as _,n as E,N as y,b as O,C as d,u as D,M as A,D as V,g as B,f as W,O as F,d as M,Y as G,y as J,z as K,A as Q,B as U,v as X,W as x}from"../chunks/index.a1611425.js";import{n as $}from"../chunks/store.19762889.js";import{f as ee}from"../chunks/const.fc20f7b0.js";const te=async()=>{try{return{leaderboard:(await Y()).data.filter(a=>a.nickname!==null).sort((a,t)=>t.stamps_collected-a.stamps_collected)}}catch(n){return console.error(n),{leaderboard:[]}}},de=Object.freeze(Object.defineProperty({__proto__:null,load:te},Symbol.toStringTag,{value:"Module"}));function H(n){let e;return{c(){e=b("span"),this.h()},l(a){e=p(a,"SPAN",{class:!0});var t=g(e);t.forEach(_),this.h()},h(){E(e,"class","flex items-center"),y(e,"fill-yellow-400",n[0]===1),y(e,"fill-slate-400",n[0]===2),y(e,"fill-amber-500",n[0]===3)},m(a,t){O(a,e,t),e.innerHTML=n[4]},p(a,t){t&1&&y(e,"fill-yellow-400",a[0]===1),t&1&&y(e,"fill-slate-400",a[0]===2),t&1&&y(e,"fill-amber-500",a[0]===3)},d(a){a&&_(e)}}}function ae(n){let e,a,t,m,f,h,v,i,u,o,w,s,r=n[0]<4&&H(n);return{c(){e=b("tr"),a=b("th"),t=b("span"),m=L("# "),f=L(n[0]),h=T(),r&&r.c(),v=T(),i=b("td"),u=L(n[1]),o=T(),w=b("td"),s=L(n[2]),this.h()},l(l){e=p(l,"TR",{});var c=g(e);a=p(c,"TH",{class:!0});var q=g(a);t=p(q,"SPAN",{class:!0});var k=g(t);m=N(k,"# "),f=N(k,n[0]),h=S(k),r&&r.l(k),k.forEach(_),q.forEach(_),v=S(c),i=p(c,"TD",{});var P=g(i);u=N(P,n[1]),P.forEach(_),o=S(c),w=p(c,"TD",{});var z=g(w);s=N(z,n[2]),z.forEach(_),c.forEach(_),this.h()},h(){E(t,"class","flex gap-2 align-middle"),E(a,"class","font-mono font-normal"),y(e,"font-extrabold",n[1]===n[3])},m(l,c){O(l,e,c),d(e,a),d(a,t),d(t,m),d(t,f),d(t,h),r&&r.m(t,null),d(e,v),d(e,i),d(i,u),d(e,o),d(e,w),d(w,s)},p(l,[c]){c&1&&D(f,l[0]),l[0]<4?r?r.p(l,c):(r=H(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null),c&2&&D(u,l[1]),c&4&&D(s,l[2]),c&10&&y(e,"font-extrabold",l[1]===l[3])},i:A,o:A,d(l){l&&_(e),r&&r.d()}}}function le(n,e,a){let t;V(n,$,i=>a(3,t=i));let{rank:m}=e,{entryNickname:f}=e,{stamps_collected:h}=e;const v=`
	<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" ><path d="m387-412 35-114-92-74h114l36-112 36 112h114l-93 74 35 114-92-71-93 71ZM240-40v-309q-38-42-59-96t-21-115q0-134 93-227t227-93q134 0 227 93t93 227q0 61-21 115t-59 96v309l-240-80-240 80Zm240-280q100 0 170-70t70-170q0-100-70-170t-170-70q-100 0-170 70t-70 170q0 100 70 170t170 70Z"/></svg>
	`;return n.$$set=i=>{"rank"in i&&a(0,m=i.rank),"entryNickname"in i&&a(1,f=i.entryNickname),"stamps_collected"in i&&a(2,h=i.stamps_collected)},[m,f,h,t,v]}class ne extends C{constructor(e){super(),I(this,e,le,ae,R,{rank:0,entryNickname:1,stamps_collected:2})}}function Z(n,e,a){const t=n.slice();return t[2]=e[a].nickname,t[3]=e[a].stamps_collected,t[5]=a,t}function j(n){let e,a;return e=new ne({props:{rank:n[5]+1,entryNickname:n[2],stamps_collected:n[3]}}),{c(){J(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,m){Q(e,t,m),a=!0},p:A,i(t){a||(B(e.$$.fragment,t),a=!0)},o(t){M(e.$$.fragment,t),a=!1},d(t){U(e,t)}}}function re(n){let e,a,t,m,f,h,v,i,u=n[0],o=[];for(let s=0;s<u.length;s+=1)o[s]=j(Z(n,u,s));const w=s=>M(o[s],1,1,()=>{o[s]=null});return{c(){e=b("div"),a=b("h1"),t=L("Leaderboard"),m=T(),f=b("table"),h=b("tbody");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);a=p(r,"H1",{class:!0});var l=g(a);t=N(l,"Leaderboard"),l.forEach(_),m=S(r),f=p(r,"TABLE",{class:!0});var c=g(f);h=p(c,"TBODY",{});var q=g(h);for(let k=0;k<o.length;k+=1)o[k].l(q);q.forEach(_),c.forEach(_),r.forEach(_),this.h()},h(){E(a,"class","mx-4 my-4 text-4xl font-bold text-primary"),E(f,"class","table w-full"),E(e,"class","w-screen space-y-4 overflow-x-auto font-geologica text-lg text-secondary z-0")},m(s,r){O(s,e,r),d(e,a),d(a,t),d(e,m),d(e,f),d(f,h);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(h,null);i=!0},p(s,[r]){if(r&1){u=s[0];let l;for(l=0;l<u.length;l+=1){const c=Z(s,u,l);o[l]?(o[l].p(c,r),B(o[l],1)):(o[l]=j(c),o[l].c(),B(o[l],1),o[l].m(h,null))}for(X(),l=u.length;l<o.length;l+=1)w(l);W()}},i(s){if(!i){for(let r=0;r<u.length;r+=1)B(o[r]);v||F(()=>{v=x(e,ee,{delay:500}),v.start()}),i=!0}},o(s){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)M(o[r]);i=!1},d(s){s&&_(e),G(o,s)}}}function oe(n,e,a){let{data:t}=e;const{leaderboard:m}=t;return n.$$set=f=>{"data"in f&&a(1,t=f.data)},[m,t]}class me extends C{constructor(e){super(),I(this,e,oe,re,R,{data:1})}}export{me as component,de as universal};
