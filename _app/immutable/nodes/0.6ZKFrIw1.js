import{c as Ne,s as Xe}from"../chunks/stamps.CTP00fdk.js";import{s as Se,t as Ze}from"../chunks/toasts.BxjjKmbh.js";import{g as xe,s as ke,l as Qe,u as Ye,m as Fe,p as Ge,r as et,o as Je,n as tt,q as st,c as Re,v as at,h as rt}from"../chunks/scheduler.BFm2QQji.js";import{T as Q}from"../chunks/custom.DgUHssZa.js";import{u as lt,s as nt}from"../chunks/stamps.CMnNO6BG.js";import{S as ye,i as Ie,e as m,s as y,v as j,t as K,c as g,f as p,b as I,g as je,w as M,d,j as W,l as _,n as se,m as i,x as U,o as te,y as $,E as Ke,z as w,C as We,A as P,u as le,p as ot,H as Me}from"../chunks/index.BRjTsfqn.js";import{I as J,U as Ue,T as ct,Q as it,a as ft,B as ut,g as dt,b as mt}from"../chunks/index.C09ETEga.js";import{o as gt}from"../chunks/entry.DpqgSroF.js";import{u as Pe}from"../chunks/userinfo.D_LcDA1U.js";import{f as Oe}from"../chunks/index.BAW8cGS1.js";const _t=!0,pt=async()=>(vt(),await ht(),{});async function ht(){console.log("Running startup tasks..."),xe(Ne);try{await lt()}catch(n){console.error("Error fetching stamp data:",n),Se({message:"Error fetching stamp data",type:Q.ERROR})}Se({message:"Updated stamp data",type:Q.SUCCESS})}function vt(){const n=nt.channel("room:global");n.on("presence",{event:"sync"},()=>{const e=n.presenceState();console.log("sync",e)}).on("presence",{event:"join"},({key:e,newPresences:t})=>{console.log("join",e,t)}).on("presence",{event:"leave"},({key:e,leftPresences:t})=>{console.log("leave",e,t)}).subscribe()}const Ot=Object.freeze(Object.defineProperty({__proto__:null,csr:_t,load:pt},Symbol.toStringTag,{value:"Module"}));function qe(n){let e,t,r,a,s,o,l;return r=new J({props:{src:ut,theme:"solid",class:"color-gray-900",size:"20"}}),{c(){e=m("li"),t=m("a"),j(r.$$.fragment),a=K("Debug"),this.h()},l(c){e=g(c,"LI",{});var f=p(e);t=g(f,"A",{href:!0});var v=p(t);M(r.$$.fragment,v),a=W(v,"Debug"),v.forEach(d),f.forEach(d),this.h()},h(){_(t,"href","/debug")},m(c,f){se(c,e,f),i(e,t),U(r,t,null),i(t,a),s=!0,o||(l=te(t,"click",n[8]),o=!0)},p:tt,i(c){s||($(r.$$.fragment,c),s=!0)},o(c){w(r.$$.fragment,c),s=!1},d(c){c&&d(e),P(r),o=!1,l()}}}function $t(n){let e,t,r,a,s,o,l='<label for="drawer-nav" class="btn-ghost btn-square btn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block h-6 w-6 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></label>',c,f,v='<a class="btn-ghost btn bg-gradient-to-br from-primary to-secondary bg-clip-text font-geologica text-xl normal-case text-transparent" href="/">holoquest</a>',D,k,T,O,ne,oe,A,Y,ce,b,X,L,q,ie,fe,Z,V,H,ue,de,x,z,B,me,ge,ee,R,N,_e,pe,F,he,Te;O=new J({props:{src:Ue,size:"20",theme:"solid"}});const ve=n[3].default,E=Qe(ve,n,n[2],null);q=new J({props:{src:ct,theme:"solid",class:"color-gray-900",size:"20"}}),H=new J({props:{src:it,theme:"solid",class:"color-gray-900",size:"20"}}),B=new J({props:{src:Ue,theme:"solid",class:"color-gray-900",size:"20"}}),N=new J({props:{src:ft,theme:"solid",class:"color-gray-900",size:"20"}});let h=n[1]&&qe(n);return{c(){e=m("div"),t=m("input"),r=y(),a=m("div"),s=m("div"),o=m("div"),o.innerHTML=l,c=y(),f=m("div"),f.innerHTML=v,D=y(),k=m("div"),T=m("a"),j(O.$$.fragment),ne=y(),E&&E.c(),oe=y(),A=m("div"),Y=m("label"),ce=y(),b=m("ul"),X=m("li"),L=m("a"),j(q.$$.fragment),ie=K("Stamp Sheet"),fe=y(),Z=m("li"),V=m("a"),j(H.$$.fragment),ue=K("Scanner"),de=y(),x=m("li"),z=m("a"),j(B.$$.fragment),me=K("Profile"),ge=y(),ee=m("li"),R=m("a"),j(N.$$.fragment),_e=K("About"),pe=y(),h&&h.c(),this.h()},l(u){e=g(u,"DIV",{class:!0});var S=p(e);t=g(S,"INPUT",{id:!0,type:!0,class:!0}),r=I(S),a=g(S,"DIV",{class:!0});var ae=p(a);s=g(ae,"DIV",{class:!0});var G=p(s);o=g(G,"DIV",{class:!0,"data-svelte-h":!0}),je(o)!=="svelte-1yzed1x"&&(o.innerHTML=l),c=I(G),f=g(G,"DIV",{class:!0,"data-svelte-h":!0}),je(f)!=="svelte-1f5oexj"&&(f.innerHTML=v),D=I(G),k=g(G,"DIV",{class:!0});var Ce=p(k);T=g(Ce,"A",{href:!0,class:!0});var De=p(T);M(O.$$.fragment,De),De.forEach(d),Ce.forEach(d),G.forEach(d),ne=I(ae),E&&E.l(ae),ae.forEach(d),oe=I(S),A=g(S,"DIV",{class:!0});var re=p(A);Y=g(re,"LABEL",{for:!0,class:!0}),p(Y).forEach(d),ce=I(re),b=g(re,"UL",{class:!0});var C=p(b);X=g(C,"LI",{});var Ae=p(X);L=g(Ae,"A",{href:!0});var $e=p(L);M(q.$$.fragment,$e),ie=W($e,"Stamp Sheet"),$e.forEach(d),Ae.forEach(d),fe=I(C),Z=g(C,"LI",{});var Le=p(Z);V=g(Le,"A",{href:!0});var be=p(V);M(H.$$.fragment,be),ue=W(be,"Scanner"),be.forEach(d),Le.forEach(d),de=I(C),x=g(C,"LI",{});var Ve=p(x);z=g(Ve,"A",{href:!0});var we=p(z);M(B.$$.fragment,we),me=W(we,"Profile"),we.forEach(d),Ve.forEach(d),ge=I(C),ee=g(C,"LI",{});var ze=p(ee);R=g(ze,"A",{href:!0});var Ee=p(R);M(N.$$.fragment,Ee),_e=W(Ee,"About"),Ee.forEach(d),ze.forEach(d),pe=I(C),h&&h.l(C),C.forEach(d),re.forEach(d),S.forEach(d),this.h()},h(){_(t,"id","drawer-nav"),_(t,"type","checkbox"),_(t,"class","drawer-toggle"),_(o,"class","absolute left-1 flex-none lg:hidden"),_(f,"class","flex"),_(T,"href","/profile"),_(T,"class","btn-ghost btn-circle btn"),_(k,"class","absolute right-1 flex"),_(s,"class","navbar relative mb-4 flex w-full justify-center bg-base-300"),_(a,"class","drawer-content flex flex-col"),_(Y,"for","drawer-nav"),_(Y,"class","drawer-overlay"),_(L,"href","/"),_(V,"href","/scanner"),_(z,"href","/profile"),_(R,"href","/about"),_(b,"class","menu h-full w-60 bg-base-200 p-4 text-xl"),_(A,"class","drawer-side"),_(e,"class","drawer")},m(u,S){se(u,e,S),i(e,t),i(e,r),i(e,a),i(a,s),i(s,o),i(s,c),i(s,f),i(s,D),i(s,k),i(k,T),U(O,T,null),i(a,ne),E&&E.m(a,null),i(e,oe),i(e,A),i(A,Y),i(A,ce),i(A,b),i(b,X),i(X,L),U(q,L,null),i(L,ie),i(b,fe),i(b,Z),i(Z,V),U(H,V,null),i(V,ue),i(b,de),i(b,x),i(x,z),U(B,z,null),i(z,me),i(b,ge),i(b,ee),i(ee,R),U(N,R,null),i(R,_e),i(b,pe),h&&h.m(b,null),F=!0,he||(Te=[te(L,"click",n[4]),te(V,"click",n[5]),te(z,"click",n[6]),te(R,"click",n[7])],he=!0)},p(u,[S]){E&&E.p&&(!F||S&4)&&Ye(E,ve,u,u[2],F?Ge(ve,u[2],S,null):Fe(u[2]),null),u[1]?h?(h.p(u,S),S&2&&$(h,1)):(h=qe(u),h.c(),$(h,1),h.m(b,null)):h&&(Ke(),w(h,1,1,()=>{h=null}),We())},i(u){F||($(O.$$.fragment,u),$(E,u),$(q.$$.fragment,u),$(H.$$.fragment,u),$(B.$$.fragment,u),$(N.$$.fragment,u),$(h),F=!0)},o(u){w(O.$$.fragment,u),w(E,u),w(q.$$.fragment,u),w(H.$$.fragment,u),w(B.$$.fragment,u),w(N.$$.fragment,u),w(h),F=!1},d(u){u&&d(e),P(O),E&&E.d(u),P(q),P(H),P(B),P(N),h&&h.d(),he=!1,et(Te)}}}function bt(n,e,t){let{$$slots:r={},$$scope:a}=e,s,o=!0;Je(()=>{t(0,s=document.querySelector(".drawer-toggle")),t(1,o=localStorage.getItem("debug")==="true")});const l=()=>{t(0,s.checked=!1,s)},c=()=>{t(0,s.checked=!1,s)},f=()=>{t(0,s.checked=!1,s)},v=()=>{t(0,s.checked=!1,s)},D=()=>{t(0,s.checked=!1,s)};return n.$$set=k=>{"$$scope"in k&&t(2,a=k.$$scope)},[s,o,a,r,l,c,f,v,D]}class wt extends ye{constructor(e){super(),Ie(this,e,bt,$t,ke,{})}}function Et(n){let e,t,r,a,s,o,l,c;return{c(){e=m("div"),t=m("div"),r=m("div"),a=m("span"),s=K(n[1]),this.h()},l(f){e=g(f,"DIV",{class:!0});var v=p(e);t=g(v,"DIV",{class:!0});var D=p(t);r=g(D,"DIV",{class:!0});var k=p(r);a=g(k,"SPAN",{});var T=p(a);s=W(T,n[1]),T.forEach(d),k.forEach(d),D.forEach(d),v.forEach(d),this.h()},h(){_(r,"class","text-center"),_(t,"class",o="alert alert-"+n[0]),le(t,"alert-success",n[0]===Q.SUCCESS),le(t,"alert-error",n[0]===Q.ERROR),_(e,"class","toast-center toast-bottom toast -z-50 w-60")},m(f,v){se(f,e,v),i(e,t),i(t,r),i(r,a),i(a,s),c=!0},p(f,[v]){(!c||v&2)&&ot(s,f[1]),(!c||v&1&&o!==(o="alert alert-"+f[0]))&&_(t,"class",o),(!c||v&1)&&le(t,"alert-success",f[0]===Q.SUCCESS),(!c||v&1)&&le(t,"alert-error",f[0]===Q.ERROR)},i(f){c||(st(()=>{c&&(l||(l=Me(t,Oe,{},!0)),l.run(1))}),c=!0)},o(f){l||(l=Me(t,Oe,{},!1)),l.run(0),c=!1},d(f){f&&d(e),f&&l&&l.end()}}}function St(n,e,t){let{type:r=Q.SUCCESS}=e,{message:a}=e;return n.$$set=s=>{"type"in s&&t(0,r=s.type),"message"in s&&t(1,a=s.message)},[r,a]}class kt extends ye{constructor(e){super(),Ie(this,e,St,Et,ke,{type:0,message:1})}}const yt=n=>({}),He=n=>({class:"overscroll-y-none"});function Be(n){let e,t;const r=[n[0]];let a={};for(let s=0;s<r.length;s+=1)a=rt(a,r[s]);return e=new kt({props:a}),{c(){j(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,o){const l=o&1?dt(r,[mt(s[0])]):{};e.$set(l)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function It(n){let e,t,r,a=n[0]&&Be(n);const s=n[1].default,o=Qe(s,n,n[2],He);return{c(){e=m("div"),a&&a.c(),t=y(),o&&o.c(),this.h()},l(l){e=g(l,"DIV",{class:!0});var c=p(e);a&&a.l(c),c.forEach(d),t=I(l),o&&o.l(l),this.h()},h(){_(e,"class","toast-center toast-bottom toast z-50")},m(l,c){se(l,e,c),a&&a.m(e,null),se(l,t,c),o&&o.m(l,c),r=!0},p(l,c){l[0]?a?(a.p(l,c),c&1&&$(a,1)):(a=Be(l),a.c(),$(a,1),a.m(e,null)):a&&(Ke(),w(a,1,1,()=>{a=null}),We()),o&&o.p&&(!r||c&4)&&Ye(o,s,l,l[2],r?Ge(s,l[2],c,yt):Fe(l[2]),He)},i(l){r||($(a),$(o,l),r=!0)},o(l){w(a),w(o,l),r=!1},d(l){l&&(d(e),d(t)),a&&a.d(),o&&o.d(l)}}}function Tt(n){let e,t;return e=new wt({props:{$$slots:{default:[It]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,a){U(e,r,a),t=!0},p(r,[a]){const s={};a&5&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Ct(n,e,t){let r,a;Re(n,Pe,l=>t(3,r=l)),Re(n,Ze,l=>t(0,a=l));let{$$slots:s={},$$scope:o}=e;return Je(async()=>{at(Pe,r=localStorage.getItem("userToken"),r),localStorage.getItem("debug")==="true"&&Object.assign(window,{setToast:Se,saveStamp:Xe,collectedStamps:Ne})}),gt(l=>{if(document.startViewTransition)return new Promise(c=>{document.startViewTransition(async()=>{c(),await l.complete})})}),n.$$set=l=>{"$$scope"in l&&t(2,o=l.$$scope)},[a,s,o]}class qt extends ye{constructor(e){super(),Ie(this,e,Ct,Tt,ke,{})}}export{qt as component,Ot as universal};
