import{s as L,a as U,n as Y,r as z,c as D,o as H,i as M,b as $}from"../chunks/scheduler.CBKiOPsq.js";import{S as j,i as F,e as f,s as k,c as _,g as v,b as g,f as G,d as x,l as r,n as S,m,r as q,o as B,u as V}from"../chunks/index.UAAIVKsT.js";import{f as A}from"../chunks/index.DDOAEnwF.js";import{s as E,n as w}from"../chunks/store.IwZCqYX8.js";import{T as R}from"../chunks/custom.DgUHssZa.js";function J(n){let a,h="Profile",o,u,e,i,y="Nickname",d,s,b,c,P="Set nickname",C,p,I="Your nickname is used to identify you in the leaderboards and realtime events.",N,T,O;return{c(){a=f("h1"),a.textContent=h,u=k(),e=f("div"),i=f("label"),i.textContent=y,d=k(),s=f("input"),b=k(),c=f("button"),c.textContent=P,C=k(),p=f("p"),p.textContent=I,this.h()},l(l){a=_(l,"H1",{class:!0,"data-svelte-h":!0}),v(a)!=="svelte-zwrkr8"&&(a.textContent=h),u=g(l),e=_(l,"DIV",{class:!0});var t=G(e);i=_(t,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),v(i)!=="svelte-1qg61em"&&(i.textContent=y),d=g(t),s=_(t,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),b=g(t),c=_(t,"BUTTON",{class:!0,"data-svelte-h":!0}),v(c)!=="svelte-134mnq4"&&(c.textContent=P),C=g(t),p=_(t,"P",{"data-svelte-h":!0}),v(p)!=="svelte-1sy1pg1"&&(p.textContent=I),t.forEach(x),this.h()},h(){r(a,"class","mx-4 my-4 font-geologica text-4xl font-bold text-primary"),r(i,"class","font-geologica text-xl font-bold text-secondary"),r(i,"for","nickname"),r(s,"type","text"),r(s,"id","nickname"),r(s,"name","nickname"),r(s,"placeholder","E.g. smol_ame"),r(s,"class","input-bordered input-secondary input w-full max-w-xs"),r(c,"class","btn-secondary btn rounded-full"),r(e,"class","mx-4 my-4 space-y-4")},m(l,t){S(l,a,t),S(l,u,t),S(l,e,t),m(e,i),m(e,d),m(e,s),q(s,n[1]),m(e,b),m(e,c),m(e,C),m(e,p),T||(O=[B(s,"input",n[2]),B(c,"click",function(){M(n[0])&&n[0].apply(this,arguments)})],T=!0)},p(l,[t]){n=l,t&2&&s.value!==n[1]&&q(s,n[1])},i(l){o||U(()=>{o=V(a,A,{delay:500}),o.start()}),N||U(()=>{N=V(e,A,{delay:500}),N.start()})},o:Y,d(l){l&&(x(a),x(u),x(e)),T=!1,z(O)}}}function K(n){return n.length>2&&n.length<=20}function Q(n,a,h){let o;D(n,w,y=>h(1,o=y));let u="",e=async()=>{};H(async()=>{u=localStorage.getItem("userToken")||"",h(0,e=async()=>{let d=document.getElementById("nickname").value;if(!K(d)){E({type:R.ERROR,message:"Nickname must be between 3 and 20 characters long"});return}$(w,o=d,o),u!==""&&u!==null?E({type:R.SUCCESS,message:"Nickname updated successfully"}):E({type:R.ERROR,message:"User token not found"})})});function i(){o=this.value,w.set(o)}return[e,o,i]}class ne extends j{constructor(a){super(),F(this,a,Q,J,L,{})}}export{ne as component};
