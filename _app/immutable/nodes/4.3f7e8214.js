import{S as me,i as _e,s as de,k as p,q as _,a as g,l as f,m,r as d,h as i,c as k,n as b,b as fe,C as t,H as ce,u as O,M as ie,Y as be,L as ve,D as he,o as ge}from"../chunks/index.862ba5ca.js";import{e as ke}from"../chunks/qr-scanner.min.4880ecae.js";import{n as Se,u as Ee}from"../chunks/store.abc0b967.js";function ue(n,e,o){const h=n.slice();return h[6]=e[o],h}function pe(n){let e,o=n[6].label+"",h;return{c(){e=p("li"),h=_(o),this.h()},l(u){e=f(u,"LI",{class:!0});var c=m(e);h=d(c,o),c.forEach(i),this.h()},h(){b(e,"class","font-mono text-base")},m(u,c){fe(u,e,c),t(e,h)},p(u,c){c&1&&o!==(o=u[6].label+"")&&O(h,o)},d(u){u&&i(e)}}}function Pe(n){let e,o,h,u,c,P,v,L,S,T,H,V,U,Y,D,q,j,I,z,N,B,F,x,G,J,A,K,w=n[1]?"torn":"untorn",M,Q,E,R,W,te,C=n[0],r=[];for(let l=0;l<C.length;l+=1)r[l]=pe(ue(n,C,l));return{c(){e=p("div"),o=p("p"),h=_("Available cameras"),u=g(),c=p("ul");for(let l=0;l<r.length;l+=1)r[l].c();P=g(),v=p("button"),L=_("clear localstorage"),S=g(),T=p("p"),H=_("User info"),V=g(),U=p("p"),Y=_("Nickname: "),D=p("span"),q=_(n[2]),j=g(),I=p("p"),z=_("Device ID: "),N=p("span"),B=_(n[3]),F=g(),x=p("p"),G=_("Stamps"),J=g(),A=p("p"),K=_("Stamp sheet status: "),M=_(w),Q=g(),E=p("button"),R=_("Untear sheet"),this.h()},l(l){e=f(l,"DIV",{class:!0});var a=m(e);o=f(a,"P",{class:!0});var s=m(o);h=d(s,"Available cameras"),s.forEach(i),u=k(a),c=f(a,"UL",{});var y=m(c);for(let ee=0;ee<r.length;ee+=1)r[ee].l(y);y.forEach(i),P=k(a),v=f(a,"BUTTON",{class:!0});var ae=m(v);L=d(ae,"clear localstorage"),ae.forEach(i),S=k(a),T=f(a,"P",{class:!0});var le=m(T);H=d(le,"User info"),le.forEach(i),V=k(a),U=f(a,"P",{});var X=m(U);Y=d(X,"Nickname: "),D=f(X,"SPAN",{class:!0});var se=m(D);q=d(se,n[2]),se.forEach(i),X.forEach(i),j=k(a),I=f(a,"P",{});var Z=m(I);z=d(Z,"Device ID: "),N=f(Z,"SPAN",{class:!0});var oe=m(N);B=d(oe,n[3]),oe.forEach(i),Z.forEach(i),F=k(a),x=f(a,"P",{class:!0});var ne=m(x);G=d(ne,"Stamps"),ne.forEach(i),J=k(a),A=f(a,"P",{});var $=m(A);K=d($,"Stamp sheet status: "),M=d($,w),$.forEach(i),Q=k(a),E=f(a,"BUTTON",{class:!0});var re=m(E);R=d(re,"Untear sheet"),re.forEach(i),a.forEach(i),this.h()},h(){b(o,"class","text-xl font-bold"),b(v,"class","btn-error btn mx-auto w-8/12 gap-2 rounded-full"),b(T,"class","text-xl font-bold"),b(D,"class","font-mono"),b(N,"class","font-mono"),b(x,"class","text-xl font-bold"),b(E,"class","btn-primary btn mx-auto w-8/12 gap-2 rounded-full"),b(e,"class","mx-4 space-y-4")},m(l,a){fe(l,e,a),t(e,o),t(o,h),t(e,u),t(e,c);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(c,null);t(e,P),t(e,v),t(v,L),t(e,S),t(e,T),t(T,H),t(e,V),t(e,U),t(U,Y),t(U,D),t(D,q),t(e,j),t(e,I),t(I,z),t(I,N),t(N,B),t(e,F),t(e,x),t(x,G),t(e,J),t(e,A),t(A,K),t(A,M),t(e,Q),t(e,E),t(E,R),W||(te=[ce(v,"click",n[4]),ce(E,"click",n[5])],W=!0)},p(l,[a]){if(a&1){C=l[0];let s;for(s=0;s<C.length;s+=1){const y=ue(l,C,s);r[s]?r[s].p(y,a):(r[s]=pe(y),r[s].c(),r[s].m(c,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=C.length}a&4&&O(q,l[2]),a&8&&O(B,l[3]),a&2&&w!==(w=l[1]?"torn":"untorn")&&O(M,w)},i:ie,o:ie,d(l){l&&i(e),be(r,l),W=!1,ve(te)}}}function Te(n,e,o){let h,u;he(n,Se,S=>o(2,h=S)),he(n,Ee,S=>o(3,u=S));let c=[],P=!1;return ge(async()=>{o(0,c=await ke.listCameras(!0)),o(1,P=localStorage.getItem("isStampSheetTorn")==="yes")}),[c,P,h,u,()=>{localStorage.clear()},()=>localStorage.setItem("isStampSheetTorn","no")]}class Ne extends me{constructor(e){super(),_e(this,e,Te,Pe,de,{})}}export{Ne as component};
