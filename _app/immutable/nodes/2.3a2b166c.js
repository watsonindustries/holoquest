import{S as X,i as x,s as $,k as v,a as R,q as G,l as y,m as k,h,c as U,r as V,V as K,n as d,N,b as A,C as m,u as Q,O as ee,W as te,M as L,e as z,g as D,D as ye,o as ge,H as W,v as Z,d as j,f as J,X as pe,L as Ee,Y as Se,y as le,z as ae,A as se,B as oe}from"../chunks/index.ca4d86f6.js";import{f as F,h as ne,c as ke,a as Ie,e as be}from"../chunks/const.969bf960.js";import{I as Te,Q as De}from"../chunks/index.df4b2f51.js";import{G as O}from"../chunks/custom.fbadb549.js";import{n as Ae}from"../chunks/store.7f71c011.js";const we=!0,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:we},Symbol.toStringTag,{value:"Module"}));function Pe(a){let e,t,l,o,n,s,u,c,i,r,f,_;return{c(){e=v("a"),t=v("div"),l=v("div"),o=v("div"),n=v("div"),s=v("img"),i=R(),r=v("div"),f=G(a[1]),this.h()},l(p){e=y(p,"A",{href:!0});var T=k(e);t=y(T,"DIV",{class:!0});var w=k(t);l=y(w,"DIV",{class:!0});var C=k(l);o=y(C,"DIV",{class:!0});var E=k(o);n=y(E,"DIV",{class:!0});var H=k(n);s=y(H,"IMG",{src:!0,alt:!0,class:!0}),H.forEach(h),E.forEach(h),C.forEach(h),i=U(w),r=y(w,"DIV",{class:!0});var g=k(r);f=V(g,a[1]),g.forEach(h),w.forEach(h),T.forEach(h),this.h()},h(){K(s.src,u=a[4])||d(s,"src",u),d(s,"alt",a[1]),d(s,"class","h-20 w-20 rounded-full"),N(s,"opacity-30",!a[2]),d(n,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(o,"class","flex h-24 w-24 items-center justify-center rounded-full"),d(l,"class",c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),N(r,"font-bold",a[2]),d(t,"class","flex flex-col items-center"),d(e,"href",a[3])},m(p,T){A(p,e,T),m(e,t),m(t,l),m(l,o),m(o,n),m(n,s),m(t,i),m(t,r),m(r,f)},p(p,[T]){a=p,T&16&&!K(s.src,u=a[4])&&d(s,"src",u),T&2&&d(s,"alt",a[1]),T&4&&N(s,"opacity-30",!a[2]),T&4&&c!==(c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&d(l,"class",c),T&2&&Q(f,a[1]),T&4&&N(r,"font-bold",a[2]),T&8&&d(e,"href",a[3])},i(p){_||ee(()=>{_=te(t,F,{duration:a[5],delay:150*a[0]+500}),_.start()})},o:L,d(p){p&&h(e)}}}const Le="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function Ge(a,e,t){let{id:l}=e,{name:o}=e,{collected:n=!1}=e,{navURL:s=`/partner/${l}`}=e,{img:u=Le}=e;const c=100;return a.$$set=i=>{"id"in i&&t(0,l=i.id),"name"in i&&t(1,o=i.name),"collected"in i&&t(2,n=i.collected),"navURL"in i&&t(3,s=i.navURL),"img"in i&&t(4,u=i.img)},[l,o,n,s,u,c]}class Ve extends X{constructor(e){super(),x(this,e,Ge,Pe,$,{id:0,name:1,collected:2,navURL:3,img:4,fadeDuration:5})}get fadeDuration(){return this.$$.ctx[5]}}function Ce(a){let e,t=a[1]&&ue(a);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,o){t&&t.m(l,o),A(l,e,o)},p(l,o){l[1]?t?(t.p(l,o),o&2&&D(t,1)):(t=ue(l),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){D(t)},o:L,d(l){t&&t.d(l),l&&h(e)}}}function Me(a){let e,t,l,o;return{c(){e=v("span"),t=R(),l=v("p"),o=G("Warming up the gacha..."),this.h()},l(n){e=y(n,"SPAN",{class:!0}),k(e).forEach(h),t=U(n),l=y(n,"P",{class:!0});var s=k(l);o=V(s,"Warming up the gacha..."),s.forEach(h),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(n,s){A(n,e,s),A(n,t,s),A(n,l,s),m(l,o)},p:L,i:L,o:L,d(n){n&&h(e),n&&h(t),n&&h(l)}}}function Ye(a){let e,t,l,o;return{c(){e=v("button"),t=G("Play Gacha"),this.h()},l(n){e=y(n,"BUTTON",{class:!0});var s=k(e);t=V(s,"Play Gacha"),s.forEach(h),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(n,s){A(n,e,s),m(e,t),l||(o=W(e,"click",a[3]),l=!0)},p:L,i:L,o:L,d(n){n&&h(e),l=!1,o()}}}function ue(a){let e,t,l,o,n,s,u,c,i,r,f=a[1].english_name+"",_,p,T,w,C=a[1].group+"",E,H,g,b,I,S,Y;return{c(){e=v("div"),t=v("figure"),l=v("img"),s=R(),u=v("div"),c=v("h2"),i=G(a[2]),r=G(" got "),_=G(f),p=G("!"),T=R(),w=v("p"),E=G(C),H=R(),g=v("div"),b=v("a"),I=G("Explore Channel"),this.h()},l(P){e=y(P,"DIV",{class:!0});var M=k(e);t=y(M,"FIGURE",{});var re=k(t);l=y(re,"IMG",{src:!0,alt:!0}),re.forEach(h),s=U(M),u=y(M,"DIV",{class:!0});var q=k(u);c=y(q,"H2",{class:!0});var B=k(c);i=V(B,a[2]),r=V(B," got "),_=V(B,f),p=V(B,"!"),B.forEach(h),T=U(q),w=y(q,"P",{class:!0});var ie=k(w);E=V(ie,C),ie.forEach(h),H=U(q),g=y(q,"DIV",{class:!0});var ce=k(g);b=y(ce,"A",{class:!0,href:!0});var fe=k(b);I=V(fe,"Explore Channel"),fe.forEach(h),ce.forEach(h),q.forEach(h),M.forEach(h),this.h()},h(){K(l.src,o=a[1].photo)||d(l,"src",o),d(l,"alt",n=a[1].english_name),d(c,"class","card-title text-xl text-slate-100"),d(w,"class","text-slate-100"),d(b,"class","btn-secondary btn rounded-full text-slate-50"),d(b,"href",S="https://holodex.net/channel/"+a[1].id+"/clips"),d(g,"class","card-actions justify-end"),d(u,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(P,M){A(P,e,M),m(e,t),m(t,l),m(e,s),m(e,u),m(u,c),m(c,i),m(c,r),m(c,_),m(c,p),m(u,T),m(u,w),m(w,E),m(u,H),m(u,g),m(g,b),m(b,I)},p(P,M){M&2&&!K(l.src,o=P[1].photo)&&d(l,"src",o),M&2&&n!==(n=P[1].english_name)&&d(l,"alt",n),M&4&&Q(i,P[2]),M&2&&f!==(f=P[1].english_name+"")&&Q(_,f),M&2&&C!==(C=P[1].group+"")&&Q(E,C),M&2&&S!==(S="https://holodex.net/channel/"+P[1].id+"/clips")&&d(b,"href",S)},i(P){Y||ee(()=>{Y=te(e,F,{delay:500}),Y.start()})},o:L,d(P){P&&h(e)}}}function Ne(a){let e,t,l,o,n,s,u;function c(f,_){if(f[0]===O.NOT_PLAYED)return Ye;if(f[0]===O.PLAYING)return Me;if(f[0]===O.PLAYED)return Ce}let i=c(a),r=i&&i(a);return{c(){e=v("h1"),t=G("Thank you!"),l=R(),o=v("h2"),n=G("You have completed the quest!"),s=R(),r&&r.c(),u=z(),this.h()},l(f){e=y(f,"H1",{class:!0});var _=k(e);t=V(_,"Thank you!"),_.forEach(h),l=U(f),o=y(f,"H2",{class:!0});var p=k(o);n=V(p,"You have completed the quest!"),p.forEach(h),s=U(f),r&&r.l(f),u=z(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(o,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(f,_){A(f,e,_),m(e,t),A(f,l,_),A(f,o,_),m(o,n),A(f,s,_),r&&r.m(f,_),A(f,u,_)},p(f,[_]){i===(i=c(f))&&r?r.p(f,_):(r&&r.d(1),r=i&&i(f),r&&(r.c(),D(r,1),r.m(u.parentNode,u)))},i(f){D(r)},o:L,d(f){f&&h(e),f&&h(l),f&&h(o),f&&h(s),r&&r.d(f),f&&h(u)}}}const je=3e3;function Re(a,e,t){let l;ye(a,Ae,i=>t(2,l=i));let o=O.NOT_PLAYED,n,s;function u(){const r=ne.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,o=O.PLAYING),setTimeout(()=>{t(4,s=u()),t(1,n=ne[s]),t(0,o=O.PLAYED)},je)}return ge(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,o=O.PLAYED),t(4,s=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,n=ne[s]))}),a.$$.update=()=>{a.$$.dirty&17&&o===O.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",s.toString()))},[o,n,l,c,s]}class Ue extends X{constructor(e){super(),x(this,e,Re,Ne,$,{})}}function he(a,e,t){const l=a.slice();return l[14]=e[t],l}function He(a){let e,t,l,o;return t=new Te({props:{src:De,theme:"solid",class:"h-8 w-8"}}),{c(){e=v("a"),le(t.$$.fragment),l=G(`
				Scan stamp`),this.h()},l(n){e=y(n,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var s=k(e);ae(t.$$.fragment,s),l=V(s,`
				Scan stamp`),s.forEach(h),this.h()},h(){d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(n,s){A(n,e,s),se(t,e,null),m(e,l),o=!0},p:L,i(n){o||(D(t.$$.fragment,n),o=!0)},o(n){j(t.$$.fragment,n),o=!1},d(n){n&&h(e),oe(t)}}}function Oe(a){let e,t;return{c(){e=v("h2"),t=G("Show sheet to staff at the booth!"),this.h()},l(l){e=y(l,"H2",{class:!0});var o=k(e);t=V(o,"Show sheet to staff at the booth!"),o.forEach(h),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,o){A(l,e,o),m(e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function de(a){let e,t,l,o,n=a[0],s=[];for(let c=0;c<n.length;c+=1)s[c]=me(he(a,n,c));const u=c=>j(s[c],1,1,()=>{s[c]=null});return{c(){e=v("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=y(c,"DIV",{class:!0});var i=k(e);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(h),this.h()},h(){d(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,i){A(c,e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);o=!0},p(c,i){if(a=c,i&3){n=a[0];let r;for(r=0;r<n.length;r+=1){const f=he(a,n,r);s[r]?(s[r].p(f,i),D(s[r],1)):(s[r]=me(f),s[r].c(),D(s[r],1),s[r].m(e,null))}for(Z(),r=n.length;r<s.length;r+=1)u(r);J()}},i(c){if(!o){for(let i=0;i<n.length;i+=1)D(s[i]);ee(()=>{o&&(l&&l.end(1),t=te(e,F,{delay:ve}),t.start())}),o=!0}},o(c){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)j(s[i]);t&&t.invalidate(),l=pe(e,Ie,a[2]&&a[3]?{y:20,duration:1200,easing:ke}:{}),o=!1},d(c){c&&h(e),Se(s,c),c&&l&&l.end()}}}function me(a){let e,t;return e=new Ve({props:{name:a[14].name,collected:a[1](a[14]),id:a[14].id,img:a[14].imageURL}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,o){se(e,l,o),t=!0},p(l,o){const n={};o&1&&(n.name=l[14].name),o&3&&(n.collected=l[1](l[14])),o&1&&(n.id=l[14].id),o&1&&(n.img=l[14].imageURL),e.$set(n)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function _e(a){let e,t,l;return t=new Ue({}),{c(){e=v("div"),le(t.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var n=k(e);ae(t.$$.fragment,n),n.forEach(h),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(o,n){A(o,e,n),se(t,e,null),l=!0},i(o){l||(D(t.$$.fragment,o),l=!0)},o(o){j(t.$$.fragment,o),l=!1},d(o){o&&h(e),oe(t)}}}function qe(a){let e,t,l,o,n,s,u,c,i,r,f,_,p,T,w;const C=[Oe,He],E=[];function H(I,S){return I[3]?0:1}s=H(a),u=E[s]=C[s](a);let g=!a[2]&&de(a),b=a[2]&&_e();return{c(){e=v("div"),t=v("div"),l=v("h1"),o=G("Stamps"),n=R(),u.c(),i=R(),g&&g.c(),f=R(),b&&b.c(),_=z(),this.h()},l(I){e=y(I,"DIV",{class:!0});var S=k(e);t=y(S,"DIV",{class:!0});var Y=k(t);l=y(Y,"H1",{class:!0});var P=k(l);o=V(P,"Stamps"),P.forEach(h),n=U(Y),u.l(Y),Y.forEach(h),i=U(S),g&&g.l(S),S.forEach(h),f=U(I),b&&b.l(I),_=z(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),N(t,"animate-pulse",a[4]&&a[3]),N(t,"border-b-2",a[2]),N(t,"border-dashed",a[2]),N(t,"border-slate-900",a[2]),d(e,"class","bg-triangles mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100")},m(I,S){A(I,e,S),m(e,t),m(t,l),m(l,o),m(t,n),E[s].m(t,null),m(e,i),g&&g.m(e,null),A(I,f,S),b&&b.m(I,S),A(I,_,S),p=!0,T||(w=[W(t,"touchstart",a[5]),W(t,"touchend",a[6]),W(t,"touchcancel",a[7],{passive:!0})],T=!0)},p(I,[S]){a=I;let Y=s;s=H(a),s===Y?E[s].p(a,S):(Z(),j(E[Y],1,1,()=>{E[Y]=null}),J(),u=E[s],u?u.p(a,S):(u=E[s]=C[s](a),u.c()),D(u,1),u.m(t,null)),(!p||S&24)&&N(t,"animate-pulse",a[4]&&a[3]),(!p||S&4)&&N(t,"border-b-2",a[2]),(!p||S&4)&&N(t,"border-dashed",a[2]),(!p||S&4)&&N(t,"border-slate-900",a[2]),a[2]?g&&(Z(),j(g,1,1,()=>{g=null}),J()):g?(g.p(a,S),S&4&&D(g,1)):(g=de(a),g.c(),D(g,1),g.m(e,null)),a[2]?b?S&4&&D(b,1):(b=_e(),b.c(),D(b,1),b.m(_.parentNode,_)):b&&(Z(),j(b,1,1,()=>{b=null}),J())},i(I){p||(D(u),c||ee(()=>{c=te(t,F,{delay:ve}),c.start()}),D(g),r&&r.end(1),D(b),p=!0)},o(I){j(u),j(g),r=pe(e,F,{}),j(b),p=!1},d(I){I&&h(e),E[s].d(),g&&g.d(),I&&r&&r.end(),I&&h(f),b&&b.d(I),I&&h(_),T=!1,Ee(w)}}}const ve=500,ze=1e3;function Be(a,e,t){let{stamps:l=[]}=e,o=function(E){return!1},n=function(){},s=!0,u=!1;function c(){return be.every(o)}ge(()=>{t(1,o=function(E){return localStorage.getItem(E.hash)!==null}),n=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,s=!0)},c()&&(console.log("All stamps collected!"),t(3,u=!0)),t(2,s=localStorage.getItem("isStampSheetTorn")==="yes")});let i,r,f,_=!1,p;function T(E){E.touches.length===2&&u&&(i=new Date().getTime(),f=E.touches.length,t(4,_=!0),p=setTimeout(()=>{n()},2e3))}function w(E){f===2&&(r=new Date().getTime(),r-i>=ze&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,_=!1),clearTimeout(p)}function C(){f=0,t(4,_=!1),clearTimeout(p)}return a.$$set=E=>{"stamps"in E&&t(0,l=E.stamps)},[l,o,s,u,_,T,w,C]}class Fe extends X{constructor(e){super(),x(this,e,Be,qe,$,{stamps:0})}}function Qe(a){let e,t;return e=new Fe({props:{stamps:be}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,o){se(e,l,o),t=!0},p:L,i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}class $e extends X{constructor(e){super(),x(this,e,null,Qe,$,{})}}export{$e as component,xe as universal};
