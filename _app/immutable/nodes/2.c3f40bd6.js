import{S as B,i as G,s as H,k as S,a as P,q as V,l as k,m as T,h as _,c as q,r as R,V as K,n as m,N as I,b as C,C as b,u as ne,O as Q,W as F,M,H as j,v as O,d as E,f as z,g as w,X as ee,L as ae,o as se,Y as re,y as N,z as W,A as Y,B as Z}from"../chunks/index.2cd24925.js";import{f as U,c as oe,a as ie,e as te}from"../chunks/const.d51bdaf2.js";import{I as ce,Q as fe}from"../chunks/index.dc6e4b00.js";const ue=!0,De=Object.freeze(Object.defineProperty({__proto__:null,prerender:ue},Symbol.toStringTag,{value:"Module"}));function de(n){let e,t,l,r,s,a,u,o,f,i;return{c(){e=S("a"),t=S("div"),l=S("div"),r=S("div"),s=S("img"),u=P(),o=S("div"),f=V(n[1]),this.h()},l(d){e=k(d,"A",{href:!0});var h=T(e);t=k(h,"DIV",{class:!0});var y=T(t);l=k(y,"DIV",{class:!0});var D=T(l);r=k(D,"DIV",{class:!0});var p=T(r);s=k(p,"IMG",{src:!0,alt:!0,class:!0}),p.forEach(_),D.forEach(_),u=q(y),o=k(y,"DIV",{class:!0});var L=T(o);f=R(L,n[1]),L.forEach(_),y.forEach(_),h.forEach(_),this.h()},h(){K(s.src,a=n[4])||m(s,"src",a),m(s,"alt",n[1]),m(s,"class","h-20 w-20 rounded-full"),m(r,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),m(l,"class","flex h-28 w-28 items-center justify-center rounded-full bg-gradient-to-br from-primary to-secondary"),I(l,"opacity-30",!n[2]),m(o,"class","mt-2 w-8/12 break-all text-center text-secondary"),m(t,"class","flex flex-col items-center"),m(e,"href",n[3])},m(d,h){C(d,e,h),b(e,t),b(t,l),b(l,r),b(r,s),b(t,u),b(t,o),b(o,f)},p(d,[h]){n=d,h&16&&!K(s.src,a=n[4])&&m(s,"src",a),h&2&&m(s,"alt",n[1]),h&4&&I(l,"opacity-30",!n[2]),h&2&&ne(f,n[1]),h&8&&m(e,"href",n[3])},i(d){i||Q(()=>{i=F(t,U,{duration:200,delay:150*n[0]+500}),i.start()})},o:M,d(d){d&&_(e)}}}const me="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function he(n,e,t){let{id:l}=e,{name:r}=e,{collected:s=!1}=e,{navURL:a=`/partner/${l}`}=e,{img:u=me}=e;return n.$$set=o=>{"id"in o&&t(0,l=o.id),"name"in o&&t(1,r=o.name),"collected"in o&&t(2,s=o.collected),"navURL"in o&&t(3,a=o.navURL),"img"in o&&t(4,u=o.img)},[l,r,s,a,u]}class _e extends B{constructor(e){super(),G(this,e,he,de,H,{id:0,name:1,collected:2,navURL:3,img:4})}}function X(n,e,t){const l=n.slice();return l[14]=e[t],l}function ge(n){let e,t,l,r;return t=new ce({props:{src:fe,theme:"solid",class:"h-8 w-8"}}),{c(){e=S("a"),N(t.$$.fragment),l=V(`
				Scan stamp`),this.h()},l(s){e=k(s,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var a=T(e);W(t.$$.fragment,a),l=R(a,`
				Scan stamp`),a.forEach(_),this.h()},h(){m(e,"href","/scanner"),m(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),m(e,"tabindex","-1"),m(e,"aria-disabled","true")},m(s,a){C(s,e,a),Y(t,e,null),b(e,l),r=!0},p:M,i(s){r||(w(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){s&&_(e),Z(t)}}}function pe(n){let e;function t(s,a){return s[2]?ve:be}let l=t(n),r=l(n);return{c(){e=S("h2"),r.c(),this.h()},l(s){e=k(s,"H2",{class:!0});var a=T(e);r.l(a),a.forEach(_),this.h()},h(){m(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(s,a){C(s,e,a),r.m(e,null)},p(s,a){l!==(l=t(s))&&(r.d(1),r=l(s),r&&(r.c(),r.m(e,null)))},i:M,o:M,d(s){s&&_(e),r.d()}}}function be(n){let e;return{c(){e=V("Show sheet to staff!")},l(t){e=R(t,"Show sheet to staff!")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function ve(n){let e;return{c(){e=V("Thank you for participating!")},l(t){e=R(t,"Thank you for participating!")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function x(n){let e,t,l,r,s=n[0],a=[];for(let o=0;o<s.length;o+=1)a[o]=$(X(n,s,o));const u=o=>E(a[o],1,1,()=>{a[o]=null});return{c(){e=S("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var f=T(e);for(let i=0;i<a.length;i+=1)a[i].l(f);f.forEach(_),this.h()},h(){m(e,"class","mx-8 grid grid-cols-2 gap-4 rounded-b-xl bg-slate-100 p-4 pt-8 shadow-md")},m(o,f){C(o,e,f);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null);r=!0},p(o,f){if(n=o,f&3){s=n[0];let i;for(i=0;i<s.length;i+=1){const d=X(n,s,i);a[i]?(a[i].p(d,f),w(a[i],1)):(a[i]=$(d),a[i].c(),w(a[i],1),a[i].m(e,null))}for(O(),i=s.length;i<a.length;i+=1)u(i);z()}},i(o){if(!r){for(let f=0;f<s.length;f+=1)w(a[f]);Q(()=>{r&&(l&&l.end(1),t=F(e,U,{delay:le}),t.start())}),r=!0}},o(o){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)E(a[f]);t&&t.invalidate(),l=ee(e,ie,n[2]&&n[3]?{y:20,duration:1200,easing:oe}:{opacity:100}),r=!1},d(o){o&&_(e),re(a,o),o&&l&&l.end()}}}function $(n){let e,t;return e=new _e({props:{name:n[14].name,collected:n[1](n[14]),id:n[14].id,img:n[14].imageURL}}),{c(){N(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Y(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.name=l[14].name),r&3&&(s.collected=l[1](l[14])),r&1&&(s.id=l[14].id),r&1&&(s.img=l[14].imageURL),e.$set(s)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Se(n){let e,t,l,r,s,a,u,o,f,i,d,h,y;const D=[pe,ge],p=[];function L(v,g){return v[3]?0:1}a=L(n),u=p[a]=D[a](n);let c=!n[2]&&x(n);return{c(){e=S("div"),t=S("div"),l=S("h1"),r=V("Stamps"),s=P(),u.c(),f=P(),c&&c.c(),this.h()},l(v){e=k(v,"DIV",{class:!0});var g=T(e);t=k(g,"DIV",{class:!0});var A=T(t);l=k(A,"H1",{class:!0});var J=T(l);r=R(J,"Stamps"),J.forEach(_),s=q(A),u.l(A),A.forEach(_),f=q(g),c&&c.l(g),g.forEach(_),this.h()},h(){m(l,"class","text-center font-geologica text-4xl font-bold text-primary"),m(t,"class","mx-8 flex flex-col justify-center space-y-6 rounded-t-xl bg-slate-100 pb-8 pt-4 shadow-md"),I(t,"animate-pulse",n[4]&&n[3]),I(t,"border-b-2",n[2]),I(t,"border-dashed",n[2]),I(t,"border-slate-900",n[2]),m(e,"class","my-2 divide-y-2 divide-dashed divide-slate-900")},m(v,g){C(v,e,g),b(e,t),b(t,l),b(l,r),b(t,s),p[a].m(t,null),b(e,f),c&&c.m(e,null),d=!0,h||(y=[j(t,"touchstart",n[5]),j(t,"touchend",n[6]),j(t,"touchcancel",n[7],{passive:!0})],h=!0)},p(v,[g]){n=v;let A=a;a=L(n),a===A?p[a].p(n,g):(O(),E(p[A],1,1,()=>{p[A]=null}),z(),u=p[a],u?u.p(n,g):(u=p[a]=D[a](n),u.c()),w(u,1),u.m(t,null)),(!d||g&24)&&I(t,"animate-pulse",n[4]&&n[3]),(!d||g&4)&&I(t,"border-b-2",n[2]),(!d||g&4)&&I(t,"border-dashed",n[2]),(!d||g&4)&&I(t,"border-slate-900",n[2]),n[2]?c&&(O(),E(c,1,1,()=>{c=null}),z()):c?(c.p(n,g),g&4&&w(c,1)):(c=x(n),c.c(),w(c,1),c.m(e,null))},i(v){d||(w(u),o||Q(()=>{o=F(t,U,{delay:le}),o.start()}),w(c),i&&i.end(1),d=!0)},o(v){E(u),E(c),i=ee(e,U,{}),d=!1},d(v){v&&_(e),p[a].d(),c&&c.d(),v&&i&&i.end(),h=!1,ae(y)}}}const le=500,ke=1e3;function ye(n,e,t){let{stamps:l=[]}=e,r=function(c){return!1},s=function(){},a=!1,u=!1;function o(){return te.every(r)}se(()=>{t(1,r=function(c){return localStorage.getItem(c.hash)!==null}),s=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,a=!0)},o()&&(console.log("All stamps collected!"),t(3,u=!0)),localStorage.getItem("isStampSheetTorn")==="yes"&&t(2,a=!0)});let f,i,d,h=!1,y;function D(c){c.touches.length===2&&u&&(f=new Date().getTime(),d=c.touches.length,t(4,h=!0),y=setTimeout(()=>{s()},2e3))}function p(c){d===2&&(i=new Date().getTime(),i-f>=ke&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,h=!1),clearTimeout(y)}function L(){d=0,t(4,h=!1),clearTimeout(y)}return n.$$set=c=>{"stamps"in c&&t(0,l=c.stamps)},[l,r,a,u,h,D,p,L]}class Te extends B{constructor(e){super(),G(this,e,ye,Se,H,{stamps:0})}}function we(n){let e,t;return e=new Te({props:{stamps:te}}),{c(){N(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Y(e,l,r),t=!0},p:M,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}class Le extends B{constructor(e){super(),G(this,e,null,we,H,{})}}export{Le as component,De as universal};
