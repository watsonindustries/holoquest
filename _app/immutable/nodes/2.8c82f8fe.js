import{s as X,j as K,f as $,n as x,c as Se,o as be,r as Ee}from"../chunks/scheduler.dd29296d.js";import{S as ee,i as te,g as b,s as M,m as Y,h as v,j as T,f as m,c as N,n as U,k as d,A as G,a as A,x as g,o as Q,C as le,e as q,y as z,d as C,z as W,p as Z,t as V,b as J,D as ve,E as Ie,r as ae,u as ne,v as se,w as oe}from"../chunks/index.c1e4cb46.js";import{f as F,h as re,c as Ce,a as Te,e as ye}from"../chunks/const.9aaec1ab.js";import{e as de}from"../chunks/each.e59479a4.js";import{I as Ae,Q as De}from"../chunks/index.662668ff.js";import{G as H}from"../chunks/custom.3f2abf42.js";import{n as we}from"../chunks/store.312543e3.js";const Pe=!0,lt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pe},Symbol.toStringTag,{value:"Module"}));function Le(a){let e,t,l,s,o,n,u,c,i,r,f,h;return{c(){e=b("a"),t=b("div"),l=b("div"),s=b("div"),o=b("div"),n=b("img"),i=M(),r=b("div"),f=Y(a[1]),this.h()},l(y){e=v(y,"A",{href:!0});var E=T(e);t=v(E,"DIV",{class:!0});var D=T(t);l=v(D,"DIV",{class:!0});var w=T(l);s=v(w,"DIV",{class:!0});var k=T(s);o=v(k,"DIV",{class:!0});var R=T(o);n=v(R,"IMG",{src:!0,alt:!0,class:!0}),R.forEach(m),k.forEach(m),w.forEach(m),i=N(D),r=v(D,"DIV",{class:!0});var _=T(r);f=U(_,a[1]),_.forEach(m),D.forEach(m),E.forEach(m),this.h()},h(){K(n.src,u=a[4])||d(n,"src",u),d(n,"alt",a[1]),d(n,"class","h-20 w-20 rounded-full"),G(n,"opacity-30",!a[2]),d(o,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(s,"class","flex h-24 w-24 items-center justify-center rounded-full"),d(l,"class",c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),G(r,"font-bold",a[2]),d(t,"class","flex flex-col items-center"),d(e,"href",a[3])},m(y,E){A(y,e,E),g(e,t),g(t,l),g(l,s),g(s,o),g(o,n),g(t,i),g(t,r),g(r,f)},p(y,[E]){a=y,E&16&&!K(n.src,u=a[4])&&d(n,"src",u),E&2&&d(n,"alt",a[1]),E&4&&G(n,"opacity-30",!a[2]),E&4&&c!==(c="flex h-28 w-28 items-center justify-center rounded-full "+(a[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&d(l,"class",c),E&2&&Q(f,a[1]),E&4&&G(r,"font-bold",a[2]),E&8&&d(e,"href",a[3])},i(y){h||$(()=>{h=le(t,F,{duration:a[5],delay:150*a[0]+500}),h.start()})},o:x,d(y){y&&m(e)}}}const xe="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function je(a,e,t){let{id:l}=e,{name:s}=e,{collected:o=!1}=e,{navURL:n=`/partner/${l}`}=e,{img:u=xe}=e;const c=100;return a.$$set=i=>{"id"in i&&t(0,l=i.id),"name"in i&&t(1,s=i.name),"collected"in i&&t(2,o=i.collected),"navURL"in i&&t(3,n=i.navURL),"img"in i&&t(4,u=i.img)},[l,s,o,n,u,c]}class Ge extends ee{constructor(e){super(),te(this,e,je,Le,X,{id:0,name:1,collected:2,navURL:3,img:4,fadeDuration:5})}get fadeDuration(){return this.$$.ctx[5]}}function Ve(a){let e,t=a[1]&&me(a);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,s){l[1]?t?(t.p(l,s),s&2&&C(t,1)):(t=me(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){C(t)},o:x,d(l){l&&m(e),t&&t.d(l)}}}function Me(a){let e,t,l,s="Warming up the gacha...";return{c(){e=b("span"),t=M(),l=b("p"),l.textContent=s,this.h()},l(o){e=v(o,"SPAN",{class:!0}),T(e).forEach(m),t=N(o),l=v(o,"P",{class:!0,["data-svelte-h"]:!0}),z(l)!=="svelte-16bujl6"&&(l.textContent=s),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(o,n){A(o,e,n),A(o,t,n),A(o,l,n)},p:x,i:x,o:x,d(o){o&&(m(e),m(t),m(l))}}}function Ne(a){let e,t="Play Gacha",l,s;return{c(){e=b("button"),e.textContent=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,["data-svelte-h"]:!0}),z(e)!=="svelte-bfppj8"&&(e.textContent=t),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,n){A(o,e,n),l||(s=W(e,"click",a[3]),l=!0)},p:x,i:x,o:x,d(o){o&&m(e),l=!1,s()}}}function me(a){let e,t,l,s,o,n,u,c,i,r,f=a[1].english_name+"",h,y,E,D,w=a[1].group+"",k,R,_,p,I,S,j;return{c(){e=b("div"),t=b("figure"),l=b("img"),n=M(),u=b("div"),c=b("h2"),i=Y(a[2]),r=Y(" got "),h=Y(f),y=Y("!"),E=M(),D=b("p"),k=Y(w),R=M(),_=b("div"),p=b("a"),I=Y("Explore Channel"),this.h()},l(P){e=v(P,"DIV",{class:!0});var L=T(e);t=v(L,"FIGURE",{});var ie=T(t);l=v(ie,"IMG",{src:!0,alt:!0}),ie.forEach(m),n=N(L),u=v(L,"DIV",{class:!0});var O=T(u);c=v(O,"H2",{class:!0});var B=T(c);i=U(B,a[2]),r=U(B," got "),h=U(B,f),y=U(B,"!"),B.forEach(m),E=N(O),D=v(O,"P",{class:!0});var ce=T(D);k=U(ce,w),ce.forEach(m),R=N(O),_=v(O,"DIV",{class:!0});var fe=T(_);p=v(fe,"A",{class:!0,href:!0});var ue=T(p);I=U(ue,"Explore Channel"),ue.forEach(m),fe.forEach(m),O.forEach(m),L.forEach(m),this.h()},h(){K(l.src,s=a[1].photo)||d(l,"src",s),d(l,"alt",o=a[1].english_name),d(c,"class","card-title text-xl text-slate-100"),d(D,"class","text-slate-100"),d(p,"class","btn-secondary btn rounded-full text-slate-50"),d(p,"href",S="https://holodex.net/channel/"+a[1].id+"/clips"),d(_,"class","card-actions justify-end"),d(u,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(P,L){A(P,e,L),g(e,t),g(t,l),g(e,n),g(e,u),g(u,c),g(c,i),g(c,r),g(c,h),g(c,y),g(u,E),g(u,D),g(D,k),g(u,R),g(u,_),g(_,p),g(p,I)},p(P,L){L&2&&!K(l.src,s=P[1].photo)&&d(l,"src",s),L&2&&o!==(o=P[1].english_name)&&d(l,"alt",o),L&4&&Q(i,P[2]),L&2&&f!==(f=P[1].english_name+"")&&Q(h,f),L&2&&w!==(w=P[1].group+"")&&Q(k,w),L&2&&S!==(S="https://holodex.net/channel/"+P[1].id+"/clips")&&d(p,"href",S)},i(P){j||$(()=>{j=le(e,F,{delay:500}),j.start()})},o:x,d(P){P&&m(e)}}}function Re(a){let e,t="Thank you!",l,s,o="You have completed the quest!",n,u;function c(f,h){if(f[0]===H.NOT_PLAYED)return Ne;if(f[0]===H.PLAYING)return Me;if(f[0]===H.PLAYED)return Ve}let i=c(a),r=i&&i(a);return{c(){e=b("h1"),e.textContent=t,l=M(),s=b("h2"),s.textContent=o,n=M(),r&&r.c(),u=q(),this.h()},l(f){e=v(f,"H1",{class:!0,["data-svelte-h"]:!0}),z(e)!=="svelte-dyvikd"&&(e.textContent=t),l=N(f),s=v(f,"H2",{class:!0,["data-svelte-h"]:!0}),z(s)!=="svelte-1bboxj2"&&(s.textContent=o),n=N(f),r&&r.l(f),u=q(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(s,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(f,h){A(f,e,h),A(f,l,h),A(f,s,h),A(f,n,h),r&&r.m(f,h),A(f,u,h)},p(f,[h]){i===(i=c(f))&&r?r.p(f,h):(r&&r.d(1),r=i&&i(f),r&&(r.c(),C(r,1),r.m(u.parentNode,u)))},i(f){C(r)},o:x,d(f){f&&(m(e),m(l),m(s),m(n),m(u)),r&&r.d(f)}}}const Ye=3e3;function Ue(a,e,t){let l;Se(a,we,i=>t(2,l=i));let s=H.NOT_PLAYED,o,n;function u(){const r=re.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,s=H.PLAYING),setTimeout(()=>{t(4,n=u()),t(1,o=re[n]),t(0,s=H.PLAYED)},Ye)}return be(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,s=H.PLAYED),t(4,n=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=re[n]))}),a.$$.update=()=>{a.$$.dirty&17&&s===H.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",n.toString()))},[s,o,l,c,n]}class He extends ee{constructor(e){super(),te(this,e,Ue,Re,X,{})}}function he(a,e,t){const l=a.slice();return l[14]=e[t],l}function Oe(a){let e,t,l,s;return t=new Ae({props:{src:De,theme:"solid",class:"h-8 w-8"}}),{c(){e=b("a"),ae(t.$$.fragment),l=Y(`
				Scan stamp`),this.h()},l(o){e=v(o,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var n=T(e);ne(t.$$.fragment,n),l=U(n,`
				Scan stamp`),n.forEach(m),this.h()},h(){d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(o,n){A(o,e,n),se(t,e,null),g(e,l),s=!0},i(o){s||(C(t.$$.fragment,o),s=!0)},o(o){V(t.$$.fragment,o),s=!1},d(o){o&&m(e),oe(t)}}}function qe(a){let e,t="Show sheet to staff at the booth!";return{c(){e=b("h2"),e.textContent=t,this.h()},l(l){e=v(l,"H2",{class:!0,["data-svelte-h"]:!0}),z(e)!=="svelte-1q7ltwa"&&(e.textContent=t),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,s){A(l,e,s)},i:x,o:x,d(l){l&&m(e)}}}function _e(a){let e,t,l,s,o=de(a[0]),n=[];for(let c=0;c<o.length;c+=1)n[c]=ge(he(a,o,c));const u=c=>V(n[c],1,1,()=>{n[c]=null});return{c(){e=b("div");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var i=T(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(m),this.h()},h(){d(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,i){A(c,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);s=!0},p(c,i){if(a=c,i&3){o=de(a[0]);let r;for(r=0;r<o.length;r+=1){const f=he(a,o,r);n[r]?(n[r].p(f,i),C(n[r],1)):(n[r]=ge(f),n[r].c(),C(n[r],1),n[r].m(e,null))}for(Z(),r=o.length;r<n.length;r+=1)u(r);J()}},i(c){if(!s){for(let i=0;i<o.length;i+=1)C(n[i]);$(()=>{s&&(l&&l.end(1),t=le(e,F,{delay:ke}),t.start())}),s=!0}},o(c){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)V(n[i]);t&&t.invalidate(),l=ve(e,Te,a[2]&&a[3]?{y:20,duration:1200,easing:Ce}:{}),s=!1},d(c){c&&m(e),Ie(n,c),c&&l&&l.end()}}}function ge(a){let e,t;return e=new Ge({props:{name:a[14].name,collected:a[1](a[14]),id:a[14].id,img:a[14].imageURL}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.name=l[14].name),s&3&&(o.collected=l[1](l[14])),s&1&&(o.id=l[14].id),s&1&&(o.img=l[14].imageURL),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function pe(a){let e,t,l;return t=new He({}),{c(){e=b("div"),ae(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var o=T(e);ne(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(s,o){A(s,e,o),se(t,e,null),l=!0},i(s){l||(C(t.$$.fragment,s),l=!0)},o(s){V(t.$$.fragment,s),l=!1},d(s){s&&m(e),oe(t)}}}function ze(a){let e,t,l,s="Stamps",o,n,u,c,i,r,f,h,y,E,D;const w=[qe,Oe],k=[];function R(I,S){return I[3]?0:1}n=R(a),u=k[n]=w[n](a);let _=!a[2]&&_e(a),p=a[2]&&pe();return{c(){e=b("div"),t=b("div"),l=b("h1"),l.textContent=s,o=M(),u.c(),i=M(),_&&_.c(),f=M(),p&&p.c(),h=q(),this.h()},l(I){e=v(I,"DIV",{class:!0});var S=T(e);t=v(S,"DIV",{class:!0});var j=T(t);l=v(j,"H1",{class:!0,["data-svelte-h"]:!0}),z(l)!=="svelte-glc03r"&&(l.textContent=s),o=N(j),u.l(j),j.forEach(m),i=N(S),_&&_.l(S),S.forEach(m),f=N(I),p&&p.l(I),h=q(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),G(t,"animate-pulse",a[4]&&a[3]),G(t,"border-b-2",a[2]),G(t,"border-dashed",a[2]),G(t,"border-slate-900",a[2]),d(e,"class","bg-triangles mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100")},m(I,S){A(I,e,S),g(e,t),g(t,l),g(t,o),k[n].m(t,null),g(e,i),_&&_.m(e,null),A(I,f,S),p&&p.m(I,S),A(I,h,S),y=!0,E||(D=[W(t,"touchstart",a[5]),W(t,"touchend",a[6]),W(t,"touchcancel",a[7],{passive:!0})],E=!0)},p(I,[S]){a=I;let j=n;n=R(a),n!==j&&(Z(),V(k[j],1,1,()=>{k[j]=null}),J(),u=k[n],u||(u=k[n]=w[n](a),u.c()),C(u,1),u.m(t,null)),(!y||S&24)&&G(t,"animate-pulse",a[4]&&a[3]),(!y||S&4)&&G(t,"border-b-2",a[2]),(!y||S&4)&&G(t,"border-dashed",a[2]),(!y||S&4)&&G(t,"border-slate-900",a[2]),a[2]?_&&(Z(),V(_,1,1,()=>{_=null}),J()):_?(_.p(a,S),S&4&&C(_,1)):(_=_e(a),_.c(),C(_,1),_.m(e,null)),a[2]?p?S&4&&C(p,1):(p=pe(),p.c(),C(p,1),p.m(h.parentNode,h)):p&&(Z(),V(p,1,1,()=>{p=null}),J())},i(I){y||(C(u),c||$(()=>{c=le(t,F,{delay:ke}),c.start()}),C(_),r&&r.end(1),C(p),y=!0)},o(I){V(u),V(_),r=ve(e,F,{}),V(p),y=!1},d(I){I&&(m(e),m(f),m(h)),k[n].d(),_&&_.d(),I&&r&&r.end(),p&&p.d(I),E=!1,Ee(D)}}}const ke=500,Be=1e3;function Fe(a,e,t){let{stamps:l=[]}=e,s=function(k){return!1},o=function(){},n=!0,u=!1;function c(){return ye.every(s)}be(()=>{t(1,s=function(k){return localStorage.getItem(k.hash)!==null}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,n=!0)},c()&&(console.log("All stamps collected!"),t(3,u=!0)),t(2,n=localStorage.getItem("isStampSheetTorn")==="yes")});let i,r,f,h=!1,y;function E(k){k.touches.length===2&&u&&(i=new Date().getTime(),f=k.touches.length,t(4,h=!0),y=setTimeout(()=>{o()},2e3))}function D(k){f===2&&(r=new Date().getTime(),r-i>=Be&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,h=!1),clearTimeout(y)}function w(){f=0,t(4,h=!1),clearTimeout(y)}return a.$$set=k=>{"stamps"in k&&t(0,l=k.stamps)},[l,s,n,u,h,E,D,w]}class Qe extends ee{constructor(e){super(),te(this,e,Fe,ze,X,{stamps:0})}}function We(a){let e,t;return e=new Qe({props:{stamps:ye}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){se(e,l,s),t=!0},p:x,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}class at extends ee{constructor(e){super(),te(this,e,null,We,X,{})}}export{at as component,lt as universal};
