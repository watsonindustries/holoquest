import{s as ht,n as st,r as pt,c as nt,o as ft}from"../chunks/scheduler.CBKiOPsq.js";import{S as mt,i as _t,e as h,s as v,t as S,c as p,f as g,g as A,b,d as f,j as P,l as _,n as ut,m as l,o as ot,p as j,q as dt}from"../chunks/index.UAAIVKsT.js";import{e as rt}from"../chunks/each.D6YF6ztN.js";import{e as vt}from"../chunks/qr-scanner.min.4zogFLvw.js";import{n as bt,u as gt}from"../chunks/store.IwZCqYX8.js";function ct(o,t,s){const u=o.slice();return u[6]=t[s],u}function it(o){let t,s=o[6].label+"",u;return{c(){t=h("li"),u=S(s),this.h()},l(i){t=p(i,"LI",{class:!0});var c=g(t);u=P(c,s),c.forEach(f),this.h()},h(){_(t,"class","font-mono text-base")},m(i,c){ut(i,t,c),l(t,u)},p(i,c){c&1&&s!==(s=i[6].label+"")&&j(u,s)},d(i){i&&f(t)}}}function xt(o){let t,s,u="Available cameras",i,c,T,m,z="clear localstorage",x,C,Z="User info",M,E,V,I,B,F,N,G,D,L,H,k,$="Stamps",J,U,K,w=o[1]?"torn":"untorn",O,Q,d,tt="Untear sheet",R,et,y=rt(o[0]),r=[];for(let a=0;a<y.length;a+=1)r[a]=it(ct(o,y,a));return{c(){t=h("div"),s=h("p"),s.textContent=u,i=v(),c=h("ul");for(let a=0;a<r.length;a+=1)r[a].c();T=v(),m=h("button"),m.textContent=z,x=v(),C=h("p"),C.textContent=Z,M=v(),E=h("p"),V=S("Nickname: "),I=h("span"),B=S(o[2]),F=v(),N=h("p"),G=S("Device ID: "),D=h("span"),L=S(o[3]),H=v(),k=h("p"),k.textContent=$,J=v(),U=h("p"),K=S("Stamp sheet status: "),O=S(w),Q=v(),d=h("button"),d.textContent=tt,this.h()},l(a){t=p(a,"DIV",{class:!0});var e=g(t);s=p(e,"P",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-gi42xl"&&(s.textContent=u),i=b(e),c=p(e,"UL",{});var n=g(c);for(let Y=0;Y<r.length;Y+=1)r[Y].l(n);n.forEach(f),T=b(e),m=p(e,"BUTTON",{class:!0,"data-svelte-h":!0}),A(m)!=="svelte-iimbze"&&(m.textContent=z),x=b(e),C=p(e,"P",{class:!0,"data-svelte-h":!0}),A(C)!=="svelte-1oto883"&&(C.textContent=Z),M=b(e),E=p(e,"P",{});var q=g(E);V=P(q,"Nickname: "),I=p(q,"SPAN",{class:!0});var lt=g(I);B=P(lt,o[2]),lt.forEach(f),q.forEach(f),F=b(e),N=p(e,"P",{});var W=g(N);G=P(W,"Device ID: "),D=p(W,"SPAN",{class:!0});var at=g(D);L=P(at,o[3]),at.forEach(f),W.forEach(f),H=b(e),k=p(e,"P",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-1mth1v6"&&(k.textContent=$),J=b(e),U=p(e,"P",{});var X=g(U);K=P(X,"Stamp sheet status: "),O=P(X,w),X.forEach(f),Q=b(e),d=p(e,"BUTTON",{class:!0,"data-svelte-h":!0}),A(d)!=="svelte-1n9gqa8"&&(d.textContent=tt),e.forEach(f),this.h()},h(){_(s,"class","text-xl font-bold"),_(m,"class","btn-error btn mx-auto w-8/12 gap-2 rounded-full"),_(C,"class","text-xl font-bold"),_(I,"class","font-mono"),_(D,"class","font-mono"),_(k,"class","text-xl font-bold"),_(d,"class","btn-primary btn mx-auto w-8/12 gap-2 rounded-full"),_(t,"class","mx-4 space-y-4")},m(a,e){ut(a,t,e),l(t,s),l(t,i),l(t,c);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(c,null);l(t,T),l(t,m),l(t,x),l(t,C),l(t,M),l(t,E),l(E,V),l(E,I),l(I,B),l(t,F),l(t,N),l(N,G),l(N,D),l(D,L),l(t,H),l(t,k),l(t,J),l(t,U),l(U,K),l(U,O),l(t,Q),l(t,d),R||(et=[ot(m,"click",o[4]),ot(d,"click",o[5])],R=!0)},p(a,[e]){if(e&1){y=rt(a[0]);let n;for(n=0;n<y.length;n+=1){const q=ct(a,y,n);r[n]?r[n].p(q,e):(r[n]=it(q),r[n].c(),r[n].m(c,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=y.length}e&4&&j(B,a[2]),e&8&&j(L,a[3]),e&2&&w!==(w=a[1]?"torn":"untorn")&&j(O,w)},i:st,o:st,d(a){a&&f(t),dt(r,a),R=!1,pt(et)}}}function Ct(o,t,s){let u,i;nt(o,bt,x=>s(2,u=x)),nt(o,gt,x=>s(3,i=x));let c=[],T=!1;return ft(async()=>{s(0,c=await vt.listCameras(!0)),s(1,T=localStorage.getItem("isStampSheetTorn")==="yes")}),[c,T,u,i,()=>{localStorage.clear()},()=>localStorage.setItem("isStampSheetTorn","no")]}class It extends mt{constructor(t){super(),_t(this,t,Ct,xt,ht,{})}}export{It as component};
