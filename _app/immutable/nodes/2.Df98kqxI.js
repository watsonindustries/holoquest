import{s as J,d as ae,q as ie,n as R,c as ye,o as ke,r as Ie,g as Se}from"../chunks/scheduler.BFm2QQji.js";import{S as W,i as Z,e as y,s as H,t as Y,c as k,f as T,b as N,d as m,j as q,l as h,u as j,n as D,m as _,p as te,I as ce,g as B,B as F,y as x,o as le,v as K,w as X,x as $,z as G,A as ee,E as ne,C as se,J as Ee,q as we}from"../chunks/index.BRjTsfqn.js";import{e as he}from"../chunks/each.D6YF6ztN.js";import{f as fe,c as xe,a as Te}from"../chunks/index.BAW8cGS1.js";import{G as z}from"../chunks/custom.DgUHssZa.js";import{h as oe,m as re}from"../chunks/const.CGFi_4Hk.js";import{n as De}from"../chunks/userinfo.D_LcDA1U.js";import{I as Pe,Q as Ae}from"../chunks/index.C09ETEga.js";import{a as Ce,c as Le,e as je}from"../chunks/stamps.CTP00fdk.js";const Ve=!1,Ge=async()=>({}),ht=Object.freeze(Object.defineProperty({__proto__:null,load:Ge,ssr:Ve},Symbol.toStringTag,{value:"Module"})),Re=""+new URL("../assets/watamesmug.ay_qIBLZ.jpg",import.meta.url).href;function me(n){let e,t="18+";return{c(){e=y("div"),e.textContent=t,this.h()},l(l){e=k(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-6kkv8j"&&(e.textContent=t),this.h()},h(){h(e,"class","absolute right-0 top-0 rounded-full px-1 py-0.5 text-xs text-white"),j(e,"bg-red-400",!n[2]),j(e,"bg-red-500",n[2])},m(l,s){D(l,e,s)},p(l,s){s&4&&j(e,"bg-red-400",!l[2]),s&4&&j(e,"bg-red-500",l[2])},d(l){l&&m(e)}}}function Me(n){let e,t,l,s,a,o,f,c,u,r,i,d,E,g=n[4]&&me(n);return{c(){e=y("a"),t=y("div"),l=y("div"),s=y("div"),a=y("div"),g&&g.c(),o=H(),f=y("img"),r=H(),i=y("div"),d=Y(n[1]),this.h()},l(w){e=k(w,"A",{href:!0});var C=T(e);t=k(C,"DIV",{class:!0});var I=T(t);l=k(I,"DIV",{class:!0});var P=T(l);s=k(P,"DIV",{class:!0});var V=T(s);a=k(V,"DIV",{class:!0});var A=T(a);g&&g.l(A),o=N(A),f=k(A,"IMG",{src:!0,alt:!0,class:!0}),A.forEach(m),V.forEach(m),P.forEach(m),r=N(I),i=k(I,"DIV",{class:!0});var O=T(i);d=q(O,n[1]),O.forEach(m),I.forEach(m),C.forEach(m),this.h()},h(){ae(f.src,c=n[5])||h(f,"src",c),h(f,"alt",n[1]),h(f,"class","h-20 w-20 rounded-full"),j(f,"opacity-30",!n[2]),h(a,"class","relative flex h-24 w-24 items-center justify-center rounded-full bg-white"),h(s,"class","flex h-24 w-24 items-center justify-center rounded-full"),h(l,"class",u="flex h-28 w-28 items-center justify-center rounded-full "+(n[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),h(i,"class","mt-2 w-8/12 break-all text-center text-secondary"),j(i,"font-bold",n[2]),h(t,"class","flex flex-col items-center"),h(e,"href",n[3])},m(w,C){D(w,e,C),_(e,t),_(t,l),_(l,s),_(s,a),g&&g.m(a,null),_(a,o),_(a,f),_(t,r),_(t,i),_(i,d)},p(w,[C]){n=w,n[4]?g?g.p(n,C):(g=me(n),g.c(),g.m(a,o)):g&&(g.d(1),g=null),C&32&&!ae(f.src,c=n[5])&&h(f,"src",c),C&2&&h(f,"alt",n[1]),C&4&&j(f,"opacity-30",!n[2]),C&4&&u!==(u="flex h-28 w-28 items-center justify-center rounded-full "+(n[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&h(l,"class",u),C&2&&te(d,n[1]),C&4&&j(i,"font-bold",n[2]),C&8&&h(e,"href",n[3])},i(w){E||ie(()=>{E=ce(t,fe,{duration:n[6],delay:150*n[0]+500}),E.start()})},o:R,d(w){w&&m(e),g&&g.d()}}}function He(n,e,t){let{hash:l}=e,{index:s}=e,{name:a}=e,{collected:o=!1}=e,{navURL:f=`/partner/${l}`}=e,{nsfw:c=!1}=e;const u=Re;let{img:r=u}=e;const i=50;return n.$$set=d=>{"hash"in d&&t(7,l=d.hash),"index"in d&&t(0,s=d.index),"name"in d&&t(1,a=d.name),"collected"in d&&t(2,o=d.collected),"navURL"in d&&t(3,f=d.navURL),"nsfw"in d&&t(4,c=d.nsfw),"img"in d&&t(5,r=d.img)},[s,a,o,f,c,r,i,l]}class Ne extends W{constructor(e){super(),Z(this,e,He,Me,J,{hash:7,index:0,name:1,collected:2,navURL:3,nsfw:4,img:5,fadeDuration:6})}get fadeDuration(){return this.$$.ctx[6]}}function Ye(n){let e,t=n[1]&&_e(n);return{c(){t&&t.c(),e=F()},l(l){t&&t.l(l),e=F()},m(l,s){t&&t.m(l,s),D(l,e,s)},p(l,s){l[1]?t?(t.p(l,s),s&2&&x(t,1)):(t=_e(l),t.c(),x(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){x(t)},o:R,d(l){l&&m(e),t&&t.d(l)}}}function qe(n){let e,t,l,s="Warming up the gacha...";return{c(){e=y("span"),t=H(),l=y("p"),l.textContent=s,this.h()},l(a){e=k(a,"SPAN",{class:!0}),T(e).forEach(m),t=N(a),l=k(a,"P",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-16bujl6"&&(l.textContent=s),this.h()},h(){h(e,"class","loading-xl loading loading-dots"),h(l,"class","font-geologica")},m(a,o){D(a,e,o),D(a,t,o),D(a,l,o)},p:R,i:R,o:R,d(a){a&&(m(e),m(t),m(l))}}}function Oe(n){let e,t="Play Gacha",l,s;return{c(){e=y("button"),e.textContent=t,this.h()},l(a){e=k(a,"BUTTON",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1vmmgpv"&&(e.textContent=t),this.h()},h(){h(e,"class","btn-secondary btn animate-pulse rounded-full")},m(a,o){D(a,e,o),l||(s=le(e,"click",n[3]),l=!0)},p:R,i:R,o:R,d(a){a&&m(e),l=!1,s()}}}function _e(n){let e,t,l,s,a,o,f,c,u,r,i=n[1].english_name+"",d,E,g,w,C=n[1].group+"",I,P,V,A,O,M,Q;return{c(){e=y("div"),t=y("figure"),l=y("img"),o=H(),f=y("div"),c=y("h2"),u=Y(n[2]),r=Y(" got "),d=Y(i),E=Y("!"),g=H(),w=y("p"),I=Y(C),P=H(),V=y("div"),A=y("a"),O=Y("Explore Channel"),this.h()},l(p){e=k(p,"DIV",{class:!0});var b=T(e);t=k(b,"FIGURE",{});var v=T(t);l=k(v,"IMG",{src:!0,alt:!0}),v.forEach(m),o=N(b),f=k(b,"DIV",{class:!0});var S=T(f);c=k(S,"H2",{class:!0});var L=T(c);u=q(L,n[2]),r=q(L," got "),d=q(L,i),E=q(L,"!"),L.forEach(m),g=N(S),w=k(S,"P",{class:!0});var U=T(w);I=q(U,C),U.forEach(m),P=N(S),V=k(S,"DIV",{class:!0});var ue=T(V);A=k(ue,"A",{class:!0,href:!0});var de=T(A);O=q(de,"Explore Channel"),de.forEach(m),ue.forEach(m),S.forEach(m),b.forEach(m),this.h()},h(){ae(l.src,s=n[1].photo)||h(l,"src",s),h(l,"alt",a=n[1].english_name),h(c,"class","card-title text-xl text-slate-100"),h(w,"class","text-slate-100"),h(A,"class","btn-secondary btn rounded-full text-slate-50"),h(A,"href",M="https://holodex.net/channel/"+n[1].id+"/clips"),h(V,"class","card-actions justify-end"),h(f,"class","card-body items-center font-geologica"),h(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(p,b){D(p,e,b),_(e,t),_(t,l),_(e,o),_(e,f),_(f,c),_(c,u),_(c,r),_(c,d),_(c,E),_(f,g),_(f,w),_(w,I),_(f,P),_(f,V),_(V,A),_(A,O)},p(p,b){b&2&&!ae(l.src,s=p[1].photo)&&h(l,"src",s),b&2&&a!==(a=p[1].english_name)&&h(l,"alt",a),b&4&&te(u,p[2]),b&2&&i!==(i=p[1].english_name+"")&&te(d,i),b&2&&C!==(C=p[1].group+"")&&te(I,C),b&2&&M!==(M="https://holodex.net/channel/"+p[1].id+"/clips")&&h(A,"href",M)},i(p){Q||ie(()=>{Q=ce(e,fe,{delay:500}),Q.start()})},o:R,d(p){p&&m(e)}}}function Ue(n){let e,t="Thank you!",l,s,a="You have completed the quest!",o,f;function c(i,d){if(i[0]===z.NOT_PLAYED)return Oe;if(i[0]===z.PLAYING)return qe;if(i[0]===z.PLAYED)return Ye}let u=c(n),r=u&&u(n);return{c(){e=y("h1"),e.textContent=t,l=H(),s=y("h2"),s.textContent=a,o=H(),r&&r.c(),f=F(),this.h()},l(i){e=k(i,"H1",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-dyvikd"&&(e.textContent=t),l=N(i),s=k(i,"H2",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-1bboxj2"&&(s.textContent=a),o=N(i),r&&r.l(i),f=F(),this.h()},h(){h(e,"class","text-center font-geologica text-4xl font-bold text-primary"),h(s,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(i,d){D(i,e,d),D(i,l,d),D(i,s,d),D(i,o,d),r&&r.m(i,d),D(i,f,d)},p(i,[d]){u===(u=c(i))&&r?r.p(i,d):(r&&r.d(1),r=u&&u(i),r&&(r.c(),x(r,1),r.m(f.parentNode,f)))},i(i){x(r)},o:R,d(i){i&&(m(e),m(l),m(s),m(o),m(f)),r&&r.d(i)}}}const ze=3e3;function Be(n,e,t){let l;ye(n,De,u=>t(2,l=u));let s=z.NOT_PLAYED,a,o;function f(){const r=oe.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,s=z.PLAYING),setTimeout(()=>{t(4,o=f()),t(1,a=oe[o]),t(0,s=z.PLAYED)},ze)}return ke(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,s=z.PLAYED),t(4,o=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,a=oe[o]))}),n.$$.update=()=>{n.$$.dirty&17&&s===z.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",o.toString()))},[s,a,l,c,o]}class Qe extends W{constructor(e){super(),Z(this,e,Be,Ue,J,{})}}function Fe(n){let e,t,l;return t=new Pe({props:{src:Ae,theme:"solid",class:"p-1 align-middle"}}),{c(){e=y("a"),K(t.$$.fragment),this.h()},l(s){e=k(s,"A",{id:!0,href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var a=T(e);X(t.$$.fragment,a),a.forEach(m),this.h()},h(){h(e,"id","scanner"),h(e,"href","/scanner"),h(e,"class","btn-xl btn-info btn-circle fixed bottom-6 right-6 z-50 flex h-20 w-20 items-center justify-center rounded-full p-2 align-middle font-bold text-base-100 shadow-lg"),h(e,"tabindex","-1"),h(e,"aria-disabled","true")},m(s,a){D(s,e,a),$(t,e,null),l=!0},p:R,i(s){l||(x(t.$$.fragment,s),l=!0)},o(s){G(t.$$.fragment,s),l=!1},d(s){s&&m(e),ee(t)}}}class Je extends W{constructor(e){super(),Z(this,e,null,Fe,J,{})}}function ge(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function We(n){let e,t;return e=new Je({}),{c(){K(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,s){$(e,l,s),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function Ze(n){let e,t="Show sheet to staff at the booth!";return{c(){e=y("h2"),e.textContent=t,this.h()},l(l){e=k(l,"H2",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1upiyu6"&&(e.textContent=t),this.h()},h(){h(e,"class","text-center text-xl font-semibold text-secondary")},m(l,s){D(l,e,s)},i:R,o:R,d(l){l&&m(e)}}}function pe(n){let e,t,l,s,a=he(n[0]),o=[];for(let c=0;c<a.length;c+=1)o[c]=be(ge(n,a,c));const f=c=>G(o[c],1,1,()=>{o[c]=null});return{c(){e=y("div");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=k(c,"DIV",{class:!0});var u=T(e);for(let r=0;r<o.length;r+=1)o[r].l(u);u.forEach(m),this.h()},h(){h(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,u){D(c,e,u);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null);s=!0},p(c,u){if(n=c,u&3){a=he(n[0]);let r;for(r=0;r<a.length;r+=1){const i=ge(n,a,r);o[r]?(o[r].p(i,u),x(o[r],1)):(o[r]=be(i),o[r].c(),x(o[r],1),o[r].m(e,null))}for(ne(),r=a.length;r<o.length;r+=1)f(r);se()}},i(c){if(!s){for(let u=0;u<a.length;u+=1)x(o[u]);ie(()=>{s&&(l&&l.end(1),t=ce(e,fe,{delay:Xe}),t.start())}),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)G(o[u]);t&&t.invalidate(),l=Ee(e,Te,n[2]&&n[3]?{y:20,duration:1200,easing:xe}:{}),s=!1},d(c){c&&m(e),we(o,c),c&&l&&l.end()}}}function be(n){let e,t;return e=new Ne({props:{name:n[14].name,collected:n[1](n[14]),index:n[16],hash:n[14].hash||"",nsfw:n[14].nsfw,img:n[14].image_url||void 0}}),{c(){K(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,s){$(e,l,s),t=!0},p(l,s){const a={};s&1&&(a.name=l[14].name),s&3&&(a.collected=l[1](l[14])),s&1&&(a.hash=l[14].hash||""),s&1&&(a.nsfw=l[14].nsfw),s&1&&(a.img=l[14].image_url||void 0),e.$set(a)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function ve(n){let e,t,l;return t=new Qe({}),{c(){e=y("div"),K(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var a=T(e);X(t.$$.fragment,a),a.forEach(m),this.h()},h(){h(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(s,a){D(s,e,a),$(t,e,null),l=!0},i(s){l||(x(t.$$.fragment,s),l=!0)},o(s){G(t.$$.fragment,s),l=!1},d(s){s&&m(e),ee(t)}}}function Ke(n){let e,t,l,s="Stamps",a,o,f,c=Ce()+"",u,r,i,d,E,g,w,C,I,P,V,A;const O=[Ze,We],M=[];function Q(v,S){return v[3]?0:1}E=Q(n),g=M[E]=O[E](n);let p=!n[2]&&pe(n),b=n[2]&&ve();return{c(){e=y("div"),t=y("div"),l=y("h1"),l.textContent=s,a=H(),o=y("h2"),f=Y("Collected "),u=Y(c),r=Y(" / "),i=Y(re),d=H(),g.c(),w=H(),p&&p.c(),C=H(),b&&b.c(),I=F(),this.h()},l(v){e=k(v,"DIV",{class:!0});var S=T(e);t=k(S,"DIV",{class:!0});var L=T(t);l=k(L,"H1",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-mimsvl"&&(l.textContent=s),a=N(L),o=k(L,"H2",{class:!0});var U=T(o);f=q(U,"Collected "),u=q(U,c),r=q(U," / "),i=q(U,re),U.forEach(m),d=N(L),g.l(L),L.forEach(m),w=N(S),p&&p.l(S),S.forEach(m),C=N(v),b&&b.l(v),I=F(),this.h()},h(){h(l,"class","text-center text-4xl font-bold tracking-tight text-primary"),h(o,"class","mx-auto text-xl font-semibold text-secondary"),h(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),j(t,"animate-pulse",n[4]&&n[3]),j(t,"border-b-2",n[2]),j(t,"border-dashed",n[2]),j(t,"border-slate-900",n[2]),h(e,"class","mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100 bg-gradient-to-b font-geologica")},m(v,S){D(v,e,S),_(e,t),_(t,l),_(t,a),_(t,o),_(o,f),_(o,u),_(o,r),_(o,i),_(t,d),M[E].m(t,null),_(e,w),p&&p.m(e,null),D(v,C,S),b&&b.m(v,S),D(v,I,S),P=!0,V||(A=[le(t,"touchstart",n[5]),le(t,"touchend",n[6]),le(t,"touchcancel",n[7],{passive:!0})],V=!0)},p(v,[S]){let L=E;E=Q(v),E!==L&&(ne(),G(M[L],1,1,()=>{M[L]=null}),se(),g=M[E],g||(g=M[E]=O[E](v),g.c()),x(g,1),g.m(t,null)),(!P||S&24)&&j(t,"animate-pulse",v[4]&&v[3]),(!P||S&4)&&j(t,"border-b-2",v[2]),(!P||S&4)&&j(t,"border-dashed",v[2]),(!P||S&4)&&j(t,"border-slate-900",v[2]),v[2]?p&&(ne(),G(p,1,1,()=>{p=null}),se()):p?(p.p(v,S),S&4&&x(p,1)):(p=pe(v),p.c(),x(p,1),p.m(e,null)),v[2]?b?S&4&&x(b,1):(b=ve(),b.c(),x(b,1),b.m(I.parentNode,I)):b&&(ne(),G(b,1,1,()=>{b=null}),se())},i(v){P||(x(g),x(p),x(b),P=!0)},o(v){G(g),G(p),G(b),P=!1},d(v){v&&(m(e),m(C),m(I)),M[E].d(),p&&p.d(),b&&b.d(v),V=!1,Ie(A)}}}const Xe=500,$e=1e3;function et(n,e,t){let{stamps:l=[]}=e,s=function(I){return!1},a=function(){},o=!0,f=!1;function c(){return Ce()>=re}ke(()=>{t(1,s=function(I){const P=Se(Le);return P==null?void 0:P[I.hash||""]}),a=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,o=!0)},c()&&(console.log("All stamps collected!"),t(3,f=!0)),t(2,o=localStorage.getItem("isStampSheetTorn")==="yes")});let u,r,i,d=!1,E;function g(I){I.touches.length===2&&f&&(u=new Date().getTime(),i=I.touches.length,t(4,d=!0),E=setTimeout(()=>{a()},2e3))}function w(I){i===2&&(r=new Date().getTime(),r-u>=$e&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,d=!1),clearTimeout(E)}function C(){i=0,t(4,d=!1),clearTimeout(E)}return n.$$set=I=>{"stamps"in I&&t(0,l=I.stamps)},[l,s,o,f,d,g,w,C]}class tt extends W{constructor(e){super(),Z(this,e,et,Ke,J,{stamps:0})}}function lt(n){let e,t;return e=new tt({props:{stamps:n[0]}}),{c(){K(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,s){$(e,l,s),t=!0},p(l,[s]){const a={};s&1&&(a.stamps=l[0]),e.$set(a)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function nt(n,e,t){let l,s;return ye(n,je,a=>t(1,s=a)),n.$$.update=()=>{n.$$.dirty&2&&t(0,l=Object.entries(s).map(([a,o])=>({...o,hash:a})))},[l,s]}class mt extends W{constructor(e){super(),Z(this,e,nt,lt,J,{})}}export{mt as component,ht as universal};
