import{S as le,i as se,s as ae,k as g,a as V,q as $,l as v,m as x,h as c,c as j,r as z,n as i,b as E,E as b,u as ne,F as T,L as W,y as N,z as H,M as Y,A as Z,g as q,f as ce,d as Q,B as J,N as oe,o as ie,O as fe,P as ue,Q as me,v as de}from"../chunks/index.11e3f03e.js";import{e as K}from"../chunks/const.96e908ff.js";import{I as X,Q as _e,C as he}from"../chunks/index.c098f3de.js";const pe=!0,ke=Object.freeze(Object.defineProperty({__proto__:null,csr:pe},Symbol.toStringTag,{value:"Module"}));function ge(f){let e,a;return{c(){e=g("span"),a=$("?"),this.h()},l(s){e=v(s,"SPAN",{class:!0});var n=x(e);a=z(n,"?"),n.forEach(c),this.h()},h(){i(e,"class","text-6xl text-secondary font-sans font-semibold")},m(s,n){E(s,e,n),b(e,a)},p:T,d(s){s&&c(e)}}}function ve(f){let e,a;return{c(){e=g("img"),this.h()},l(s){e=v(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){W(e.src,a=f[2])||i(e,"src",a),i(e,"alt",f[0]),i(e,"class","w-16 h-16 rounded-full")},m(s,n){E(s,e,n)},p(s,n){n&4&&!W(e.src,a=s[2])&&i(e,"src",a),n&1&&i(e,"alt",s[0])},d(s){s&&c(e)}}}function be(f){let e,a,s,n,l,u;function h(p,d){return p[1]?ve:ge}let A=h(f),_=A(f);return{c(){e=g("div"),a=g("div"),s=g("div"),_.c(),n=V(),l=g("div"),u=$(f[0]),this.h()},l(p){e=v(p,"DIV",{class:!0});var d=x(e);a=v(d,"DIV",{class:!0});var S=x(a);s=v(S,"DIV",{class:!0});var I=x(s);_.l(I),I.forEach(c),S.forEach(c),n=j(d),l=v(d,"DIV",{class:!0});var w=x(l);u=z(w,f[0]),w.forEach(c),d.forEach(c),this.h()},h(){i(s,"class","w-24 h-24 bg-white rounded-full flex items-center justify-center"),i(a,"class","w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center"),i(l,"class","mt-2 text-center"),i(e,"class","flex flex-col items-center")},m(p,d){E(p,e,d),b(e,a),b(a,s),_.m(s,null),b(e,n),b(e,l),b(l,u)},p(p,[d]){A===(A=h(p))&&_?_.p(p,d):(_.d(1),_=A(p),_&&(_.c(),_.m(s,null))),d&1&&ne(u,p[0])},i:T,o:T,d(p){p&&c(e),_.d()}}}const ye="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function xe(f,e,a){let{id:s}=e,{name:n}=e,{collected:l=!1}=e,{img:u=ye}=e;return f.$$set=h=>{"id"in h&&a(3,s=h.id),"name"in h&&a(0,n=h.name),"collected"in h&&a(1,l=h.collected),"img"in h&&a(2,u=h.img)},[n,l,u,s]}class Ee extends le{constructor(e){super(),se(this,e,xe,be,ae,{id:3,name:0,collected:1,img:2})}}function ee(f,e,a){const s=f.slice();return s[3]=e[a],s}function te(f){let e,a;const s=[f[3],{collected:f[1](f[3])}];let n={};for(let l=0;l<s.length;l+=1)n=fe(n,s[l]);return e=new Ee({props:n}),{c(){N(e.$$.fragment)},l(l){H(e.$$.fragment,l)},m(l,u){Z(e,l,u),a=!0},p(l,u){const h=u&2?ue(s,[u&0&&me(l[3]),{collected:l[1](l[3])}]):{};e.$set(h)},i(l){a||(q(e.$$.fragment,l),a=!0)},o(l){Q(e.$$.fragment,l),a=!1},d(l){J(e,l)}}}function Ae(f){let e,a,s,n,l,u,h,A,_,p,d,S,I,w,C,y,k,G,L=f[0]?"Complete quest":"Collect more stamps",B,M;u=new X({props:{src:_e,theme:"solid",class:"color-gray-900 h-8 w-8"}});let D=K,o=[];for(let t=0;t<D.length;t+=1)o[t]=te(ee(f,D,t));const re=t=>Q(o[t],1,1,()=>{o[t]=null});return k=new X({props:{src:he,theme:"solid",class:"color-gray-900 h-8 w-8"}}),{c(){e=g("div"),a=g("h1"),s=$("Stamps"),n=V(),l=g("a"),N(u.$$.fragment),h=$(`
		Scan stamp`),A=V(),_=g("div"),p=V(),d=g("div");for(let t=0;t<o.length;t+=1)o[t].c();S=V(),I=g("div"),w=V(),C=g("div"),y=g("a"),N(k.$$.fragment),G=V(),B=$(L),this.h()},l(t){e=v(t,"DIV",{class:!0});var r=x(e);a=v(r,"H1",{class:!0});var m=x(a);s=z(m,"Stamps"),m.forEach(c),n=j(r),l=v(r,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var P=x(l);H(u.$$.fragment,P),h=z(P,`
		Scan stamp`),P.forEach(c),r.forEach(c),A=j(t),_=v(t,"DIV",{class:!0}),x(_).forEach(c),p=j(t),d=v(t,"DIV",{class:!0});var R=x(d);for(let O=0;O<o.length;O+=1)o[O].l(R);R.forEach(c),S=j(t),I=v(t,"DIV",{class:!0}),x(I).forEach(c),w=j(t),C=v(t,"DIV",{class:!0});var U=x(C);y=v(U,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var F=x(y);H(k.$$.fragment,F),G=j(F),B=z(F,L),F.forEach(c),U.forEach(c),this.h()},h(){i(a,"class","text-4xl font-bold text-center text-primary"),i(l,"href","/scanner"),i(l,"class","btn btn-info btn-xl gap-2 rounded-full justify-center w-6/12 mx-auto font-bold"),i(l,"tabindex","-1"),i(l,"aria-disabled","true"),i(e,"class","flex flex-col justify-center space-y-6"),i(_,"class","divider w-10/12 mx-auto"),i(d,"class","grid grid-cols-2 gap-4 p-4 bg-base-100"),i(I,"class","divider w-10/12 mx-auto"),i(y,"href","/result"),i(y,"class","btn btn-success btn-xl gap-2 rounded-full"),i(y,"tabindex","-1"),i(y,"aria-disabled","true"),Y(y,"btn-disabled",!f[0]),i(C,"class","flex justify-center mb-4")},m(t,r){E(t,e,r),b(e,a),b(a,s),b(e,n),b(e,l),Z(u,l,null),b(l,h),E(t,A,r),E(t,_,r),E(t,p,r),E(t,d,r);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(d,null);E(t,S,r),E(t,I,r),E(t,w,r),E(t,C,r),b(C,y),Z(k,y,null),b(y,G),b(y,B),M=!0},p(t,[r]){if(r&2){D=K;let m;for(m=0;m<D.length;m+=1){const P=ee(t,D,m);o[m]?(o[m].p(P,r),q(o[m],1)):(o[m]=te(P),o[m].c(),q(o[m],1),o[m].m(d,null))}for(de(),m=D.length;m<o.length;m+=1)re(m);ce()}(!M||r&1)&&L!==(L=t[0]?"Complete quest":"Collect more stamps")&&ne(B,L),(!M||r&1)&&Y(y,"btn-disabled",!t[0])},i(t){if(!M){q(u.$$.fragment,t);for(let r=0;r<D.length;r+=1)q(o[r]);q(k.$$.fragment,t),M=!0}},o(t){Q(u.$$.fragment,t),o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)Q(o[r]);Q(k.$$.fragment,t),M=!1},d(t){t&&c(e),J(u),t&&c(A),t&&c(_),t&&c(p),t&&c(d),oe(o,t),t&&c(S),t&&c(I),t&&c(w),t&&c(C),J(k)}}}function Ie(f,e,a){let s=!1,n=function(u){return!1};function l(){return K.every(n)}return ie(()=>{a(1,n=function(u){return localStorage.getItem(u.hash)!==null}),l()&&(console.log("All stamps collected!"),a(0,s=!0))}),[s,n]}class De extends le{constructor(e){super(),se(this,e,Ie,Ae,ae,{})}}export{De as component,ke as universal};
