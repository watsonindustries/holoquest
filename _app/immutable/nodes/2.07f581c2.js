import{S as x,i as J,s as K,k as b,a as U,q as M,l as v,m as k,h,c as j,r as V,V as Z,n as m,N,b as w,C as _,u as ne,O as X,W as $,M as L,e as q,g as A,o as _e,H as F,v as Q,d as C,f as W,X as pe,L as ve,Y as Se,y as ee,z as te,A as le,B as ae}from"../chunks/index.ca4d86f6.js";import{f as z,h as se,c as ye,a as Ee,e as ge}from"../chunks/const.2e07ef10.js";import{I as ke,Q as Ie}from"../chunks/index.d309f9a8.js";import{G as H}from"../chunks/custom.fbadb549.js";const Te=!0,We=Object.freeze(Object.defineProperty({__proto__:null,prerender:Te},Symbol.toStringTag,{value:"Module"}));function Ae(a){let e,t,l,s,n,o,f,i,u,r;return{c(){e=b("a"),t=b("div"),l=b("div"),s=b("div"),n=b("img"),f=U(),i=b("div"),u=M(a[1]),this.h()},l(c){e=v(c,"A",{href:!0});var d=k(e);t=v(d,"DIV",{class:!0});var S=k(t);l=v(S,"DIV",{class:!0});var P=k(l);s=v(P,"DIV",{class:!0});var G=k(s);n=v(G,"IMG",{src:!0,alt:!0,class:!0}),G.forEach(h),P.forEach(h),f=j(S),i=v(S,"DIV",{class:!0});var Y=k(i);u=V(Y,a[1]),Y.forEach(h),S.forEach(h),d.forEach(h),this.h()},h(){Z(n.src,o=a[4])||m(n,"src",o),m(n,"alt",a[1]),m(n,"class","h-20 w-20 rounded-full"),m(s,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),m(l,"class","flex h-28 w-28 items-center justify-center rounded-full bg-gradient-to-br from-primary to-secondary"),N(l,"opacity-30",!a[2]),m(i,"class","mt-2 w-8/12 break-all text-center text-secondary"),m(t,"class","flex flex-col items-center"),m(e,"href",a[3])},m(c,d){w(c,e,d),_(e,t),_(t,l),_(l,s),_(s,n),_(t,f),_(t,i),_(i,u)},p(c,[d]){a=c,d&16&&!Z(n.src,o=a[4])&&m(n,"src",o),d&2&&m(n,"alt",a[1]),d&4&&N(l,"opacity-30",!a[2]),d&2&&ne(u,a[1]),d&8&&m(e,"href",a[3])},i(c){r||X(()=>{r=$(t,z,{duration:200,delay:150*a[0]+500}),r.start()})},o:L,d(c){c&&h(e)}}}const we="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function Pe(a,e,t){let{id:l}=e,{name:s}=e,{collected:n=!1}=e,{navURL:o=`/partner/${l}`}=e,{img:f=we}=e;return a.$$set=i=>{"id"in i&&t(0,l=i.id),"name"in i&&t(1,s=i.name),"collected"in i&&t(2,n=i.collected),"navURL"in i&&t(3,o=i.navURL),"img"in i&&t(4,f=i.img)},[l,s,n,o,f]}class De extends x{constructor(e){super(),J(this,e,Pe,Ae,K,{id:0,name:1,collected:2,navURL:3,img:4})}}function Le(a){let e,t=a[1]&&fe(a);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),w(l,e,s)},p(l,s){l[1]?t?(t.p(l,s),s&2&&A(t,1)):(t=fe(l),t.c(),A(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){A(t)},o:L,d(l){t&&t.d(l),l&&h(e)}}}function Ge(a){let e;return{c(){e=b("span"),this.h()},l(t){e=v(t,"SPAN",{class:!0}),k(e).forEach(h),this.h()},h(){m(e,"class","loading-xl loading loading-dots")},m(t,l){w(t,e,l)},p:L,i:L,o:L,d(t){t&&h(e)}}}function Ye(a){let e,t,l,s;return{c(){e=b("button"),t=M("Play Gacha"),this.h()},l(n){e=v(n,"BUTTON",{class:!0});var o=k(e);t=V(o,"Play Gacha"),o.forEach(h),this.h()},h(){m(e,"class","btn-secondary btn animate-pulse rounded-full")},m(n,o){w(n,e,o),_(e,t),l||(s=F(e,"click",a[2]),l=!0)},p:L,i:L,o:L,d(n){n&&h(e),l=!1,s()}}}function fe(a){let e,t,l,s,n,o,f,i,u,r=a[1].english_name+"",c,d,S,P,G=a[1].group+"",Y,I,R,p,E,g,y;return{c(){e=b("div"),t=b("figure"),l=b("img"),o=U(),f=b("div"),i=b("h2"),u=M("You got "),c=M(r),d=M("!"),S=U(),P=b("p"),Y=M(G),I=U(),R=b("div"),p=b("a"),E=M("Explore Channel"),this.h()},l(T){e=v(T,"DIV",{class:!0});var D=k(e);t=v(D,"FIGURE",{});var oe=k(t);l=v(oe,"IMG",{src:!0,alt:!0}),oe.forEach(h),o=j(D),f=v(D,"DIV",{class:!0});var O=k(f);i=v(O,"H2",{class:!0});var B=k(i);u=V(B,"You got "),c=V(B,r),d=V(B,"!"),B.forEach(h),S=j(O),P=v(O,"P",{class:!0});var re=k(P);Y=V(re,G),re.forEach(h),I=j(O),R=v(O,"DIV",{class:!0});var ie=k(R);p=v(ie,"A",{class:!0,href:!0});var ce=k(p);E=V(ce,"Explore Channel"),ce.forEach(h),ie.forEach(h),O.forEach(h),D.forEach(h),this.h()},h(){Z(l.src,s=a[1].photo)||m(l,"src",s),m(l,"alt",n=a[1].english_name),m(i,"class","card-title text-xl text-slate-100"),m(P,"class","text-slate-100"),m(p,"class","btn-secondary btn rounded-full text-slate-50"),m(p,"href",g="https://holodex.net/channel/"+a[1].id+"/clips"),m(R,"class","card-actions justify-end"),m(f,"class","card-body items-center font-geologica"),m(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(T,D){w(T,e,D),_(e,t),_(t,l),_(e,o),_(e,f),_(f,i),_(i,u),_(i,c),_(i,d),_(f,S),_(f,P),_(P,Y),_(f,I),_(f,R),_(R,p),_(p,E)},p(T,D){D&2&&!Z(l.src,s=T[1].photo)&&m(l,"src",s),D&2&&n!==(n=T[1].english_name)&&m(l,"alt",n),D&2&&r!==(r=T[1].english_name+"")&&ne(c,r),D&2&&G!==(G=T[1].group+"")&&ne(Y,G),D&2&&g!==(g="https://holodex.net/channel/"+T[1].id+"/clips")&&m(p,"href",g)},i(T){y||X(()=>{y=$(e,z,{delay:500}),y.start()})},o:L,d(T){T&&h(e)}}}function Ce(a){let e,t,l,s,n,o,f;function i(c,d){if(c[0]===H.NOT_PLAYED)return Ye;if(c[0]===H.PLAYING)return Ge;if(c[0]===H.PLAYED)return Le}let u=i(a),r=u&&u(a);return{c(){e=b("h1"),t=M("Thank you!"),l=U(),s=b("h2"),n=M("You have completed the quest!"),o=U(),r&&r.c(),f=q(),this.h()},l(c){e=v(c,"H1",{class:!0});var d=k(e);t=V(d,"Thank you!"),d.forEach(h),l=j(c),s=v(c,"H2",{class:!0});var S=k(s);n=V(S,"You have completed the quest!"),S.forEach(h),o=j(c),r&&r.l(c),f=q(),this.h()},h(){m(e,"class","text-center font-geologica text-4xl font-bold text-primary"),m(s,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(c,d){w(c,e,d),_(e,t),w(c,l,d),w(c,s,d),_(s,n),w(c,o,d),r&&r.m(c,d),w(c,f,d)},p(c,[d]){u===(u=i(c))&&r?r.p(c,d):(r&&r.d(1),r=u&&u(c),r&&(r.c(),A(r,1),r.m(f.parentNode,f)))},i(c){A(r)},o:L,d(c){c&&h(e),c&&h(l),c&&h(s),c&&h(o),r&&r.d(c),c&&h(f)}}}function Me(a,e,t){let l=H.NOT_PLAYED,s,n;function o(){const u=se.length-1;return Math.floor(Math.random()*(u-0+1)+0)}function f(){t(0,l=H.PLAYING),setTimeout(()=>{t(3,n=o()),t(1,s=se[n]),t(0,l=H.PLAYED)},3e3)}return _e(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,l=H.PLAYED),t(3,n=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,s=se[n]))}),a.$$.update=()=>{a.$$.dirty&9&&l===H.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",n.toString()))},[l,s,f,n]}class Ve extends x{constructor(e){super(),J(this,e,Me,Ce,K,{})}}function ue(a,e,t){const l=a.slice();return l[14]=e[t],l}function Ne(a){let e,t,l,s;return t=new ke({props:{src:Ie,theme:"solid",class:"h-8 w-8"}}),{c(){e=b("a"),ee(t.$$.fragment),l=M(`
				Scan stamp`),this.h()},l(n){e=v(n,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var o=k(e);te(t.$$.fragment,o),l=V(o,`
				Scan stamp`),o.forEach(h),this.h()},h(){m(e,"href","/scanner"),m(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),m(e,"tabindex","-1"),m(e,"aria-disabled","true")},m(n,o){w(n,e,o),le(t,e,null),_(e,l),s=!0},p:L,i(n){s||(A(t.$$.fragment,n),s=!0)},o(n){C(t.$$.fragment,n),s=!1},d(n){n&&h(e),ae(t)}}}function Re(a){let e,t;return{c(){e=b("h2"),t=M("Show sheet to staff!"),this.h()},l(l){e=v(l,"H2",{class:!0});var s=k(e);t=V(s,"Show sheet to staff!"),s.forEach(h),this.h()},h(){m(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,s){w(l,e,s),_(e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function he(a){let e,t,l,s,n=a[0],o=[];for(let i=0;i<n.length;i+=1)o[i]=de(ue(a,n,i));const f=i=>C(o[i],1,1,()=>{o[i]=null});return{c(){e=b("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var u=k(e);for(let r=0;r<o.length;r+=1)o[r].l(u);u.forEach(h),this.h()},h(){m(e,"class","mx-8 grid grid-cols-2 gap-4 rounded-b-xl bg-slate-100 p-4 pt-8 shadow-md")},m(i,u){w(i,e,u);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null);s=!0},p(i,u){if(a=i,u&3){n=a[0];let r;for(r=0;r<n.length;r+=1){const c=ue(a,n,r);o[r]?(o[r].p(c,u),A(o[r],1)):(o[r]=de(c),o[r].c(),A(o[r],1),o[r].m(e,null))}for(Q(),r=n.length;r<o.length;r+=1)f(r);W()}},i(i){if(!s){for(let u=0;u<n.length;u+=1)A(o[u]);X(()=>{s&&(l&&l.end(1),t=$(e,z,{delay:be}),t.start())}),s=!0}},o(i){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);t&&t.invalidate(),l=pe(e,Ee,a[2]&&a[3]?{y:20,duration:1200,easing:ye}:{opacity:100}),s=!1},d(i){i&&h(e),Se(o,i),i&&l&&l.end()}}}function de(a){let e,t;return e=new De({props:{name:a[14].name,collected:a[1](a[14]),id:a[14].id,img:a[14].imageURL}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,s){le(e,l,s),t=!0},p(l,s){const n={};s&1&&(n.name=l[14].name),s&3&&(n.collected=l[1](l[14])),s&1&&(n.id=l[14].id),s&1&&(n.img=l[14].imageURL),e.$set(n)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function me(a){let e,t,l;return t=new Ve({}),{c(){e=b("div"),ee(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var n=k(e);te(t.$$.fragment,n),n.forEach(h),this.h()},h(){m(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(s,n){w(s,e,n),le(t,e,null),l=!0},i(s){l||(A(t.$$.fragment,s),l=!0)},o(s){C(t.$$.fragment,s),l=!1},d(s){s&&h(e),ae(t)}}}function Ue(a){let e,t,l,s,n,o,f,i,u,r,c,d,S,P,G;const Y=[Re,Ne],I=[];function R(g,y){return g[3]?0:1}o=R(a),f=I[o]=Y[o](a);let p=!a[2]&&he(a),E=a[2]&&me();return{c(){e=b("div"),t=b("div"),l=b("h1"),s=M("Stamps"),n=U(),f.c(),u=U(),p&&p.c(),c=U(),E&&E.c(),d=q(),this.h()},l(g){e=v(g,"DIV",{class:!0});var y=k(e);t=v(y,"DIV",{class:!0});var T=k(t);l=v(T,"H1",{class:!0});var D=k(l);s=V(D,"Stamps"),D.forEach(h),n=j(T),f.l(T),T.forEach(h),u=j(y),p&&p.l(y),y.forEach(h),c=j(g),E&&E.l(g),d=q(),this.h()},h(){m(l,"class","text-center font-geologica text-4xl font-bold text-primary"),m(t,"class","mx-8 flex flex-col justify-center space-y-6 rounded-t-xl bg-slate-100 pb-8 pt-4 shadow-md"),N(t,"animate-pulse",a[4]&&a[3]),N(t,"border-b-2",a[2]),N(t,"border-dashed",a[2]),N(t,"border-slate-900",a[2]),m(e,"class","my-2 divide-y-2 divide-dashed divide-slate-900")},m(g,y){w(g,e,y),_(e,t),_(t,l),_(l,s),_(t,n),I[o].m(t,null),_(e,u),p&&p.m(e,null),w(g,c,y),E&&E.m(g,y),w(g,d,y),S=!0,P||(G=[F(t,"touchstart",a[5]),F(t,"touchend",a[6]),F(t,"touchcancel",a[7],{passive:!0})],P=!0)},p(g,[y]){a=g;let T=o;o=R(a),o===T?I[o].p(a,y):(Q(),C(I[T],1,1,()=>{I[T]=null}),W(),f=I[o],f?f.p(a,y):(f=I[o]=Y[o](a),f.c()),A(f,1),f.m(t,null)),(!S||y&24)&&N(t,"animate-pulse",a[4]&&a[3]),(!S||y&4)&&N(t,"border-b-2",a[2]),(!S||y&4)&&N(t,"border-dashed",a[2]),(!S||y&4)&&N(t,"border-slate-900",a[2]),a[2]?p&&(Q(),C(p,1,1,()=>{p=null}),W()):p?(p.p(a,y),y&4&&A(p,1)):(p=he(a),p.c(),A(p,1),p.m(e,null)),a[2]?E?y&4&&A(E,1):(E=me(),E.c(),A(E,1),E.m(d.parentNode,d)):E&&(Q(),C(E,1,1,()=>{E=null}),W())},i(g){S||(A(f),i||X(()=>{i=$(t,z,{delay:be}),i.start()}),A(p),r&&r.end(1),A(E),S=!0)},o(g){C(f),C(p),r=pe(e,z,{}),C(E),S=!1},d(g){g&&h(e),I[o].d(),p&&p.d(),g&&r&&r.end(),g&&h(c),E&&E.d(g),g&&h(d),P=!1,ve(G)}}}const be=500,je=1e3;function He(a,e,t){let{stamps:l=[]}=e,s=function(I){return!1},n=function(){},o=!1,f=!1;function i(){return ge.every(s)}_e(()=>{t(1,s=function(I){return localStorage.getItem(I.hash)!==null}),n=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,o=!0)},i()&&(console.log("All stamps collected!"),t(3,f=!0)),localStorage.getItem("isStampSheetTorn")==="yes"&&t(2,o=!0)});let u,r,c,d=!1,S;function P(I){I.touches.length===2&&f&&(u=new Date().getTime(),c=I.touches.length,t(4,d=!0),S=setTimeout(()=>{n()},2e3))}function G(I){c===2&&(r=new Date().getTime(),r-u>=je&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,d=!1),clearTimeout(S)}function Y(){c=0,t(4,d=!1),clearTimeout(S)}return a.$$set=I=>{"stamps"in I&&t(0,l=I.stamps)},[l,s,o,f,d,P,G,Y]}class Oe extends x{constructor(e){super(),J(this,e,He,Ue,K,{stamps:0})}}function qe(a){let e,t;return e=new Oe({props:{stamps:ge}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,s){le(e,l,s),t=!0},p:L,i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}class Ze extends x{constructor(e){super(),J(this,e,null,qe,K,{})}}export{Ze as component,We as universal};
