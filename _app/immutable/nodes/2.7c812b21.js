import{S as X,i as x,s as $,k as b,a as U,q as L,l as v,m as y,h as u,c as j,r as G,V as K,n as d,N as R,b as A,C as _,u as Q,O as ee,W as te,M as D,e as z,g as T,D as Se,o as pe,H as W,v as Z,d as N,f as J,X as ge,L as ke,Y as Ee,y as le,z as ae,A as se,B as ne}from"../chunks/index.ca4d86f6.js";import{f as F,h as oe,c as ye,a as Ie,e as be}from"../chunks/const.f8bd9eda.js";import{I as Te,Q as Ae}from"../chunks/index.d309f9a8.js";import{G as H}from"../chunks/custom.fbadb549.js";import{n as Pe}from"../chunks/store.7f71c011.js";const De=!0,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:De},Symbol.toStringTag,{value:"Module"}));function we(a){let e,t,l,s,o,n,f,r,h,i;return{c(){e=b("a"),t=b("div"),l=b("div"),s=b("div"),o=b("img"),f=U(),r=b("div"),h=L(a[1]),this.h()},l(c){e=v(c,"A",{href:!0});var m=y(e);t=v(m,"DIV",{class:!0});var k=y(t);l=v(k,"DIV",{class:!0});var V=y(l);s=v(V,"DIV",{class:!0});var w=y(s);o=v(w,"IMG",{src:!0,alt:!0,class:!0}),w.forEach(u),V.forEach(u),f=j(k),r=v(k,"DIV",{class:!0});var C=y(r);h=G(C,a[1]),C.forEach(u),k.forEach(u),m.forEach(u),this.h()},h(){K(o.src,n=a[4])||d(o,"src",n),d(o,"alt",a[1]),d(o,"class","h-20 w-20 rounded-full"),d(s,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(l,"class","flex h-28 w-28 items-center justify-center rounded-full bg-gradient-to-br from-primary to-secondary"),R(l,"opacity-30",!a[2]),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),d(t,"class","flex flex-col items-center"),d(e,"href",a[3])},m(c,m){A(c,e,m),_(e,t),_(t,l),_(l,s),_(s,o),_(t,f),_(t,r),_(r,h)},p(c,[m]){a=c,m&16&&!K(o.src,n=a[4])&&d(o,"src",n),m&2&&d(o,"alt",a[1]),m&4&&R(l,"opacity-30",!a[2]),m&2&&Q(h,a[1]),m&8&&d(e,"href",a[3])},i(c){i||ee(()=>{i=te(t,F,{duration:200,delay:150*a[0]+500}),i.start()})},o:D,d(c){c&&u(e)}}}const Le="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function Ge(a,e,t){let{id:l}=e,{name:s}=e,{collected:o=!1}=e,{navURL:n=`/partner/${l}`}=e,{img:f=Le}=e;return a.$$set=r=>{"id"in r&&t(0,l=r.id),"name"in r&&t(1,s=r.name),"collected"in r&&t(2,o=r.collected),"navURL"in r&&t(3,n=r.navURL),"img"in r&&t(4,f=r.img)},[l,s,o,n,f]}class Ce extends X{constructor(e){super(),x(this,e,Ge,we,$,{id:0,name:1,collected:2,navURL:3,img:4})}}function Me(a){let e,t=a[1]&&ue(a);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,s){l[1]?t?(t.p(l,s),s&2&&T(t,1)):(t=ue(l),t.c(),T(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){T(t)},o:D,d(l){t&&t.d(l),l&&u(e)}}}function Ve(a){let e,t,l,s;return{c(){e=b("span"),t=U(),l=b("p"),s=L("Warming up the gacha..."),this.h()},l(o){e=v(o,"SPAN",{class:!0}),y(e).forEach(u),t=j(o),l=v(o,"P",{class:!0});var n=y(l);s=G(n,"Warming up the gacha..."),n.forEach(u),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(o,n){A(o,e,n),A(o,t,n),A(o,l,n),_(l,s)},p:D,i:D,o:D,d(o){o&&u(e),o&&u(t),o&&u(l)}}}function Ye(a){let e,t,l,s;return{c(){e=b("button"),t=L("Play Gacha"),this.h()},l(o){e=v(o,"BUTTON",{class:!0});var n=y(e);t=G(n,"Play Gacha"),n.forEach(u),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,n){A(o,e,n),_(e,t),l||(s=W(e,"click",a[3]),l=!0)},p:D,i:D,o:D,d(o){o&&u(e),l=!1,s()}}}function ue(a){let e,t,l,s,o,n,f,r,h,i,c=a[1].english_name+"",m,k,V,w,C=a[1].group+"",I,O,g,p,E,S,Y;return{c(){e=b("div"),t=b("figure"),l=b("img"),n=U(),f=b("div"),r=b("h2"),h=L(a[2]),i=L(" got "),m=L(c),k=L("!"),V=U(),w=b("p"),I=L(C),O=U(),g=b("div"),p=b("a"),E=L("Explore Channel"),this.h()},l(P){e=v(P,"DIV",{class:!0});var M=y(e);t=v(M,"FIGURE",{});var re=y(t);l=v(re,"IMG",{src:!0,alt:!0}),re.forEach(u),n=j(M),f=v(M,"DIV",{class:!0});var q=y(f);r=v(q,"H2",{class:!0});var B=y(r);h=G(B,a[2]),i=G(B," got "),m=G(B,c),k=G(B,"!"),B.forEach(u),V=j(q),w=v(q,"P",{class:!0});var ie=y(w);I=G(ie,C),ie.forEach(u),O=j(q),g=v(q,"DIV",{class:!0});var ce=y(g);p=v(ce,"A",{class:!0,href:!0});var fe=y(p);E=G(fe,"Explore Channel"),fe.forEach(u),ce.forEach(u),q.forEach(u),M.forEach(u),this.h()},h(){K(l.src,s=a[1].photo)||d(l,"src",s),d(l,"alt",o=a[1].english_name),d(r,"class","card-title text-xl text-slate-100"),d(w,"class","text-slate-100"),d(p,"class","btn-secondary btn rounded-full text-slate-50"),d(p,"href",S="https://holodex.net/channel/"+a[1].id+"/clips"),d(g,"class","card-actions justify-end"),d(f,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(P,M){A(P,e,M),_(e,t),_(t,l),_(e,n),_(e,f),_(f,r),_(r,h),_(r,i),_(r,m),_(r,k),_(f,V),_(f,w),_(w,I),_(f,O),_(f,g),_(g,p),_(p,E)},p(P,M){M&2&&!K(l.src,s=P[1].photo)&&d(l,"src",s),M&2&&o!==(o=P[1].english_name)&&d(l,"alt",o),M&4&&Q(h,P[2]),M&2&&c!==(c=P[1].english_name+"")&&Q(m,c),M&2&&C!==(C=P[1].group+"")&&Q(I,C),M&2&&S!==(S="https://holodex.net/channel/"+P[1].id+"/clips")&&d(p,"href",S)},i(P){Y||ee(()=>{Y=te(e,F,{delay:500}),Y.start()})},o:D,d(P){P&&u(e)}}}function Ne(a){let e,t,l,s,o,n,f;function r(c,m){if(c[0]===H.NOT_PLAYED)return Ye;if(c[0]===H.PLAYING)return Ve;if(c[0]===H.PLAYED)return Me}let h=r(a),i=h&&h(a);return{c(){e=b("h1"),t=L("Thank you!"),l=U(),s=b("h2"),o=L("You have completed the quest!"),n=U(),i&&i.c(),f=z(),this.h()},l(c){e=v(c,"H1",{class:!0});var m=y(e);t=G(m,"Thank you!"),m.forEach(u),l=j(c),s=v(c,"H2",{class:!0});var k=y(s);o=G(k,"You have completed the quest!"),k.forEach(u),n=j(c),i&&i.l(c),f=z(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(s,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(c,m){A(c,e,m),_(e,t),A(c,l,m),A(c,s,m),_(s,o),A(c,n,m),i&&i.m(c,m),A(c,f,m)},p(c,[m]){h===(h=r(c))&&i?i.p(c,m):(i&&i.d(1),i=h&&h(c),i&&(i.c(),T(i,1),i.m(f.parentNode,f)))},i(c){T(i)},o:D,d(c){c&&u(e),c&&u(l),c&&u(s),c&&u(n),i&&i.d(c),c&&u(f)}}}const Re=3e3;function Ue(a,e,t){let l;Se(a,Pe,h=>t(2,l=h));let s=H.NOT_PLAYED,o,n;function f(){const i=oe.length-1;return Math.floor(Math.random()*(i-0+1)+0)}function r(){t(0,s=H.PLAYING),setTimeout(()=>{t(4,n=f()),t(1,o=oe[n]),t(0,s=H.PLAYED)},Re)}return pe(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,s=H.PLAYED),t(4,n=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=oe[n]))}),a.$$.update=()=>{a.$$.dirty&17&&s===H.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",n.toString()))},[s,o,l,r,n]}class je extends X{constructor(e){super(),x(this,e,Ue,Ne,$,{})}}function he(a,e,t){const l=a.slice();return l[14]=e[t],l}function He(a){let e,t,l,s;return t=new Te({props:{src:Ae,theme:"solid",class:"h-8 w-8"}}),{c(){e=b("a"),le(t.$$.fragment),l=L(`
				Scan stamp`),this.h()},l(o){e=v(o,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var n=y(e);ae(t.$$.fragment,n),l=G(n,`
				Scan stamp`),n.forEach(u),this.h()},h(){d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(o,n){A(o,e,n),se(t,e,null),_(e,l),s=!0},p:D,i(o){s||(T(t.$$.fragment,o),s=!0)},o(o){N(t.$$.fragment,o),s=!1},d(o){o&&u(e),ne(t)}}}function Oe(a){let e,t;return{c(){e=b("h2"),t=L("Show sheet to staff!"),this.h()},l(l){e=v(l,"H2",{class:!0});var s=y(e);t=G(s,"Show sheet to staff!"),s.forEach(u),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,s){A(l,e,s),_(e,t)},p:D,i:D,o:D,d(l){l&&u(e)}}}function me(a){let e,t,l,s,o=a[0],n=[];for(let r=0;r<o.length;r+=1)n[r]=de(he(a,o,r));const f=r=>N(n[r],1,1,()=>{n[r]=null});return{c(){e=b("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var h=y(e);for(let i=0;i<n.length;i+=1)n[i].l(h);h.forEach(u),this.h()},h(){d(e,"class","grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(r,h){A(r,e,h);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);s=!0},p(r,h){if(a=r,h&3){o=a[0];let i;for(i=0;i<o.length;i+=1){const c=he(a,o,i);n[i]?(n[i].p(c,h),T(n[i],1)):(n[i]=de(c),n[i].c(),T(n[i],1),n[i].m(e,null))}for(Z(),i=o.length;i<n.length;i+=1)f(i);J()}},i(r){if(!s){for(let h=0;h<o.length;h+=1)T(n[h]);ee(()=>{s&&(l&&l.end(1),t=te(e,F,{delay:ve}),t.start())}),s=!0}},o(r){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)N(n[h]);t&&t.invalidate(),l=ge(e,Ie,a[2]&&a[3]?{y:20,duration:1200,easing:ye}:{}),s=!1},d(r){r&&u(e),Ee(n,r),r&&l&&l.end()}}}function de(a){let e,t;return e=new Ce({props:{name:a[14].name,collected:a[1](a[14]),id:a[14].id,img:a[14].imageURL}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.name=l[14].name),s&3&&(o.collected=l[1](l[14])),s&1&&(o.id=l[14].id),s&1&&(o.img=l[14].imageURL),e.$set(o)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function _e(a){let e,t,l;return t=new je({}),{c(){e=b("div"),le(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var o=y(e);ae(t.$$.fragment,o),o.forEach(u),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(s,o){A(s,e,o),se(t,e,null),l=!0},i(s){l||(T(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&u(e),ne(t)}}}function qe(a){let e,t,l,s,o,n,f,r,h,i,c,m,k,V,w;const C=[Oe,He],I=[];function O(E,S){return E[3]?0:1}n=O(a),f=I[n]=C[n](a);let g=!a[2]&&me(a),p=a[2]&&_e();return{c(){e=b("div"),t=b("div"),l=b("h1"),s=L("Stamps"),o=U(),f.c(),h=U(),g&&g.c(),c=U(),p&&p.c(),m=z(),this.h()},l(E){e=v(E,"DIV",{class:!0});var S=y(e);t=v(S,"DIV",{class:!0});var Y=y(t);l=v(Y,"H1",{class:!0});var P=y(l);s=G(P,"Stamps"),P.forEach(u),o=j(Y),f.l(Y),Y.forEach(u),h=j(S),g&&g.l(S),S.forEach(u),c=j(E),p&&p.l(E),m=z(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),R(t,"animate-pulse",a[4]&&a[3]),R(t,"border-b-2",a[2]),R(t,"border-dashed",a[2]),R(t,"border-slate-900",a[2]),d(e,"class","bg-triangles mx-8 my-2 divide-y-2 divide-dashed divide-slate-900 rounded-t-xl bg-slate-100")},m(E,S){A(E,e,S),_(e,t),_(t,l),_(l,s),_(t,o),I[n].m(t,null),_(e,h),g&&g.m(e,null),A(E,c,S),p&&p.m(E,S),A(E,m,S),k=!0,V||(w=[W(t,"touchstart",a[5]),W(t,"touchend",a[6]),W(t,"touchcancel",a[7],{passive:!0})],V=!0)},p(E,[S]){a=E;let Y=n;n=O(a),n===Y?I[n].p(a,S):(Z(),N(I[Y],1,1,()=>{I[Y]=null}),J(),f=I[n],f?f.p(a,S):(f=I[n]=C[n](a),f.c()),T(f,1),f.m(t,null)),(!k||S&24)&&R(t,"animate-pulse",a[4]&&a[3]),(!k||S&4)&&R(t,"border-b-2",a[2]),(!k||S&4)&&R(t,"border-dashed",a[2]),(!k||S&4)&&R(t,"border-slate-900",a[2]),a[2]?g&&(Z(),N(g,1,1,()=>{g=null}),J()):g?(g.p(a,S),S&4&&T(g,1)):(g=me(a),g.c(),T(g,1),g.m(e,null)),a[2]?p?S&4&&T(p,1):(p=_e(),p.c(),T(p,1),p.m(m.parentNode,m)):p&&(Z(),N(p,1,1,()=>{p=null}),J())},i(E){k||(T(f),r||ee(()=>{r=te(t,F,{delay:ve}),r.start()}),T(g),i&&i.end(1),T(p),k=!0)},o(E){N(f),N(g),i=ge(e,F,{}),N(p),k=!1},d(E){E&&u(e),I[n].d(),g&&g.d(),E&&i&&i.end(),E&&u(c),p&&p.d(E),E&&u(m),V=!1,ke(w)}}}const ve=500,ze=1e3;function Be(a,e,t){let{stamps:l=[]}=e,s=function(I){return!1},o=function(){},n=!0,f=!1;function r(){return be.every(s)}pe(()=>{t(1,s=function(I){return localStorage.getItem(I.hash)!==null}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,n=!0)},r()&&(console.log("All stamps collected!"),t(3,f=!0)),t(2,n=localStorage.getItem("isStampSheetTorn")==="yes")});let h,i,c,m=!1,k;function V(I){I.touches.length===2&&f&&(h=new Date().getTime(),c=I.touches.length,t(4,m=!0),k=setTimeout(()=>{o()},2e3))}function w(I){c===2&&(i=new Date().getTime(),i-h>=ze&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,m=!1),clearTimeout(k)}function C(){c=0,t(4,m=!1),clearTimeout(k)}return a.$$set=I=>{"stamps"in I&&t(0,l=I.stamps)},[l,s,n,f,m,V,w,C]}class Fe extends X{constructor(e){super(),x(this,e,Be,qe,$,{stamps:0})}}function Qe(a){let e,t;return e=new Fe({props:{stamps:be}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,s){se(e,l,s),t=!0},p:D,i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}class $e extends X{constructor(e){super(),x(this,e,null,Qe,$,{})}}export{$e as component,xe as universal};
