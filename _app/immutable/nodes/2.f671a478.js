import{S as X,i as x,s as $,k as v,a as U,q as C,l as S,m as I,h as m,c as j,r as M,V as K,n as d,N as R,b as A,C as _,u as Q,O as ee,W as te,M as D,e as z,g as T,D as Se,o as pe,H as W,v as Z,d as N,f as J,X as ge,L as ke,Y as ye,y as le,z as ae,A as se,B as ne}from"../chunks/index.ca4d86f6.js";import{f as F,h as oe,c as Ee,a as Ie,e as be}from"../chunks/const.f8bd9eda.js";import{I as Te,Q as Ae}from"../chunks/index.d309f9a8.js";import{G as H}from"../chunks/custom.fbadb549.js";import{n as we}from"../chunks/store.7f71c011.js";const De=!0,Xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:De},Symbol.toStringTag,{value:"Module"}));function Pe(a){let e,t,l,s,o,n,f,r,u,i;return{c(){e=v("a"),t=v("div"),l=v("div"),s=v("div"),o=v("img"),f=U(),r=v("div"),u=C(a[1]),this.h()},l(c){e=S(c,"A",{href:!0});var h=I(e);t=S(h,"DIV",{class:!0});var k=I(t);l=S(k,"DIV",{class:!0});var V=I(l);s=S(V,"DIV",{class:!0});var P=I(s);o=S(P,"IMG",{src:!0,alt:!0,class:!0}),P.forEach(m),V.forEach(m),f=j(k),r=S(k,"DIV",{class:!0});var L=I(r);u=M(L,a[1]),L.forEach(m),k.forEach(m),h.forEach(m),this.h()},h(){K(o.src,n=a[4])||d(o,"src",n),d(o,"alt",a[1]),d(o,"class","h-20 w-20 rounded-full"),d(s,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(l,"class","flex h-28 w-28 items-center justify-center rounded-full bg-gradient-to-br from-primary to-secondary"),R(l,"opacity-30",!a[2]),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),d(t,"class","flex flex-col items-center"),d(e,"href",a[3])},m(c,h){A(c,e,h),_(e,t),_(t,l),_(l,s),_(s,o),_(t,f),_(t,r),_(r,u)},p(c,[h]){a=c,h&16&&!K(o.src,n=a[4])&&d(o,"src",n),h&2&&d(o,"alt",a[1]),h&4&&R(l,"opacity-30",!a[2]),h&2&&Q(u,a[1]),h&8&&d(e,"href",a[3])},i(c){i||ee(()=>{i=te(t,F,{duration:200,delay:150*a[0]+500}),i.start()})},o:D,d(c){c&&m(e)}}}const Le="https://4.bp.blogspot.com/-ZMzPgyP64Zg/WFuJyby0eDI/AAAAAAABAmk/I_UtFowN0ecaQiqgYGpTsKGTqFzMLESdwCLcB/s800/nenga_hanko_kingashinnen_maru.png";function Ge(a,e,t){let{id:l}=e,{name:s}=e,{collected:o=!1}=e,{navURL:n=`/partner/${l}`}=e,{img:f=Le}=e;return a.$$set=r=>{"id"in r&&t(0,l=r.id),"name"in r&&t(1,s=r.name),"collected"in r&&t(2,o=r.collected),"navURL"in r&&t(3,n=r.navURL),"img"in r&&t(4,f=r.img)},[l,s,o,n,f]}class Ce extends X{constructor(e){super(),x(this,e,Ge,Pe,$,{id:0,name:1,collected:2,navURL:3,img:4})}}function Me(a){let e,t=a[1]&&ue(a);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,s){t&&t.m(l,s),A(l,e,s)},p(l,s){l[1]?t?(t.p(l,s),s&2&&T(t,1)):(t=ue(l),t.c(),T(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){T(t)},o:D,d(l){t&&t.d(l),l&&m(e)}}}function Ve(a){let e;return{c(){e=v("span"),this.h()},l(t){e=S(t,"SPAN",{class:!0}),I(e).forEach(m),this.h()},h(){d(e,"class","loading-xl loading loading-dots")},m(t,l){A(t,e,l)},p:D,i:D,o:D,d(t){t&&m(e)}}}function Ye(a){let e,t,l,s;return{c(){e=v("button"),t=C("Play Gacha"),this.h()},l(o){e=S(o,"BUTTON",{class:!0});var n=I(e);t=M(n,"Play Gacha"),n.forEach(m),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,n){A(o,e,n),_(e,t),l||(s=W(e,"click",a[3]),l=!0)},p:D,i:D,o:D,d(o){o&&m(e),l=!1,s()}}}function ue(a){let e,t,l,s,o,n,f,r,u,i,c=a[1].english_name+"",h,k,V,P,L=a[1].group+"",E,O,g,p,y,b,Y;return{c(){e=v("div"),t=v("figure"),l=v("img"),n=U(),f=v("div"),r=v("h2"),u=C(a[2]),i=C(" got "),h=C(c),k=C("!"),V=U(),P=v("p"),E=C(L),O=U(),g=v("div"),p=v("a"),y=C("Explore Channel"),this.h()},l(w){e=S(w,"DIV",{class:!0});var G=I(e);t=S(G,"FIGURE",{});var re=I(t);l=S(re,"IMG",{src:!0,alt:!0}),re.forEach(m),n=j(G),f=S(G,"DIV",{class:!0});var q=I(f);r=S(q,"H2",{class:!0});var B=I(r);u=M(B,a[2]),i=M(B," got "),h=M(B,c),k=M(B,"!"),B.forEach(m),V=j(q),P=S(q,"P",{class:!0});var ie=I(P);E=M(ie,L),ie.forEach(m),O=j(q),g=S(q,"DIV",{class:!0});var ce=I(g);p=S(ce,"A",{class:!0,href:!0});var fe=I(p);y=M(fe,"Explore Channel"),fe.forEach(m),ce.forEach(m),q.forEach(m),G.forEach(m),this.h()},h(){K(l.src,s=a[1].photo)||d(l,"src",s),d(l,"alt",o=a[1].english_name),d(r,"class","card-title text-xl text-slate-100"),d(P,"class","text-slate-100"),d(p,"class","btn-secondary btn rounded-full text-slate-50"),d(p,"href",b="https://holodex.net/channel/"+a[1].id+"/clips"),d(g,"class","card-actions justify-end"),d(f,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(w,G){A(w,e,G),_(e,t),_(t,l),_(e,n),_(e,f),_(f,r),_(r,u),_(r,i),_(r,h),_(r,k),_(f,V),_(f,P),_(P,E),_(f,O),_(f,g),_(g,p),_(p,y)},p(w,G){G&2&&!K(l.src,s=w[1].photo)&&d(l,"src",s),G&2&&o!==(o=w[1].english_name)&&d(l,"alt",o),G&4&&Q(u,w[2]),G&2&&c!==(c=w[1].english_name+"")&&Q(h,c),G&2&&L!==(L=w[1].group+"")&&Q(E,L),G&2&&b!==(b="https://holodex.net/channel/"+w[1].id+"/clips")&&d(p,"href",b)},i(w){Y||ee(()=>{Y=te(e,F,{delay:500}),Y.start()})},o:D,d(w){w&&m(e)}}}function Ne(a){let e,t,l,s,o,n,f;function r(c,h){if(c[0]===H.NOT_PLAYED)return Ye;if(c[0]===H.PLAYING)return Ve;if(c[0]===H.PLAYED)return Me}let u=r(a),i=u&&u(a);return{c(){e=v("h1"),t=C("Thank you!"),l=U(),s=v("h2"),o=C("You have completed the quest!"),n=U(),i&&i.c(),f=z(),this.h()},l(c){e=S(c,"H1",{class:!0});var h=I(e);t=M(h,"Thank you!"),h.forEach(m),l=j(c),s=S(c,"H2",{class:!0});var k=I(s);o=M(k,"You have completed the quest!"),k.forEach(m),n=j(c),i&&i.l(c),f=z(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(s,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(c,h){A(c,e,h),_(e,t),A(c,l,h),A(c,s,h),_(s,o),A(c,n,h),i&&i.m(c,h),A(c,f,h)},p(c,[h]){u===(u=r(c))&&i?i.p(c,h):(i&&i.d(1),i=u&&u(c),i&&(i.c(),T(i,1),i.m(f.parentNode,f)))},i(c){T(i)},o:D,d(c){c&&m(e),c&&m(l),c&&m(s),c&&m(n),i&&i.d(c),c&&m(f)}}}function Re(a,e,t){let l;Se(a,we,u=>t(2,l=u));let s=H.NOT_PLAYED,o,n;function f(){const i=oe.length-1;return Math.floor(Math.random()*(i-0+1)+0)}function r(){t(0,s=H.PLAYING),setTimeout(()=>{t(4,n=f()),t(1,o=oe[n]),t(0,s=H.PLAYED)},3e3)}return pe(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,s=H.PLAYED),t(4,n=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=oe[n]))}),a.$$.update=()=>{a.$$.dirty&17&&s===H.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",n.toString()))},[s,o,l,r,n]}class Ue extends X{constructor(e){super(),x(this,e,Re,Ne,$,{})}}function he(a,e,t){const l=a.slice();return l[14]=e[t],l}function je(a){let e,t,l,s;return t=new Te({props:{src:Ae,theme:"solid",class:"h-8 w-8"}}),{c(){e=v("a"),le(t.$$.fragment),l=C(`
				Scan stamp`),this.h()},l(o){e=S(o,"A",{href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var n=I(e);ae(t.$$.fragment,n),l=M(n,`
				Scan stamp`),n.forEach(m),this.h()},h(){d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn mx-auto w-8/12 justify-center gap-2 rounded-full font-bold text-base-100"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(o,n){A(o,e,n),se(t,e,null),_(e,l),s=!0},p:D,i(o){s||(T(t.$$.fragment,o),s=!0)},o(o){N(t.$$.fragment,o),s=!1},d(o){o&&m(e),ne(t)}}}function He(a){let e,t;return{c(){e=v("h2"),t=C("Show sheet to staff!"),this.h()},l(l){e=S(l,"H2",{class:!0});var s=I(e);t=M(s,"Show sheet to staff!"),s.forEach(m),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,s){A(l,e,s),_(e,t)},p:D,i:D,o:D,d(l){l&&m(e)}}}function me(a){let e,t,l,s,o=a[0],n=[];for(let r=0;r<o.length;r+=1)n[r]=de(he(a,o,r));const f=r=>N(n[r],1,1,()=>{n[r]=null});return{c(){e=v("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=S(r,"DIV",{class:!0});var u=I(e);for(let i=0;i<n.length;i+=1)n[i].l(u);u.forEach(m),this.h()},h(){d(e,"class","grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(r,u){A(r,e,u);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);s=!0},p(r,u){if(a=r,u&3){o=a[0];let i;for(i=0;i<o.length;i+=1){const c=he(a,o,i);n[i]?(n[i].p(c,u),T(n[i],1)):(n[i]=de(c),n[i].c(),T(n[i],1),n[i].m(e,null))}for(Z(),i=o.length;i<n.length;i+=1)f(i);J()}},i(r){if(!s){for(let u=0;u<o.length;u+=1)T(n[u]);ee(()=>{s&&(l&&l.end(1),t=te(e,F,{delay:ve}),t.start())}),s=!0}},o(r){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)N(n[u]);t&&t.invalidate(),l=ge(e,Ie,a[2]&&a[3]?{y:20,duration:1200,easing:Ee}:{opacity:100}),s=!1},d(r){r&&m(e),ye(n,r),r&&l&&l.end()}}}function de(a){let e,t;return e=new Ce({props:{name:a[14].name,collected:a[1](a[14]),id:a[14].id,img:a[14].imageURL}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.name=l[14].name),s&3&&(o.collected=l[1](l[14])),s&1&&(o.id=l[14].id),s&1&&(o.img=l[14].imageURL),e.$set(o)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function _e(a){let e,t,l;return t=new Ue({}),{c(){e=v("div"),le(t.$$.fragment),this.h()},l(s){e=S(s,"DIV",{class:!0});var o=I(e);ae(t.$$.fragment,o),o.forEach(m),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(s,o){A(s,e,o),se(t,e,null),l=!0},i(s){l||(T(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&m(e),ne(t)}}}function Oe(a){let e,t,l,s,o,n,f,r,u,i,c,h,k,V,P;const L=[He,je],E=[];function O(y,b){return y[3]?0:1}n=O(a),f=E[n]=L[n](a);let g=!a[2]&&me(a),p=a[2]&&_e();return{c(){e=v("div"),t=v("div"),l=v("h1"),s=C("Stamps"),o=U(),f.c(),u=U(),g&&g.c(),c=U(),p&&p.c(),h=z(),this.h()},l(y){e=S(y,"DIV",{class:!0});var b=I(e);t=S(b,"DIV",{class:!0});var Y=I(t);l=S(Y,"H1",{class:!0});var w=I(l);s=M(w,"Stamps"),w.forEach(m),o=j(Y),f.l(Y),Y.forEach(m),u=j(b),g&&g.l(b),b.forEach(m),c=j(y),p&&p.l(y),h=z(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),R(t,"animate-pulse",a[4]&&a[3]),R(t,"border-b-2",a[2]),R(t,"border-dashed",a[2]),R(t,"border-slate-900",a[2]),d(e,"class","bg-triangles mx-8 my-2 divide-y-2 divide-dashed divide-slate-900 rounded-t-xl bg-slate-100")},m(y,b){A(y,e,b),_(e,t),_(t,l),_(l,s),_(t,o),E[n].m(t,null),_(e,u),g&&g.m(e,null),A(y,c,b),p&&p.m(y,b),A(y,h,b),k=!0,V||(P=[W(t,"touchstart",a[5]),W(t,"touchend",a[6]),W(t,"touchcancel",a[7],{passive:!0})],V=!0)},p(y,[b]){a=y;let Y=n;n=O(a),n===Y?E[n].p(a,b):(Z(),N(E[Y],1,1,()=>{E[Y]=null}),J(),f=E[n],f?f.p(a,b):(f=E[n]=L[n](a),f.c()),T(f,1),f.m(t,null)),(!k||b&24)&&R(t,"animate-pulse",a[4]&&a[3]),(!k||b&4)&&R(t,"border-b-2",a[2]),(!k||b&4)&&R(t,"border-dashed",a[2]),(!k||b&4)&&R(t,"border-slate-900",a[2]),a[2]?g&&(Z(),N(g,1,1,()=>{g=null}),J()):g?(g.p(a,b),b&4&&T(g,1)):(g=me(a),g.c(),T(g,1),g.m(e,null)),a[2]?p?b&4&&T(p,1):(p=_e(),p.c(),T(p,1),p.m(h.parentNode,h)):p&&(Z(),N(p,1,1,()=>{p=null}),J())},i(y){k||(T(f),r||ee(()=>{r=te(t,F,{delay:ve}),r.start()}),T(g),i&&i.end(1),T(p),k=!0)},o(y){N(f),N(g),i=ge(e,F,{}),N(p),k=!1},d(y){y&&m(e),E[n].d(),g&&g.d(),y&&i&&i.end(),y&&m(c),p&&p.d(y),y&&m(h),V=!1,ke(P)}}}const ve=500,qe=1e3;function ze(a,e,t){let{stamps:l=[]}=e,s=function(E){return!1},o=function(){},n=!1,f=!1;function r(){return be.every(s)}pe(()=>{t(1,s=function(E){return localStorage.getItem(E.hash)!==null}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,n=!0)},r()&&(console.log("All stamps collected!"),t(3,f=!0)),localStorage.getItem("isStampSheetTorn")==="yes"&&t(2,n=!0)});let u,i,c,h=!1,k;function V(E){E.touches.length===2&&f&&(u=new Date().getTime(),c=E.touches.length,t(4,h=!0),k=setTimeout(()=>{o()},2e3))}function P(E){c===2&&(i=new Date().getTime(),i-u>=qe&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,h=!1),clearTimeout(k)}function L(){c=0,t(4,h=!1),clearTimeout(k)}return a.$$set=E=>{"stamps"in E&&t(0,l=E.stamps)},[l,s,n,f,h,V,P,L]}class Be extends X{constructor(e){super(),x(this,e,ze,Oe,$,{stamps:0})}}function Fe(a){let e,t;return e=new Be({props:{stamps:be}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,s){se(e,l,s),t=!0},p:D,i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}class xe extends X{constructor(e){super(),x(this,e,null,Fe,$,{})}}export{xe as component,Xe as universal};
