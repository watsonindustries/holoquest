import{s as ht,n as st,r as pt,c as nt,o as ft}from"../chunks/scheduler.dd29296d.js";import{S as mt,i as _t,g as h,s as v,m as S,h as p,j as b,y as B,c as x,f,n as E,k as _,a as ut,x as l,z as ot,o as q,E as dt}from"../chunks/index.c1e4cb46.js";import{e as rt}from"../chunks/each.e59479a4.js";import{e as vt}from"../chunks/qr-scanner.min.4880ecae.js";import{n as xt,u as bt}from"../chunks/store.312543e3.js";function ct(o,t,s){const u=o.slice();return u[6]=t[s],u}function it(o){let t,s=o[6].label+"",u;return{c(){t=h("li"),u=S(s),this.h()},l(i){t=p(i,"LI",{class:!0});var c=b(t);u=E(c,s),c.forEach(f),this.h()},h(){_(t,"class","font-mono text-base")},m(i,c){ut(i,t,c),l(t,u)},p(i,c){c&1&&s!==(s=i[6].label+"")&&q(u,s)},d(i){i&&f(t)}}}function gt(o){let t,s,u="Available cameras",i,c,P,m,z="clear localstorage",g,C,Z="User info",M,T,V,I,L,F,N,G,y,O,H,k,$="Stamps",J,D,K,A=o[1]?"torn":"untorn",j,Q,d,tt="Untear sheet",R,et,U=rt(o[0]),r=[];for(let a=0;a<U.length;a+=1)r[a]=it(ct(o,U,a));return{c(){t=h("div"),s=h("p"),s.textContent=u,i=v(),c=h("ul");for(let a=0;a<r.length;a+=1)r[a].c();P=v(),m=h("button"),m.textContent=z,g=v(),C=h("p"),C.textContent=Z,M=v(),T=h("p"),V=S("Nickname: "),I=h("span"),L=S(o[2]),F=v(),N=h("p"),G=S("Device ID: "),y=h("span"),O=S(o[3]),H=v(),k=h("p"),k.textContent=$,J=v(),D=h("p"),K=S("Stamp sheet status: "),j=S(A),Q=v(),d=h("button"),d.textContent=tt,this.h()},l(a){t=p(a,"DIV",{class:!0});var e=b(t);s=p(e,"P",{class:!0,["data-svelte-h"]:!0}),B(s)!=="svelte-gi42xl"&&(s.textContent=u),i=x(e),c=p(e,"UL",{});var n=b(c);for(let Y=0;Y<r.length;Y+=1)r[Y].l(n);n.forEach(f),P=x(e),m=p(e,"BUTTON",{class:!0,["data-svelte-h"]:!0}),B(m)!=="svelte-12ab5pa"&&(m.textContent=z),g=x(e),C=p(e,"P",{class:!0,["data-svelte-h"]:!0}),B(C)!=="svelte-1oto883"&&(C.textContent=Z),M=x(e),T=p(e,"P",{});var w=b(T);V=E(w,"Nickname: "),I=p(w,"SPAN",{class:!0});var lt=b(I);L=E(lt,o[2]),lt.forEach(f),w.forEach(f),F=x(e),N=p(e,"P",{});var W=b(N);G=E(W,"Device ID: "),y=p(W,"SPAN",{class:!0});var at=b(y);O=E(at,o[3]),at.forEach(f),W.forEach(f),H=x(e),k=p(e,"P",{class:!0,["data-svelte-h"]:!0}),B(k)!=="svelte-1mth1v6"&&(k.textContent=$),J=x(e),D=p(e,"P",{});var X=b(D);K=E(X,"Stamp sheet status: "),j=E(X,A),X.forEach(f),Q=x(e),d=p(e,"BUTTON",{class:!0,["data-svelte-h"]:!0}),B(d)!=="svelte-131rtkh"&&(d.textContent=tt),e.forEach(f),this.h()},h(){_(s,"class","text-xl font-bold"),_(m,"class","btn-error btn mx-auto w-8/12 gap-2 rounded-full"),_(C,"class","text-xl font-bold"),_(I,"class","font-mono"),_(y,"class","font-mono"),_(k,"class","text-xl font-bold"),_(d,"class","btn-primary btn mx-auto w-8/12 gap-2 rounded-full"),_(t,"class","mx-4 space-y-4")},m(a,e){ut(a,t,e),l(t,s),l(t,i),l(t,c);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(c,null);l(t,P),l(t,m),l(t,g),l(t,C),l(t,M),l(t,T),l(T,V),l(T,I),l(I,L),l(t,F),l(t,N),l(N,G),l(N,y),l(y,O),l(t,H),l(t,k),l(t,J),l(t,D),l(D,K),l(D,j),l(t,Q),l(t,d),R||(et=[ot(m,"click",o[4]),ot(d,"click",o[5])],R=!0)},p(a,[e]){if(e&1){U=rt(a[0]);let n;for(n=0;n<U.length;n+=1){const w=ct(a,U,n);r[n]?r[n].p(w,e):(r[n]=it(w),r[n].c(),r[n].m(c,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=U.length}e&4&&q(L,a[2]),e&8&&q(O,a[3]),e&2&&A!==(A=a[1]?"torn":"untorn")&&q(j,A)},i:st,o:st,d(a){a&&f(t),dt(r,a),R=!1,pt(et)}}}function Ct(o,t,s){let u,i;nt(o,xt,g=>s(2,u=g)),nt(o,bt,g=>s(3,i=g));let c=[],P=!1;return ft(async()=>{s(0,c=await vt.listCameras(!0)),s(1,P=localStorage.getItem("isStampSheetTorn")==="yes")}),[c,P,u,i,()=>{localStorage.clear()},()=>localStorage.setItem("isStampSheetTorn","no")]}class It extends mt{constructor(t){super(),_t(this,t,Ct,gt,ht,{})}}export{It as component};
