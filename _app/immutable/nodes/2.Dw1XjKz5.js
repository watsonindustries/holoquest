import{s as z,d as le,l as se,n as L,c as be,o as ve,r as ye,g as Se}from"../chunks/scheduler.-y_xNphp.js";import{S as B,i as Q,e as y,s as V,t as H,c as S,f as T,d as h,b as R,j as N,l as d,w as G,n as w,m as p,p as X,H as oe,B as q,g as O,y as C,o as $,u as F,v as W,x as Z,z as A,A as J,E as ee,C as te,I as ke,q as Ie}from"../chunks/index.tFPaMmG2.js";import{e as de}from"../chunks/each.D6YF6ztN.js";import{f as re,c as Ce,a as Ee}from"../chunks/index.D7HzhC6n.js";import{G as M}from"../chunks/custom.DgUHssZa.js";import{h as ne,m as Te}from"../chunks/const.CGFi_4Hk.js";import{n as we}from"../chunks/userinfo.BaNtMxgM.js";import{I as xe,Q as De,c as Pe,a as Ae,e as Le}from"../chunks/index.DlS5U7n5.js";const je=!1,Ge=async()=>({}),ut=Object.freeze(Object.defineProperty({__proto__:null,load:Ge,ssr:je},Symbol.toStringTag,{value:"Module"})),Ve=""+new URL("../assets/watamesmug.ay_qIBLZ.jpg",import.meta.url).href;function Re(n){let e,t,l,a,o,s,f,c,u,r,i,b;return{c(){e=y("a"),t=y("div"),l=y("div"),a=y("div"),o=y("div"),s=y("img"),u=V(),r=y("div"),i=H(n[1]),this.h()},l(E){e=S(E,"A",{href:!0});var k=T(e);t=S(k,"DIV",{class:!0});var I=T(t);l=S(I,"DIV",{class:!0});var x=T(l);a=S(x,"DIV",{class:!0});var m=T(a);o=S(m,"DIV",{class:!0});var g=T(o);s=S(g,"IMG",{src:!0,alt:!0,class:!0}),g.forEach(h),m.forEach(h),x.forEach(h),u=R(I),r=S(I,"DIV",{class:!0});var _=T(r);i=N(_,n[1]),_.forEach(h),I.forEach(h),k.forEach(h),this.h()},h(){le(s.src,f=n[4])||d(s,"src",f),d(s,"alt",n[1]),d(s,"class","h-20 w-20 rounded-full"),G(s,"opacity-30",!n[2]),d(o,"class","flex h-24 w-24 items-center justify-center rounded-full bg-white"),d(a,"class","flex h-24 w-24 items-center justify-center rounded-full"),d(l,"class",c="flex h-28 w-28 items-center justify-center rounded-full "+(n[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30")),d(r,"class","mt-2 w-8/12 break-all text-center text-secondary"),G(r,"font-bold",n[2]),d(t,"class","flex flex-col items-center"),d(e,"href",n[3])},m(E,k){w(E,e,k),p(e,t),p(t,l),p(l,a),p(a,o),p(o,s),p(t,u),p(t,r),p(r,i)},p(E,[k]){n=E,k&16&&!le(s.src,f=n[4])&&d(s,"src",f),k&2&&d(s,"alt",n[1]),k&4&&G(s,"opacity-30",!n[2]),k&4&&c!==(c="flex h-28 w-28 items-center justify-center rounded-full "+(n[2]?"bg-gradient-to-br from-primary to-secondary":"bg-secondary bg-opacity-30"))&&d(l,"class",c),k&2&&X(i,n[1]),k&4&&G(r,"font-bold",n[2]),k&8&&d(e,"href",n[3])},i(E){b||se(()=>{b=oe(t,re,{duration:n[5],delay:150*n[0]+500}),b.start()})},o:L,d(E){E&&h(e)}}}function Me(n,e,t){let{hash:l}=e,{index:a}=e,{name:o}=e,{collected:s=!1}=e,{navURL:f=`/partner/${l}`}=e;const c=Ve;let{img:u=c}=e;const r=100;return n.$$set=i=>{"hash"in i&&t(6,l=i.hash),"index"in i&&t(0,a=i.index),"name"in i&&t(1,o=i.name),"collected"in i&&t(2,s=i.collected),"navURL"in i&&t(3,f=i.navURL),"img"in i&&t(4,u=i.img)},[a,o,s,f,u,r,l]}class He extends B{constructor(e){super(),Q(this,e,Me,Re,z,{hash:6,index:0,name:1,collected:2,navURL:3,img:4,fadeDuration:5})}get fadeDuration(){return this.$$.ctx[5]}}function Ne(n){let e,t=n[1]&&me(n);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,a){t&&t.m(l,a),w(l,e,a)},p(l,a){l[1]?t?(t.p(l,a),a&2&&C(t,1)):(t=me(l),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(l){C(t)},o:L,d(l){l&&h(e),t&&t.d(l)}}}function Ye(n){let e,t,l,a="Warming up the gacha...";return{c(){e=y("span"),t=V(),l=y("p"),l.textContent=a,this.h()},l(o){e=S(o,"SPAN",{class:!0}),T(e).forEach(h),t=R(o),l=S(o,"P",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-16bujl6"&&(l.textContent=a),this.h()},h(){d(e,"class","loading-xl loading loading-dots"),d(l,"class","font-geologica")},m(o,s){w(o,e,s),w(o,t,s),w(o,l,s)},p:L,i:L,o:L,d(o){o&&(h(e),h(t),h(l))}}}function qe(n){let e,t="Play Gacha",l,a;return{c(){e=y("button"),e.textContent=t,this.h()},l(o){e=S(o,"BUTTON",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1vmmgpv"&&(e.textContent=t),this.h()},h(){d(e,"class","btn-secondary btn animate-pulse rounded-full")},m(o,s){w(o,e,s),l||(a=$(e,"click",n[3]),l=!0)},p:L,i:L,o:L,d(o){o&&h(e),l=!1,a()}}}function me(n){let e,t,l,a,o,s,f,c,u,r,i=n[1].english_name+"",b,E,k,I,x=n[1].group+"",m,g,_,v,j,K,ae;return{c(){e=y("div"),t=y("figure"),l=y("img"),s=V(),f=y("div"),c=y("h2"),u=H(n[2]),r=H(" got "),b=H(i),E=H("!"),k=V(),I=y("p"),m=H(x),g=V(),_=y("div"),v=y("a"),j=H("Explore Channel"),this.h()},l(D){e=S(D,"DIV",{class:!0});var P=T(e);t=S(P,"FIGURE",{});var ie=T(t);l=S(ie,"IMG",{src:!0,alt:!0}),ie.forEach(h),s=R(P),f=S(P,"DIV",{class:!0});var Y=T(f);c=S(Y,"H2",{class:!0});var U=T(c);u=N(U,n[2]),r=N(U," got "),b=N(U,i),E=N(U,"!"),U.forEach(h),k=R(Y),I=S(Y,"P",{class:!0});var ce=T(I);m=N(ce,x),ce.forEach(h),g=R(Y),_=S(Y,"DIV",{class:!0});var fe=T(_);v=S(fe,"A",{class:!0,href:!0});var ue=T(v);j=N(ue,"Explore Channel"),ue.forEach(h),fe.forEach(h),Y.forEach(h),P.forEach(h),this.h()},h(){le(l.src,a=n[1].photo)||d(l,"src",a),d(l,"alt",o=n[1].english_name),d(c,"class","card-title text-xl text-slate-100"),d(I,"class","text-slate-100"),d(v,"class","btn-secondary btn rounded-full text-slate-50"),d(v,"href",K="https://holodex.net/channel/"+n[1].id+"/clips"),d(_,"class","card-actions justify-end"),d(f,"class","card-body items-center font-geologica"),d(e,"class","card image-full -z-10 w-10/12 bg-base-100 text-center shadow-lg")},m(D,P){w(D,e,P),p(e,t),p(t,l),p(e,s),p(e,f),p(f,c),p(c,u),p(c,r),p(c,b),p(c,E),p(f,k),p(f,I),p(I,m),p(f,g),p(f,_),p(_,v),p(v,j)},p(D,P){P&2&&!le(l.src,a=D[1].photo)&&d(l,"src",a),P&2&&o!==(o=D[1].english_name)&&d(l,"alt",o),P&4&&X(u,D[2]),P&2&&i!==(i=D[1].english_name+"")&&X(b,i),P&2&&x!==(x=D[1].group+"")&&X(m,x),P&2&&K!==(K="https://holodex.net/channel/"+D[1].id+"/clips")&&d(v,"href",K)},i(D){ae||se(()=>{ae=oe(e,re,{delay:500}),ae.start()})},o:L,d(D){D&&h(e)}}}function Oe(n){let e,t="Thank you!",l,a,o="You have completed the quest!",s,f;function c(i,b){if(i[0]===M.NOT_PLAYED)return qe;if(i[0]===M.PLAYING)return Ye;if(i[0]===M.PLAYED)return Ne}let u=c(n),r=u&&u(n);return{c(){e=y("h1"),e.textContent=t,l=V(),a=y("h2"),a.textContent=o,s=V(),r&&r.c(),f=q(),this.h()},l(i){e=S(i,"H1",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-dyvikd"&&(e.textContent=t),l=R(i),a=S(i,"H2",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-1bboxj2"&&(a.textContent=o),s=R(i),r&&r.l(i),f=q(),this.h()},h(){d(e,"class","text-center font-geologica text-4xl font-bold text-primary"),d(a,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(i,b){w(i,e,b),w(i,l,b),w(i,a,b),w(i,s,b),r&&r.m(i,b),w(i,f,b)},p(i,[b]){u===(u=c(i))&&r?r.p(i,b):(r&&r.d(1),r=u&&u(i),r&&(r.c(),C(r,1),r.m(f.parentNode,f)))},i(i){C(r)},o:L,d(i){i&&(h(e),h(l),h(a),h(s),h(f)),r&&r.d(i)}}}const Ue=3e3;function ze(n,e,t){let l;be(n,we,u=>t(2,l=u));let a=M.NOT_PLAYED,o,s;function f(){const r=ne.length-1;return Math.floor(Math.random()*(r-0+1)+0)}function c(){t(0,a=M.PLAYING),setTimeout(()=>{t(4,s=f()),t(1,o=ne[s]),t(0,a=M.PLAYED)},Ue)}return ve(()=>{localStorage.getItem("gachaPlayed")==="yes"&&(t(0,a=M.PLAYED),t(4,s=parseInt(localStorage.getItem("gachaResultIndex"))),t(1,o=ne[s]))}),n.$$.update=()=>{n.$$.dirty&17&&a===M.PLAYED&&(localStorage.setItem("gachaPlayed","yes"),localStorage.setItem("gachaResultIndex",s.toString()))},[a,o,l,c,s]}class Be extends B{constructor(e){super(),Q(this,e,ze,Oe,z,{})}}function Qe(n){let e,t,l;return t=new xe({props:{src:De,theme:"solid",class:"p-1 align-middle"}}),{c(){e=y("a"),F(t.$$.fragment),this.h()},l(a){e=S(a,"A",{id:!0,href:!0,class:!0,tabindex:!0,"aria-disabled":!0});var o=T(e);W(t.$$.fragment,o),o.forEach(h),this.h()},h(){d(e,"id","scanner"),d(e,"href","/scanner"),d(e,"class","btn-xl btn-info btn-circle fixed bottom-6 right-6 z-50 flex h-20 w-20 items-center justify-center rounded-full p-2 align-middle font-bold text-base-100 shadow-lg"),d(e,"tabindex","-1"),d(e,"aria-disabled","true")},m(a,o){w(a,e,o),Z(t,e,null),l=!0},p:L,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&h(e),J(t)}}}class Fe extends B{constructor(e){super(),Q(this,e,null,Qe,z,{})}}function he(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function We(n){let e,t;return e=new Fe({}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,a){Z(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ze(n){let e,t="Show sheet to staff at the booth!";return{c(){e=y("h2"),e.textContent=t,this.h()},l(l){e=S(l,"H2",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1q7ltwa"&&(e.textContent=t),this.h()},h(){d(e,"class","text-center font-geologica text-xl font-semibold text-secondary")},m(l,a){w(l,e,a)},i:L,o:L,d(l){l&&h(e)}}}function _e(n){let e,t,l,a,o=de(n[0]),s=[];for(let c=0;c<o.length;c+=1)s[c]=ge(he(n,o,c));const f=c=>A(s[c],1,1,()=>{s[c]=null});return{c(){e=y("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=S(c,"DIV",{class:!0});var u=T(e);for(let r=0;r<s.length;r+=1)s[r].l(u);u.forEach(h),this.h()},h(){d(e,"class","z-30 grid grid-cols-2 gap-4 rounded-b-xl p-4 pt-8 shadow-md")},m(c,u){w(c,e,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);a=!0},p(c,u){if(n=c,u&3){o=de(n[0]);let r;for(r=0;r<o.length;r+=1){const i=he(n,o,r);s[r]?(s[r].p(i,u),C(s[r],1)):(s[r]=ge(i),s[r].c(),C(s[r],1),s[r].m(e,null))}for(ee(),r=o.length;r<s.length;r+=1)f(r);te()}},i(c){if(!a){for(let u=0;u<o.length;u+=1)C(s[u]);se(()=>{a&&(l&&l.end(1),t=oe(e,re,{delay:Ke}),t.start())}),a=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)A(s[u]);t&&t.invalidate(),l=ke(e,Ee,n[2]&&n[3]?{y:20,duration:1200,easing:Ce}:{}),a=!1},d(c){c&&h(e),Ie(s,c),c&&l&&l.end()}}}function ge(n){let e,t;return e=new He({props:{name:n[14].name,collected:n[1](n[14]),index:n[16],hash:n[14].hash||"",img:n[14].image_url||void 0}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,a){Z(e,l,a),t=!0},p(l,a){const o={};a&1&&(o.name=l[14].name),a&3&&(o.collected=l[1](l[14])),a&1&&(o.hash=l[14].hash||""),a&1&&(o.img=l[14].image_url||void 0),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function pe(n){let e,t,l;return t=new Be({}),{c(){e=y("div"),F(t.$$.fragment),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=T(e);W(t.$$.fragment,o),o.forEach(h),this.h()},h(){d(e,"class","my-auto mt-4 flex flex-col items-center justify-end space-y-4")},m(a,o){w(a,e,o),Z(t,e,null),l=!0},i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&h(e),J(t)}}}function Je(n){let e,t,l,a="Stamps",o,s,f,c,u,r,i,b,E;const k=[Ze,We],I=[];function x(_,v){return _[3]?0:1}s=x(n),f=I[s]=k[s](n);let m=!n[2]&&_e(n),g=n[2]&&pe();return{c(){e=y("div"),t=y("div"),l=y("h1"),l.textContent=a,o=V(),f.c(),c=V(),m&&m.c(),u=V(),g&&g.c(),r=q(),this.h()},l(_){e=S(_,"DIV",{class:!0});var v=T(e);t=S(v,"DIV",{class:!0});var j=T(t);l=S(j,"H1",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-glc03r"&&(l.textContent=a),o=R(j),f.l(j),j.forEach(h),c=R(v),m&&m.l(v),v.forEach(h),u=R(_),g&&g.l(_),r=q(),this.h()},h(){d(l,"class","text-center font-geologica text-4xl font-bold text-primary"),d(t,"class","flex flex-col justify-center space-y-6 pb-8 pt-4 shadow-md"),G(t,"animate-pulse",n[4]&&n[3]),G(t,"border-b-2",n[2]),G(t,"border-dashed",n[2]),G(t,"border-slate-900",n[2]),d(e,"class","mx-8 my-4 mb-8 divide-y-2 divide-dashed divide-slate-900 rounded-xl bg-slate-100")},m(_,v){w(_,e,v),p(e,t),p(t,l),p(t,o),I[s].m(t,null),p(e,c),m&&m.m(e,null),w(_,u,v),g&&g.m(_,v),w(_,r,v),i=!0,b||(E=[$(t,"touchstart",n[5]),$(t,"touchend",n[6]),$(t,"touchcancel",n[7],{passive:!0})],b=!0)},p(_,[v]){let j=s;s=x(_),s!==j&&(ee(),A(I[j],1,1,()=>{I[j]=null}),te(),f=I[s],f||(f=I[s]=k[s](_),f.c()),C(f,1),f.m(t,null)),(!i||v&24)&&G(t,"animate-pulse",_[4]&&_[3]),(!i||v&4)&&G(t,"border-b-2",_[2]),(!i||v&4)&&G(t,"border-dashed",_[2]),(!i||v&4)&&G(t,"border-slate-900",_[2]),_[2]?m&&(ee(),A(m,1,1,()=>{m=null}),te()):m?(m.p(_,v),v&4&&C(m,1)):(m=_e(_),m.c(),C(m,1),m.m(e,null)),_[2]?g?v&4&&C(g,1):(g=pe(),g.c(),C(g,1),g.m(r.parentNode,r)):g&&(ee(),A(g,1,1,()=>{g=null}),te())},i(_){i||(C(f),C(m),C(g),i=!0)},o(_){A(f),A(m),A(g),i=!1},d(_){_&&(h(e),h(u),h(r)),I[s].d(),m&&m.d(),g&&g.d(_),b=!1,ye(E)}}}const Ke=500,Xe=1e3;function $e(n,e,t){let{stamps:l=[]}=e,a=function(m){return!1},o=function(){},s=!0,f=!1;function c(){return Ae()>=Te}ve(()=>{t(1,a=function(m){const g=Se(Pe);return g==null?void 0:g[m.hash||""]}),o=function(){localStorage.setItem("isStampSheetTorn","yes"),t(2,s=!0)},c()&&(console.log("All stamps collected!"),t(3,f=!0)),t(2,s=localStorage.getItem("isStampSheetTorn")==="yes")});let u,r,i,b=!1,E;function k(m){m.touches.length===2&&f&&(u=new Date().getTime(),i=m.touches.length,t(4,b=!0),E=setTimeout(()=>{o()},2e3))}function I(m){i===2&&(r=new Date().getTime(),r-u>=Xe&&console.log("Two-finger tap for at least 2 seconds detected!")),t(4,b=!1),clearTimeout(E)}function x(){i=0,t(4,b=!1),clearTimeout(E)}return n.$$set=m=>{"stamps"in m&&t(0,l=m.stamps)},[l,a,s,f,b,k,I,x]}class et extends B{constructor(e){super(),Q(this,e,$e,Je,z,{stamps:0})}}function tt(n){let e,t;return e=new et({props:{stamps:n[0]}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,a){Z(e,l,a),t=!0},p(l,[a]){const o={};a&1&&(o.stamps=l[0]),e.$set(o)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function lt(n,e,t){let l,a;return be(n,Le,o=>t(1,a=o)),n.$$.update=()=>{n.$$.dirty&2&&t(0,l=Object.entries(a).map(([o,s])=>({...s,hash:o})))},[l,a]}class dt extends B{constructor(e){super(),Q(this,e,lt,tt,z,{})}}export{dt as component,ut as universal};
